"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2434],{92825:(e,t,n)=>{let a,l;n.r(t),n.d(t,{Account:()=>hk,ActionsProvider:()=>hP,AppHeader:()=>hZ,ArrayField:()=>pH,AuthProvider:()=>ai,Banner:()=>eq,BlocksDrawer:()=>oa,BlocksField:()=>ou,BulkUploadDrawer:()=>pf,BulkUploadProvider:()=>pg,Button:()=>ti,CalendarIcon:()=>s.m,Card:()=>h0,CheckIcon:()=>lN,CheckboxField:()=>lT,CheckboxInput:()=>lD,ChevronIcon:()=>eW,ClientFunctionProvider:()=>mV,CloseMenuIcon:()=>hD,CodeBlockIcon:()=>mT,CodeEdiftor:()=>i.i,CodeEditorLazy:()=>oh,CodeField:()=>om,Collapsible:()=>lY,CollapsibleField:()=>ox,ConfigProvider:()=>i.a,ConfirmPasswordField:()=>pW,ConfirmationModal:()=>at,CopyIcon:()=>lL,CopyLocaleData:()=>h3,CopyToClipboard:()=>dQ,DateCondition:()=>fz,DatePicker:()=>s.n,DateTimeField:()=>sA,DefaultBlockImage:()=>l8,DefaultCell:()=>cH,DefaultEditView:()=>gw,DefaultListView:()=>gr,DeleteMany:()=>fn,DocumentControls:()=>fk,DocumentEventsProvider:()=>dD,DocumentFields:()=>dR,DocumentInfoProvider:()=>lg,DocumentLocked:()=>hb,DocumentTakeOver:()=>hh,DragHandleIcon:()=>lB,Drawer:()=>n4,DrawerToggler:()=>n5,Dropzone:()=>dt,EditDepthProvider:()=>tI,EditIcon:()=>eY,EditMany:()=>fT,EditUpload:()=>dY,EmailAndUsernameFields:()=>m7,EmailField:()=>sL,EntityVisibilityProvider:()=>mK,ErrorIcon:()=>mL,ErrorPill:()=>tT,ExternalLinkIcon:()=>mO,FieldDescription:()=>tA,FieldDiffLabel:()=>gC,FieldError:()=>tL,FieldLabel:()=>aw,File:()=>cR,FileDetails:()=>d1,Form:()=>uK,FormLoadingOverlayToggle:()=>cp,FormSubmit:()=>fp,FullscreenModal:()=>fR,GenerateConfirmation:()=>fA,GroupField:()=>sY,Gutter:()=>n1,Hamburger:()=>hR,HiddenField:()=>sK,HydrateAuthProvider:()=>fL,InfoIcon:()=>mM,JSONField:()=>c4,JoinField:()=>c5,LeaveWithoutSaving:()=>hu,LineIcon:()=>lE,Link:()=>eU,LinkIcon:()=>eK,ListControls:()=>mc,ListDrawerContextProvider:()=>s$,ListHeader:()=>mb,ListQueryProvider:()=>s3,ListSelection:()=>mh,LoadingOverlay:()=>cu,LoadingOverlayToggle:()=>cd,LocaleProvider:()=>ag,Locked:()=>fc,LogOutIcon:()=>mx,Logout:()=>my,MenuIcon:()=>hO,MinimizeMaximizeIcon:()=>mA,Modal:()=>nu,MoreIcon:()=>lM,NavGroup:()=>mC,NavToggler:()=>hH,NullifyLocaleField:()=>lR,NumberCondition:()=>fV,NumberField:()=>c8,OperationProvider:()=>lb,Pagination:()=>cJ,ParamsProvider:()=>mQ,PasswordField:()=>pG,PayloadIcon:()=>hq,PerPage:()=>m_,Pill:()=>l$,PlusIcon:()=>eG,PointField:()=>c7,Popup:()=>ta,PopupList:()=>eQ,PreferencesProvider:()=>ad,PreviewButton:()=>fd,PreviewSizes:()=>d5,ProgressBar:()=>mW,PublishButton:()=>fx,PublishMany:()=>mu,QueryPresetsAccessCell:()=>hn,QueryPresetsColumnField:()=>ha,QueryPresetsColumnsCell:()=>p7,QueryPresetsWhereCell:()=>ht,QueryPresetsWhereField:()=>hr,RadioGroupField:()=>ua,ReactSelect:()=>sD,RelationshipCondition:()=>fW,RelationshipField:()=>uj,RelationshipProvider:()=>ck,RelationshipTable:()=>c2,RenderCustomComponent:()=>el,RenderDefaultCell:()=>cK,RenderFields:()=>pB,RenderTitle:()=>mE,RichTextField:()=>uS,RootProvider:()=>m9,RouteCacheProvider:()=>h4,RouteTransitionProvider:()=>eM,RowField:()=>u_,RowLabel:()=>eL,RowLabelProvider:()=>eR,SaveButton:()=>fy,SaveDraftButton:()=>fw,ScrollInfoProvider:()=>m1,SearchFilter:()=>fB,SearchIcon:()=>l9,SearchParamsProvider:()=>m5,SectionTitle:()=>or,Select:()=>sD,SelectAll:()=>gt,SelectCondition:()=>fY,SelectField:()=>uE,SelectInput:()=>uk,SelectMany:()=>gl,SelectRow:()=>ga,SelectionProvider:()=>fe,ServerFunctionsProvider:()=>s4,SetDocumentStepNav:()=>gb,SetDocumentTitle:()=>gx,SetStepNav:()=>hG,ShimmerEffect:()=>i.d,SortColumn:()=>mD,StaggeredShimmers:()=>i.e,SuccessIcon:()=>mI,SwapIcon:()=>eX,TabComponent:()=>uX,Table:()=>ff,TableColumnsProvider:()=>s7,TabsField:()=>uZ,TabsProvider:()=>sz,TextCondition:()=>fG,TextField:()=>u4,TextInput:()=>u3,TextareaField:()=>u9,TextareaInput:()=>u8,ThemeProvider:()=>i.g,Thumbnail:()=>cL,TimezonePicker:()=>sT,Tooltip:()=>tl,Translation:()=>hy,TranslationProvider:()=>s.c,UIField:()=>u7,UnpublishMany:()=>md,Upload:()=>pt,UploadEditsProvider:()=>ls,UploadField:()=>pM,UploadHandlersProvider:()=>uL,UploadInput:()=>pL,ViewDescription:()=>hw,WarningIcon:()=>mF,WatchChildErrors:()=>ov,WatchCondition:()=>lC,WindowInfoProvider:()=>m2,XIcon:()=>s.a,allFieldComponents:()=>pQ,defaultTheme:()=>i.f,documentDrawerBaseClass:()=>cx,fieldBaseClass:()=>l_,fieldComponents:()=>pX,fieldReducer:()=>uH,formatDrawerSlug:()=>n6,parseSearchParams:()=>sJ,toast:()=>nG,useActions:()=>hE,useAddClientFunction:()=>mU,useAllFormFields:()=>eO,useAuth:()=>as,useBulkUpload:()=>pv,useBulkUploadDrawerSlug:()=>pb,useCellProps:()=>cY,useClientFunctions:()=>mH,useCollapsible:()=>lq,useConfig:()=>i.b,useDebounce:()=>al,useDebouncedCallback:()=>ur,useDebouncedEffect:()=>uT,useDelay:()=>i.c,useDelayedRender:()=>ca,useDocumentDrawer:()=>cj,useDocumentDrawerContext:()=>cv,useDocumentEvents:()=>dO,useDocumentForm:()=>ej,useDocumentInfo:()=>lf,useDrawerSlug:()=>n2,useEditDepth:()=>tF,useEffectEvent:()=>sX,useEntityVisibility:()=>mG,useField:()=>ly,useForm:()=>eC,useFormBackgroundProcessing:()=>eN,useFormFields:()=>eD,useFormInitializing:()=>eP,useFormModified:()=>eE,useFormProcessing:()=>ek,useFormSubmitted:()=>e_,useHotkey:()=>p2,useIntersect:()=>e7,useListDrawer:()=>pS,useListDrawerContext:()=>sZ,useListQuery:()=>s1,useListRelationships:()=>cN,useLocale:()=>ab,useModal:()=>t6,useNav:()=>hB,useOperation:()=>lx,useParams:()=>m$,usePayloadAPI:()=>p4,usePreferences:()=>ap,useResize:()=>p8,useRouteCache:()=>h8,useRouteTransition:()=>eF,useRowLabel:()=>eA,useScrollInfo:()=>mJ,useSearchParams:()=>m4,useSelection:()=>ft,useServerFunctions:()=>s5,useStepNav:()=>hW,useTableColumns:()=>s9,useTheme:()=>i.h,useThrottledEffect:()=>aS,useTranslation:()=>s.d,useUploadEdits:()=>lc,useUploadHandlers:()=>uM,useUseTitleField:()=>p9,useWatchForm:()=>eS,useWindowInfo:()=>m3,withCondition:()=>lj});var o=n(12115),r=n(47650),i=n(25866),s=n(77168),c=n(8667),u=n(95155),d=n(19749),p=n(78466),h=n(6874),f=n(35695),m=n(75143),g=n(6001),v=n(46205),b=n(5394),x=n(23999),y=n(64914),w=n(2133),C=n(29710),j=n(53034),S=n(95546),_=n(30195),k=n(17819),N=n(89349),E=n(24627),P=n(844),D=n(74619),O=n(15526),T=n(14994),R=n(45064),A=n(59020),L=n(67144),M=n(43961);n(54534);var I=n(75004),F=n(48493),B=n(31233),z=n(43030),V=n(88473),U=n(14912),H=n(17311),q=n(8301),W=n(49509),Y=n(44134).hp,K=(0,c.c)(e=>{function t(e,t){var n=e.length;for(e.push(t);0<n;){var a=n-1>>>1,o=e[a];if(0<l(o,t))e[a]=t,e[n]=o,n=a;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var a=0,o=e.length,r=o>>>1;a<r;){var i=2*(a+1)-1,s=e[i],c=i+1,u=e[c];if(0>l(s,n))c<o&&0>l(u,s)?(e[a]=u,e[c]=n,a=c):(e[a]=s,e[i]=n,a=i);else if(c<o&&0>l(u,n))e[a]=u,e[c]=n,a=c;else break}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now?(s=performance,e.unstable_now=function(){return s.now()}):(u=(c=Date).now(),e.unstable_now=function(){return c.now()-u});var o,r,i,s,c,u,d=[],p=[],h=1,f=null,m=3,g=!1,v=!1,b=!1,x="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="u">typeof setImmediate?setImmediate:null;function C(e){for(var l=n(p);null!==l;){if(null===l.callback)a(p);else if(l.startTime<=e)a(p),l.sortIndex=l.expirationTime,t(d,l);else break;l=n(p)}}function j(e){if(b=!1,C(e),!v)if(null!==n(d))v=!0,D();else{var t=n(p);null!==t&&O(j,t.startTime-e)}}var S=!1,_=-1,k=5,N=-1;function E(){return!(e.unstable_now()-N<k)}function P(){if(S){var t=e.unstable_now();N=t;var l=!0;try{e:{v=!1,b&&(b=!1,y(_),_=-1),g=!0;var r=m;try{t:{for(C(t),f=n(d);null!==f&&!(f.expirationTime>t&&E());){var i=f.callback;if("function"==typeof i){f.callback=null,m=f.priorityLevel;var s=i(f.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){f.callback=s,C(t),l=!0;break t}f===n(d)&&a(d),C(t)}else a(d);f=n(d)}if(null!==f)l=!0;else{var c=n(p);null!==c&&O(j,c.startTime-t),l=!1}}break e}finally{f=null,m=r,g=!1}}}finally{l?o():S=!1}}}function D(){S||(S=!0,o())}function O(t,n){_=x(function(){t(e.unstable_now())},n)}"function"==typeof w?o=function(){w(P)}:"u">typeof MessageChannel?(i=(r=new MessageChannel).port2,r.port1.onmessage=P,o=function(){i.postMessage(null)}):o=function(){x(P,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,D())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(a,l,o){var r=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?r+o:r,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=0x3fffffff;break;case 4:i=1e4;break;default:i=5e3}return i=o+i,a={id:h++,callback:l,priorityLevel:a,startTime:o,expirationTime:i,sortIndex:-1},o>r?(a.sortIndex=o,t(p,a),null===n(d)&&a===n(p)&&(b?(y(_),_=-1):b=!0,O(j,o-r))):(a.sortIndex=i,t(d,a),v||g||(v=!0,D())),a},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}),G=(0,c.c)((e,t)=>{t.exports=K()}),X=(0,c.c)(e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,l=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,f=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case l:case r:case o:case p:return e;default:switch(e=e&&e.$$typeof){case s:case d:case m:case f:case i:return e;default:return t}}case a:return t}}}function w(e){return y(e)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=s,e.ContextProvider=i,e.Element=n,e.ForwardRef=d,e.Fragment=l,e.Lazy=m,e.Memo=f,e.Portal=a,e.Profiler=r,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(e){return w(e)||y(e)===c},e.isConcurrentMode=w,e.isContextConsumer=function(e){return y(e)===s},e.isContextProvider=function(e){return y(e)===i},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return y(e)===d},e.isFragment=function(e){return y(e)===l},e.isLazy=function(e){return y(e)===m},e.isMemo=function(e){return y(e)===f},e.isPortal=function(e){return y(e)===a},e.isProfiler=function(e){return y(e)===r},e.isStrictMode=function(e){return y(e)===o},e.isSuspense=function(e){return y(e)===p},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===l||e===u||e===r||e===o||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===i||e.$$typeof===s||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},e.typeOf=y}),Q=(0,c.c)((e,t)=>{t.exports=X()}),$=(0,c.c)((e,t)=>{var n=Q(),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function i(e){return n.isMemo(e)?o:r[e.$$typeof]||a}r[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[n.Memo]=o;var s=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,a){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,a)}var r=c(n);u&&(r=r.concat(u(n)));for(var f=i(t),m=i(n),g=0;g<r.length;++g){var v=r[g];if(!l[v]&&!(a&&a[v])&&!(m&&m[v])&&!(f&&f[v])){var b=d(n,v);try{s(t,v,b)}catch(e){}}}}return t}}),Z=(0,c.c)((e,t)=>{var n=Math.floor(0xffffff*Math.random()),a=d.index=parseInt(0xffffff*Math.random(),10),l=(typeof W>"u"||"number"!=typeof W.pid?Math.floor(1e5*Math.random()):W.pid)%65535,o=(()=>{try{return _Buffer}catch(e){try{return Y}catch(e){return null}}})(),r=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},i=[];for(s=0;s<256;s++)i[s]=(s<=15?"0":"")+s.toString(16);var s,c=RegExp("^[0-9a-fA-F]{24}$"),u=[];for(s=0;s<10;)u[48+s]=s++;for(;s<16;)u[55+s]=u[87+s]=s++;function d(e){if(!(this instanceof d))return new d(e);if(e&&(e instanceof d||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=d.isValid(e);if(!t&&null!=e)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&"string"==typeof e&&24===e.length)return d.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&"function"==typeof e.toHexString)return e;throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}t.exports=d,d.default=d,d.createFromTime=function(e){var t,n;return new d((t=8,(8===(n=(n=e=parseInt(e,10)%0xffffffff).toString(16)).length?n:"00000000".substring(n.length,t)+n)+"0000000000000000"))},d.createFromHexString=function(e){if(typeof e>"u"||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",n=0;n<24;)t+=String.fromCharCode(u[e.charCodeAt(n++)]<<4|u[e.charCodeAt(n++)]);return new d(t)},d.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&c.test(e):e instanceof d||(r(e)?d.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!o&&(e.id instanceof o||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&c.test(e.id)))))},d.prototype={constructor:d,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(r(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=i[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof d?this.toString()===e.toString():"string"==typeof e&&d.isValid(e)&&12===e.length&&r(this.id)?e===this.id.toString("binary"):"string"==typeof e&&d.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&d.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof d||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=r(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%0xffffffff;var t=a=(a+1)%0xffffff;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,n>>16&255,n>>8&255,255&n,l>>8&255,255&l,t>>16&255,t>>8&255,255&t)}};var p=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";d.prototype[p]=function(){return"ObjectID("+this+")"},d.prototype.toJSON=d.prototype.toHexString,d.prototype.toString=d.prototype.toHexString}),J=(0,c.c)((e,t)=>{function n(e){return void 0===e}function a(e){return e===Object(e)}function l(e){return Array.isArray(e)}function o(e,t){return t?a(e)&&!n(e.uri):a(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function r(e){return!n(e)&&e}t.exports={serialize:function e(t,i,s,c){i=i||{},s=s||new FormData,i.indices=r(i.indices),i.nullsAsUndefineds=r(i.nullsAsUndefineds),i.booleansAsIntegers=r(i.booleansAsIntegers),i.allowEmptyArrays=r(i.allowEmptyArrays),i.noAttributesWithArrayNotation=r(i.noAttributesWithArrayNotation),i.noFilesWithArrayNotation=r(i.noFilesWithArrayNotation),i.dotsForObjectNotation=r(i.dotsForObjectNotation);let u="function"==typeof s.getParts;return n(t)||(null===t?i.nullsAsUndefineds||s.append(c,""):"boolean"==typeof t?i.booleansAsIntegers?s.append(c,+!!t):s.append(c,t):l(t)?t.length?t.forEach((t,n)=>{var l;let r=c+"["+(i.indices?n:"")+"]";(i.noAttributesWithArrayNotation||i.noFilesWithArrayNotation&&o(l=t,u)&&"string"==typeof l.name&&(a(l.lastModifiedDate)||"number"==typeof l.lastModified))&&(r=c),e(t,i,s,r)}):i.allowEmptyArrays&&s.append(i.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?s.append(c,t.toISOString()):a(t)&&!o(t,u)?Object.keys(t).forEach(n=>{let a=t[n];if(l(a))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);let o=c?i.dotsForObjectNotation?c+"."+n:c+"["+n+"]":n;e(a,i,s,o)}):s.append(c,t)),s}}}),ee=(0,c.c)((e,t)=>{!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&n.rotl(e,8)|0xff00ff00&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],a=0;a<t.length;a+=3)for(var l=t[a]<<16|t[a+1]<<8|t[a+2],o=0;o<4;o++)8*a+6*o<=8*t.length?n.push(e.charAt(l>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],a=0,l=0;a<t.length;l=++a%4)0!=l&&n.push((e.indexOf(t.charAt(a-1))&Math.pow(2,-2*l+8)-1)<<2*l|e.indexOf(t.charAt(a))>>>6-2*l);return n}};t.exports=n}()}),et=(0,c.c)((e,t)=>{var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n}),en=(0,c.c)((e,t)=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){var t;return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer)}}),ea=(0,c.c)((e,t)=>{!function(){var e=ee(),n=et().utf8,a=en(),l=et().bin,o=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?l.stringToBytes(t):n.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=e.bytesToWords(t),s=8*t.length,c=0x67452301,u=-0x10325477,d=-0x67452302,p=0x10325476,h=0;h<i.length;h++)i[h]=(i[h]<<8|i[h]>>>24)&0xff00ff|(i[h]<<24|i[h]>>>8)&0xff00ff00;i[s>>>5]|=128<<s%32,i[(s+64>>>9<<4)+14]=s;for(var f=o._ff,m=o._gg,g=o._hh,v=o._ii,h=0;h<i.length;h+=16){var b=c,x=u,y=d,w=p;c=f(c,u,d,p,i[h+0],7,-0x28955b88),p=f(p,c,u,d,i[h+1],12,-0x173848aa),d=f(d,p,c,u,i[h+2],17,0x242070db),u=f(u,d,p,c,i[h+3],22,-0x3e423112),c=f(c,u,d,p,i[h+4],7,-0xa83f051),p=f(p,c,u,d,i[h+5],12,0x4787c62a),d=f(d,p,c,u,i[h+6],17,-0x57cfb9ed),u=f(u,d,p,c,i[h+7],22,-0x2b96aff),c=f(c,u,d,p,i[h+8],7,0x698098d8),p=f(p,c,u,d,i[h+9],12,-0x74bb0851),d=f(d,p,c,u,i[h+10],17,-42063),u=f(u,d,p,c,i[h+11],22,-0x76a32842),c=f(c,u,d,p,i[h+12],7,0x6b901122),p=f(p,c,u,d,i[h+13],12,-0x2678e6d),d=f(d,p,c,u,i[h+14],17,-0x5986bc72),u=f(u,d,p,c,i[h+15],22,0x49b40821),c=m(c,u,d,p,i[h+1],5,-0x9e1da9e),p=m(p,c,u,d,i[h+6],9,-0x3fbf4cc0),d=m(d,p,c,u,i[h+11],14,0x265e5a51),u=m(u,d,p,c,i[h+0],20,-0x16493856),c=m(c,u,d,p,i[h+5],5,-0x29d0efa3),p=m(p,c,u,d,i[h+10],9,0x2441453),d=m(d,p,c,u,i[h+15],14,-0x275e197f),u=m(u,d,p,c,i[h+4],20,-0x182c0438),c=m(c,u,d,p,i[h+9],5,0x21e1cde6),p=m(p,c,u,d,i[h+14],9,-0x3cc8f82a),d=m(d,p,c,u,i[h+3],14,-0xb2af279),u=m(u,d,p,c,i[h+8],20,0x455a14ed),c=m(c,u,d,p,i[h+13],5,-0x561c16fb),p=m(p,c,u,d,i[h+2],9,-0x3105c08),d=m(d,p,c,u,i[h+7],14,0x676f02d9),u=m(u,d,p,c,i[h+12],20,-0x72d5b376),c=g(c,u,d,p,i[h+5],4,-378558),p=g(p,c,u,d,i[h+8],11,-0x788e097f),d=g(d,p,c,u,i[h+11],16,0x6d9d6122),u=g(u,d,p,c,i[h+14],23,-0x21ac7f4),c=g(c,u,d,p,i[h+1],4,-0x5b4115bc),p=g(p,c,u,d,i[h+4],11,0x4bdecfa9),d=g(d,p,c,u,i[h+7],16,-0x944b4a0),u=g(u,d,p,c,i[h+10],23,-0x41404390),c=g(c,u,d,p,i[h+13],4,0x289b7ec6),p=g(p,c,u,d,i[h+0],11,-0x155ed806),d=g(d,p,c,u,i[h+3],16,-0x2b10cf7b),u=g(u,d,p,c,i[h+6],23,0x4881d05),c=g(c,u,d,p,i[h+9],4,-0x262b2fc7),p=g(p,c,u,d,i[h+12],11,-0x1924661b),d=g(d,p,c,u,i[h+15],16,0x1fa27cf8),u=g(u,d,p,c,i[h+2],23,-0x3b53a99b),c=v(c,u,d,p,i[h+0],6,-0xbd6ddbc),p=v(p,c,u,d,i[h+7],10,0x432aff97),d=v(d,p,c,u,i[h+14],15,-0x546bdc59),u=v(u,d,p,c,i[h+5],21,-0x36c5fc7),c=v(c,u,d,p,i[h+12],6,0x655b59c3),p=v(p,c,u,d,i[h+3],10,-0x70f3336e),d=v(d,p,c,u,i[h+10],15,-1051523),u=v(u,d,p,c,i[h+1],21,-0x7a7ba22f),c=v(c,u,d,p,i[h+8],6,0x6fa87e4f),p=v(p,c,u,d,i[h+15],10,-0x1d31920),d=v(d,p,c,u,i[h+6],15,-0x5cfebcec),u=v(u,d,p,c,i[h+13],21,0x4e0811a1),c=v(c,u,d,p,i[h+4],6,-0x8ac817e),p=v(p,c,u,d,i[h+11],10,-0x42c50dcb),d=v(d,p,c,u,i[h+2],15,0x2ad7d2bb),u=v(u,d,p,c,i[h+9],21,-0x14792c6f),c=c+b>>>0,u=u+x>>>0,d=d+y>>>0,p=p+w>>>0}return e.endian([c,u,d,p])};o._ff=function(e,t,n,a,l,o,r){var i=e+(t&n|~t&a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._gg=function(e,t,n,a,l,o,r){var i=e+(t&a|n&~a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._hh=function(e,t,n,a,l,o,r){var i=e+(t^n^a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._ii=function(e,t,n,a,l,o,r){var i=e+(n^(t|~a))+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw Error("Illegal argument "+t);var a=e.wordsToBytes(o(t,n));return n&&n.asBytes?a:n&&n.asString?l.bytesToString(a):e.bytesToHex(a)}}()});function el(e){let{CustomComponent:t,Fallback:n}=e;return void 0!==t?t:n}var eo=(0,c.e)(G(),1),er=Symbol(),ei=Symbol(),es=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?o.useEffect:o.useLayoutEffect,ec=eo.unstable_runWithPriority?e=>{try{(0,eo.unstable_runWithPriority)(eo.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),eu=e=>t=>{let{value:n,children:a}=t,l=(0,o.useRef)(n),r=(0,o.useRef)(0),[i,s]=(0,o.useState)(null);i&&(i(n),s(null));let c=(0,o.useRef)();if(!c.current){let e=new Set;c.current={[er]:{v:l,n:r,l:e,u:(t,n)=>{r.current+=1;let a={n:r.current};(null==n?void 0:n.suspense)&&(a.n*=-1,a.p=new Promise(e=>{s(()=>t=>{a.v=t,delete a.p,e(t)})})),e.forEach(e=>e(a)),t()}}}}return es(()=>{l.current=n,r.current+=1,ec(()=>{c.current[er].l.forEach(e=>{e({n:r.current,v:n})})})},[n]),(0,o.createElement)(e,{value:c.current},a)},ed=e=>e;function ep(e,t){let{v:{current:n},n:{current:a},l:l}=(0,o.useContext)(e)[er],r=t(n),[i,s]=(0,o.useReducer)((e,l)=>{if(!l)return[n,r];if("p"in l)throw l.p;if(l.n===a)return Object.is(e[1],r)?e:[n,r];try{if("v"in l){if(Object.is(e[0],l.v))return e;let n=t(l.v);return Object.is(e[1],n)?e:[l.v,n]}}catch(e){}return[...e]},[n,r]);return Object.is(i[1],r)||s(),es(()=>(l.add(s),()=>{l.delete(s)}),[l]),i[1]}var eh=(0,o.createContext)({}),ef=(0,o.createContext)({}),em=(0,o.createContext)({}),eg=(0,o.createContext)(!1),ev=(0,o.createContext)(!1),eb=(0,o.createContext)(!1),ex=(0,o.createContext)(!1),ey=(0,o.createContext)(!1),ew=function(e){let t=(0,o.createContext)({[er]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return t[ei]=t.Provider,t.Provider=eu(t.Provider),delete t.Consumer,t}([{},()=>null]),eC=()=>(0,o.use)(eh),ej=()=>(0,o.use)(ef),eS=()=>(0,o.use)(em),e_=()=>(0,o.use)(eg),ek=()=>(0,o.use)(ev),eN=()=>(0,o.use)(eb),eE=()=>(0,o.use)(ex),eP=()=>(0,o.use)(ey),eD=e=>ep(ew,e),eO=()=>ep(ew,ed),eT=o.createContext({data:{},path:"",rowNumber:void 0}),eR=e=>{let{children:t,path:n,rowNumber:a}=e,{getDataByPath:l,getSiblingData:o}=eS(),r=o(n),i=l(n)||r;return(0,u.jsx)(eT,{value:{data:i,path:n,rowNumber:a},children:t})},eA=()=>o.use(eT),eL=e=>{let{className:t,CustomComponent:n,label:a,path:l,rowNumber:o}=e;return(0,u.jsx)(eR,{path:l,rowNumber:o,children:(0,u.jsx)(el,{CustomComponent:n,Fallback:"string"==typeof a?(0,u.jsx)("span",{className:["row-label",t].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:a}):a})})},eM=e=>{let t,n=(0,d.c)(11),{children:a}=e,[l,r]=(0,o.useOptimistic)(!1),[i,s]=o.useState(0),c=(0,o.useRef)(i),p=(0,o.useRef)(null),h;n[0]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{p.current=setInterval(()=>{let e=c.current+(.93-c.current)*Math.random()*.2*Math.pow(Math.log(1+(1-c.current)*.75),.75);s(e),c.current=e},250)},n[0]=h):h=n[0];let f=h,m,g;n[1]!==l?(m=()=>{s(0),c.current=0,l?f():p.current&&clearInterval(p.current)},g=[l,f],n[1]=l,n[2]=m,n[3]=g):(m=n[2],g=n[3]),(0,o.useEffect)(m,g),n[4]!==r?(t=e=>{(0,o.startTransition)(()=>{r(!0),"function"==typeof e&&e()})},n[4]=r,n[5]=t):t=n[5];let v=t,b;return n[6]!==a||n[7]!==l||n[8]!==v||n[9]!==i?(b=(0,u.jsx)(eI,{value:{isTransitioning:l,startRouteTransition:v,transitionProgress:i},children:a}),n[6]=a,n[7]=l,n[8]=v,n[9]=i,n[10]=b):b=n[10],b},eI=o.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),eF=()=>o.use(eI),eB=/https?|ftp|gopher|file/;function ez(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}var eV=h.default||h,eU=e=>{let{children:t,href:n,onClick:a,preventDefault:l=!0,ref:o,replace:r,scroll:i,...s}=e,c=(0,f.useRouter)(),{startRouteTransition:d}=eF();return(0,u.jsx)(eV,{href:n,onClick:e=>{(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which})(e)||(a&&a(e),l&&e.preventDefault(),d(()=>{let e="string"==typeof n?n:function(e){var t;let n,{auth:a}=e,{hostname:l}=e,o=e.protocol||"",r=e.pathname||"",i=e.hash||"",s=e.query||"",c=!1;a=a?encodeURIComponent(a).replace(/%3A/i,":")+"@":"",e.host?c=a+e.host:l&&(c=a+(~l.indexOf(":")?"[".concat(l,"]"):l),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String((t=s,n=new URLSearchParams,Object.entries(t).forEach(e=>{let[t,a]=e;Array.isArray(a)?a.forEach(e=>n.append(t,ez(e))):n.set(t,ez(a))}),n)));let u=e.search||s&&"?".concat(s)||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||eB.test(o))&&!1!==c?(c="//"+(c||""),r&&"/"!==r[0]&&(r="/"+r)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),r=r.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),"".concat(o).concat(c).concat(r).concat(u).concat(i)}(n);r?c.replace(e,{scroll:i}):c.push(e,{scroll:i})}))},ref:o,...s,children:t})},eH="banner",eq=e=>{let{type:t="default",alignIcon:n="right",children:a,className:l,icon:r,onClick:i,to:s}=e,c=[eH,"".concat(eH,"--type-").concat(t),l&&l,s&&"".concat(eH,"--has-link"),(s||i)&&"".concat(eH,"--has-action"),r&&"".concat(eH,"--has-icon"),r&&"".concat(eH,"--align-icon-").concat(n)].filter(Boolean).join(" "),d="div";return i&&!s&&(d="button"),s&&(d=eU),(0,u.jsxs)(d,{className:c,href:s||null,onClick:i,children:[r&&"left"===n&&(0,u.jsx)(o.Fragment,{children:r}),(0,u.jsx)("span",{className:"".concat(eH,"__content"),children:a}),r&&"right"===n&&(0,u.jsx)(o.Fragment,{children:r})]})},eW=e=>{let{ariaLabel:t,className:n,direction:a,size:l}=e;return(0,u.jsx)("svg",{"aria-label":t,className:["icon icon--chevron",n,l&&"icon--size-".concat(l)].filter(Boolean).join(" "),height:"100%",style:{transform:"left"===a?"rotate(90deg)":"right"===a?"rotate(-90deg)":"up"===a?"rotate(180deg)":void 0},viewBox:"0 0 22 12",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M1 1.12109L11 11.1211L21 1.12109",strokeLinecap:"square"})})},eY=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})})},eK=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})}),eG=()=>(0,u.jsx)("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})}),eX=()=>(0,u.jsx)("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})}),eQ={};(0,c.d)(eQ,{Button:()=>e1,ButtonGroup:()=>e0,Divider:()=>e$,GroupLabel:()=>eZ});var e$=()=>(0,u.jsx)("hr",{className:"popup-divider"}),eZ=e=>{let{label:t}=e;return(0,u.jsx)("p",{className:"popup-list-group-label",children:t})},eJ="popup-button-list",e0=e=>{let{buttonSize:t="default",children:n,className:a,textAlign:l="left"}=e,o=[eJ,a,"".concat(eJ,"__text-align--").concat(l),"".concat(eJ,"__button-size--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:o,children:n})},e1=e=>{let{id:t,active:n,children:a,className:l,disabled:o,href:r,onClick:i}=e,s=["".concat(eJ,"__button"),n&&"".concat(eJ,"__button--selected"),l].filter(Boolean).join(" ");if(!o){if(r)return(0,u.jsx)(eU,{className:s,href:r,id:t,onClick:e=>{i&&i(e)},prefetch:!1,children:a});if(i)return(0,u.jsx)("button",{className:s,id:t,onClick:e=>{i&&i(e)},type:"button",children:a})}return(0,u.jsx)("div",{className:s,id:t,children:a})},e2={};(0,c.d)(e2,{WindowInfo:()=>e5,WindowInfoContext:()=>e3,WindowInfoProvider:()=>e8,useWindowInfo:()=>e6,withWindowInfo:()=>e9});var e3=(0,o.createContext)({}),e6=()=>(0,o.useContext)(e3),e5=e=>{let{children:t}=e,n=e6();return t?"function"==typeof t?o.createElement(o.Fragment,null,t(n)):o.createElement(o.Fragment,null,t):null},e4=(e,t)=>{let{payload:{breakpoints:n,animationRef:a}}=t;a.current=null;let{eventsFired:l}=e,{documentElement:{style:o,clientWidth:r,clientHeight:i}}=document,{innerWidth:s,innerHeight:c}=window,u="".concat(r/100,"px"),d="".concat(i/100,"px"),p=n?Object.keys(n).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:window.matchMedia(n[t]).matches}),{}):{};return o.setProperty("--vw",u),o.setProperty("--vh",d),{width:s,height:c,"--vw":u,"--vh":d,breakpoints:p,eventsFired:l+1}},e8=e=>{let{breakpoints:t,children:n}=e,a=(0,o.useRef)(null),[l,r]=(0,o.useReducer)(e4,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=(0,o.useCallback)(()=>{a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>r({type:"UPDATE",payload:{breakpoints:t,animationRef:a}}))},[t]),s=(0,o.useCallback)(()=>{setTimeout(()=>{i()},500)},[i]);return(0,o.useEffect)(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",s)}),[i,s]),(0,o.useEffect)(()=>{0===l.eventsFired&&r({type:"UPDATE",payload:{breakpoints:t,animationRef:a}})},[t,l]),o.createElement(e3.Provider,{value:Object.assign({},l)},n&&n)},e9=e=>t=>{let n=e6();return o.createElement(e,Object.assign({},t,{windowInfo:n}))},e7=(e,t)=>{let n,a=(0,d.c)(14),l;a[0]!==e?(l=void 0===e?{}:e,a[0]=e,a[1]=l):l=a[1];let{root:r,rootMargin:i,threshold:s}=l,c=void 0===r?null:r,u=void 0===i?"0px":i,p=void 0===s?0:s,[h,f]=(0,o.useState)(),[m,g]=(0,o.useState)(null),v;a[2]!==t||a[3]!==c||a[4]!==u||a[5]!==p?(v="u">typeof window&&"IntersectionObserver"in window&&!t?new window.IntersectionObserver(e=>{let[t]=e;return f(t)},{root:c,rootMargin:u,threshold:p}):null,a[2]=t,a[3]=c,a[4]=u,a[5]=p,a[6]=v):v=a[6];let b=(0,o.useRef)(v),x,y;return a[7]!==t||a[8]!==m?(x=()=>{if(t)return;let{current:e}=b;return e.disconnect(),m&&e.observe(m),()=>e.disconnect()},y=[m,t],a[7]=t,a[8]=m,a[9]=x,a[10]=y):(x=a[9],y=a[10]),(0,o.useEffect)(x,y),a[11]!==h||a[12]!==m?(n=[g,h,m],a[11]=h,a[12]=m,a[13]=n):n=a[13],n},te="popup-button",tt=e=>{let{active:t,button:n,buttonType:a,className:l,disabled:o,noBackground:r,setActive:i,size:s}=e,c=[te,l,"".concat(te,"--").concat(a),!r&&"".concat(te,"--background"),s&&"".concat(te,"--size-").concat(s),o&&"".concat(te,"--disabled")].filter(Boolean).join(" "),d=()=>{i(!t)};return"none"===a?null:"custom"===a?(0,u.jsx)("div",{className:c,onClick:d,onKeyDown:e=>{"Enter"===e.key&&d()},role:"button",tabIndex:0,children:n}):(0,u.jsx)("button",{className:c,disabled:o,onClick:d,onKeyDown:e=>{"Enter"===e.key&&d()},tabIndex:0,type:"button",children:n})},tn="popup",ta=e=>{let{id:t,boundingRef:n,button:a,buttonClassName:l,buttonSize:r,buttonType:i="default",caret:s=!0,children:c,className:d,disabled:p,forceOpen:h,horizontalAlign:f="left",initActive:m=!1,noBackground:g,onToggleOpen:v,render:b,showOnHover:x=!1,showScrollbar:y=!1,size:w="medium",verticalAlign:C="top"}=e,{height:j,width:S}=e6(),[_,k]=e7({root:(null==n?void 0:n.current)||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),N=(0,o.useRef)(null),[E,P]=(0,o.useState)(m),[D,O]=(0,o.useState)(C),[T,R]=(0,o.useState)(f),A=(0,o.useCallback)(e=>{let{horizontal:t=!1,vertical:a=!1}=e;if(N.current){let{bottom:e,left:l,right:o,top:r}=N.current.getBoundingClientRect(),i=100,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=0;(null==n?void 0:n.current)&&({bottom:c,left:u,right:s,top:i}=n.current.getBoundingClientRect()),t&&(o>s&&l>u?R("right"):l<u&&o<s&&R("left")),a&&(r<i&&e<c?O("bottom"):e>c&&r>i&&O("top"))}},[n]),L=(0,o.useCallback)(e=>{N.current.contains(e.target)||P(!1)},[N]);(0,o.useEffect)(()=>{A({horizontal:!0})},[k,A,S]),(0,o.useEffect)(()=>{A({vertical:!0})},[k,A,j]),(0,o.useEffect)(()=>("function"==typeof v&&v(E),E?document.addEventListener("mousedown",L):document.removeEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}),[E,L,v]),(0,o.useEffect)(()=>{P(h)},[h]);let M=[tn,d,"".concat(tn,"--size-").concat(w),r&&"".concat(tn,"--button-size-").concat(r),"".concat(tn,"--v-align-").concat(D),"".concat(tn,"--h-align-").concat(T),E&&"".concat(tn,"--active"),y&&"".concat(tn,"--show-scrollbar")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:M,id:t,children:[(0,u.jsx)("div",{className:"".concat(tn,"__trigger-wrap"),children:x?(0,u.jsx)("div",{className:"".concat(tn,"__on-hover-watch"),onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:(0,u.jsx)(tt,{active:E,button:a,buttonType:i,className:l,disabled:p,noBackground:g,setActive:P,size:r})}):(0,u.jsx)(tt,{active:E,button:a,buttonType:i,className:l,disabled:p,noBackground:g,setActive:P,size:r})}),(0,u.jsxs)("div",{className:"".concat(tn,"__content"),ref:N,children:[(0,u.jsx)("div",{className:"".concat(tn,"__hide-scrollbar"),ref:_,children:(0,u.jsx)("div",{className:"".concat(tn,"__scroll-container"),children:(0,u.jsxs)("div",{className:"".concat(tn,"__scroll-content"),children:[b&&b({close:()=>P(!1)}),c]})})}),s&&(0,u.jsx)("div",{className:"".concat(tn,"__caret")})]})]})},tl=e=>{let t,n,a,l=(0,d.c)(26),{alignCaret:r,boundingRef:i,children:s,className:c,delay:p,position:h,show:f,staticPositioning:m}=e,g=void 0===r?"center":r,v=void 0===p?350:p,b=void 0===f||f,x=void 0!==m&&m,[y,w]=o.useState(b),[C,j]=o.useState("top"),S=(null==i?void 0:i.current)||null,_;l[0]!==S?(_={root:S,rootMargin:"-145px 0px 0px 100px",threshold:0},l[0]=S,l[1]=_):_=l[1];let[k,N]=e7(_,x),E,P;if(l[2]!==v||l[3]!==b?(E=()=>{let e;return v&&b?e=setTimeout(()=>{w(b)},v):w(b),()=>{e&&clearTimeout(e)}},P=[b,v],l[2]=v,l[3]=b,l[4]=E,l[5]=P):(E=l[4],P=l[5]),(0,o.useEffect)(E,P),l[6]!==(null==N?void 0:N.isIntersecting)||l[7]!==x?(t=()=>{x||j((null==N?void 0:N.isIntersecting)?"top":"bottom")},l[6]=null==N?void 0:N.isIntersecting,l[7]=x,l[8]=t):t=l[8],l[9]!==N||l[10]!==x?(n=[N,x],l[9]=N,l[10]=x,l[11]=n):n=l[11],(0,o.useEffect)(t,n),l[12]!==g||l[13]!==s||l[14]!==c||l[15]!==C||l[16]!==h||l[17]!==k||l[18]!==y||l[19]!==x){let e=y&&"tooltip--show",t="tooltip--caret-".concat(g),n="tooltip--position-".concat(h||C),r;l[21]!==c||l[22]!==e||l[23]!==t||l[24]!==n?(r=["tooltip",c,e,t,n].filter(Boolean),l[21]=c,l[22]=e,l[23]=t,l[24]=n,l[25]=r):r=l[25],a=(0,u.jsxs)(o.Fragment,{children:[!x&&(0,u.jsx)("aside",{"aria-hidden":"true",className:["tooltip",c,"tooltip--caret-".concat(g),"tooltip--position-top"].filter(Boolean).join(" "),ref:k,style:{opacity:"0"},children:(0,u.jsx)("div",{className:"tooltip-content",children:s})}),(0,u.jsx)("aside",{className:r.join(" "),title:function(e){return"string"==typeof e?e:""}(s),children:(0,u.jsx)("div",{className:"tooltip-content",children:s})})]}),l[12]=g,l[13]=s,l[14]=c,l[15]=C,l[16]=h,l[17]=k,l[18]=y,l[19]=x,l[20]=a}else a=l[20];return a},to={chevron:eW,edit:eY,link:eK,plus:eG,swap:eX,x:s.a},tr=e=>{let{children:t,icon:n,showTooltip:a,tooltip:l}=e,r=to[n];return(0,u.jsxs)(o.Fragment,{children:[l&&(0,u.jsx)(tl,{className:"".concat("btn","__tooltip"),show:a,children:l}),(0,u.jsxs)("span",{className:"".concat("btn","__content"),children:[t&&(0,u.jsx)("span",{className:"".concat("btn","__label"),children:t}),n&&(0,u.jsxs)("span",{className:"".concat("btn","__icon"),children:[(0,o.isValidElement)(n)&&n,r&&(0,u.jsx)(r,{})]})]})]})},ti=e=>{let{id:t,type:n="button","aria-label":a,buttonStyle:l="primary",children:r,className:i,disabled:s,el:c="button",enableSubMenu:d,icon:p,iconPosition:h="right",iconStyle:f="without-border",newTab:m,onClick:g,onMouseDown:v,ref:b,round:x,size:y="medium",SubMenuPopupContent:w,to:C,tooltip:j,url:S}=e,[_,k]=o.useState(!1),N=["btn",i&&i,p&&"".concat("btn","--icon"),f&&"".concat("btn","--icon-style-").concat(f),p&&!r&&"".concat("btn","--icon-only"),y&&"".concat("btn","--size-").concat(y),p&&h&&"".concat("btn","--icon-position-").concat(h),j&&"".concat("btn","--has-tooltip"),!w&&"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),E=[l&&"".concat("btn","--style-").concat(l),s&&"".concat("btn","--disabled"),x&&"".concat("btn","--round"),w?"".concat("btn","--withPopup"):"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),P={id:t,type:n,"aria-disabled":s,"aria-label":a,className:w?N:[N,E].join(" "),disabled:s,onClick:s?void 0:function(e){k(!1),"submit"!==n&&g&&e.preventDefault(),g&&g(e)},onMouseDown:s?void 0:v,onPointerEnter:j?()=>k(!0):void 0,onPointerLeave:j?()=>k(!1):void 0,rel:m?"noopener noreferrer":void 0,target:m?"_blank":void 0},D,O;switch(c){case"anchor":D=(0,u.jsx)("a",{...P,href:s?void 0:S,ref:b,children:(0,u.jsx)(tr,{icon:p,showTooltip:_,tooltip:j,children:r})});break;case"link":s&&(D=(0,u.jsx)("div",{...P,children:(0,u.jsx)(tr,{icon:p,showTooltip:_,tooltip:j,children:r})})),D=(0,u.jsx)(eU,{...P,href:C||S,prefetch:O,children:(0,u.jsx)(tr,{icon:p,showTooltip:_,tooltip:j,children:r})});break;default:D=(0,u.jsx)(c,{ref:b,type:"submit",...P,children:(0,u.jsx)(tr,{icon:p,showTooltip:_,tooltip:j,children:r})})}return w?(0,u.jsxs)("div",{className:E,children:[D,(0,u.jsx)(ta,{button:(0,u.jsx)(eW,{}),buttonSize:y,className:s&&!d?"".concat("btn","--popup-disabled"):"",disabled:s&&!d,horizontalAlign:"right",id:"".concat(t,"-popup"),noBackground:!0,render:e=>{let{close:t}=e;return w({close:()=>t()})},size:"large",verticalAlign:"bottom"})]}):D},ts="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement?o.useLayoutEffect:o.useEffect,tc={},tu=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((e,t)=>{for(let[n,a]of Object.entries(t)){let t=e[n];null!=t&&(e[n]=t+-1*a)}return e},{...e})},td=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[td.Translate.toString(e),td.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}});function tp(e,t,n){let a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function th(e){return null!==e&&e>=0}var tf=e=>{let{rects:t,activeIndex:n,overIndex:a,index:l}=e,o=tp(t,a,n),r=t[l],i=o[l];return i&&r?{x:i.left-r.left,y:i.top-r.top,scaleX:i.width/r.width,scaleY:i.height/r.height}:null},tm="Sortable",tg=o.createContext({activeIndex:-1,containerId:tm,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tf,disabled:{draggable:!1,droppable:!1}});function tv(e){let{children:t,id:n,items:a,strategy:l=tf,disabled:r=!1}=e,{active:i,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=(0,m.fF)(),p=(0,o.useMemo)(()=>{if(n)return n;let e=null==tc[tm]?0:tc[tm]+1;return tc[tm]=e,tm+"-"+e},[tm,n]),h=null!==s.rect,f=(0,o.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),g=null!=i,v=i?f.indexOf(i.id):-1,b=u?f.indexOf(u.id):-1,x=(0,o.useRef)(f),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,x.current),w=-1!==b&&-1===v||y,C="boolean"==typeof r?{draggable:r,droppable:r}:r;ts(()=>{y&&g&&d(f)},[y,f,g,d]),(0,o.useEffect)(()=>{x.current=f},[f]);let j=(0,o.useMemo)(()=>({activeIndex:v,containerId:p,disabled:C,disableTransforms:w,items:f,overIndex:b,useDragOverlay:h,sortedRects:f.reduce((e,t,n)=>{let a=c.get(t);return a&&(e[n]=a),e},Array(f.length)),strategy:l}),[v,p,C.draggable,C.droppable,w,f,b,c,h,l]);return o.createElement(tg.Provider,{value:j},t)}var tb=e=>{let{id:t,items:n,activeIndex:a,overIndex:l}=e;return tp(n,a,l).indexOf(t)},tx=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:l,items:o,newIndex:r,previousItems:i,previousContainerId:s,transition:c}=e;return!!c&&!!a&&(i===o||l!==r)&&(!!n||r!==l&&t===s)},ty={duration:200,easing:"ease"},tw="transform",tC=td.Transition.toString({property:tw,duration:0,easing:"linear"}),tj={roleDescription:"sortable"};function tS(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var t_=[m.vL.Down,m.vL.Right,m.vL.Up,m.vL.Left],tk=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:l,droppableContainers:o,over:r,scrollableAncestors:i}}=t;if(t_.includes(e.code)){if(e.preventDefault(),!n||!a)return;let t=[];o.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let o=l.get(n.id);if(o)switch(e.code){case m.vL.Down:a.top<o.top&&t.push(n);break;case m.vL.Up:a.top>o.top&&t.push(n);break;case m.vL.Left:a.left>o.left&&t.push(n);break;case m.vL.Right:a.left<o.left&&t.push(n)}});let s=(0,m.y$)({active:n,collisionRect:a,droppableRects:l,droppableContainers:t,pointerCoordinates:null}),c=(0,m.Vy)(s,"id");if(c===(null==r?void 0:r.id)&&s.length>1&&(c=s[1].id),null!=c){let e=o.get(n.id),t=o.get(c),r=t?l.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&r&&e&&t){let n=(0,m.sl)(s).some((e,t)=>i[t]!==e),l=tN(e,t),o=function(e,t){return!!tS(e)&&!!tS(t)&&!!tN(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!l?{x:0,y:0}:{x:o?a.width-r.width:0,y:o?a.height-r.height:0},u={x:r.left,y:r.top};return c.x&&c.y?u:tu(u,c)}}}};function tN(e,t){return!!tS(e)&&!!tS(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var tE=e=>{let t,n,a=(0,d.c)(17),{id:l,disabled:r}=e,i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},a[0]=i):i=a[0],a[1]!==r||a[2]!==l?(t={id:l,disabled:r,transition:i},a[1]=r,a[2]=l,a[3]=t):t=a[3];let{attributes:s,isDragging:c,listeners:u,setNodeRef:p,transform:h,transition:f}=function(e){var t,n,a,l;let{animateLayoutChanges:r=tx,attributes:i,disabled:s,data:c,getNewIndex:u=tb,id:d,strategy:p,resizeObserverConfig:h,transition:f=ty}=e,{items:g,containerId:v,activeIndex:b,disabled:x,disableTransforms:y,sortedRects:w,overIndex:C,useDragOverlay:j,strategy:S}=(0,o.useContext)(tg),_=(t=s,n=x,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(a=null==t?void 0:t.draggable)?a:n.draggable,droppable:null!=(l=null==t?void 0:t.droppable)?l:n.droppable}),k=g.indexOf(d),N=(0,o.useMemo)(()=>({sortable:{containerId:v,index:k,items:g},...c}),[v,c,k,g]),E=(0,o.useMemo)(()=>g.slice(g.indexOf(d)),[g,d]),{rect:P,node:D,isOver:O,setNodeRef:T}=(0,m.zM)({id:d,data:N,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...h}}),{active:R,activatorEvent:A,activeNodeRect:L,attributes:M,setNodeRef:I,listeners:F,isDragging:B,over:z,setActivatorNodeRef:V,transform:U}=(0,m.PM)({id:d,data:N,attributes:{...tj,...i},disabled:_.draggable}),H=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(T,I),q=!!R,W=q&&!y&&th(b)&&th(C),Y=!j&&B,K=Y&&W?U:null,G=W?null!=K?K:(null!=p?p:S)({rects:w,activeNodeRect:L,activeIndex:b,overIndex:C,index:k}):null,X=th(b)&&th(C)?u({id:d,items:g,activeIndex:b,overIndex:C}):k,Q=null==R?void 0:R.id,$=(0,o.useRef)({activeId:Q,items:g,newIndex:X,containerId:v}),Z=g!==$.current.items,J=r({active:R,containerId:v,isDragging:B,isSorting:q,id:d,index:k,items:g,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:f,wasDragging:null!=$.current.activeId}),ee=function(e){let{disabled:t,index:n,node:a,rect:l}=e,[r,i]=(0,o.useState)(null),s=(0,o.useRef)(n);return ts(()=>{if(!t&&n!==s.current&&a.current){let e=l.current;if(e){let t=(0,m.Sj)(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==s.current&&(s.current=n)},[t,n,a,l]),(0,o.useEffect)(()=>{r&&i(null)},[r]),r}({disabled:!J,index:k,node:D,rect:P});return(0,o.useEffect)(()=>{q&&$.current.newIndex!==X&&($.current.newIndex=X),v!==$.current.containerId&&($.current.containerId=v),g!==$.current.items&&($.current.items=g)},[q,X,v,g]),(0,o.useEffect)(()=>{if(Q===$.current.activeId)return;if(Q&&!$.current.activeId){$.current.activeId=Q;return}let e=setTimeout(()=>{$.current.activeId=Q},50);return()=>clearTimeout(e)},[Q]),{active:R,activeIndex:b,attributes:M,data:N,rect:P,index:k,newIndex:X,items:g,isOver:O,isSorting:q,isDragging:B,listeners:F,node:D,overIndex:C,over:z,setNodeRef:H,setActivatorNodeRef:V,setDroppableNodeRef:T,setDraggableNodeRef:I,transform:null!=ee?ee:G,transition:ee||Z&&$.current.newIndex===k?tC:!(Y&&!function(e){if(!e)return!1;let{KeyboardEvent:t}=function(e){var t,n;let a;return e?"[object Window]"===(a=Object.prototype.toString.call(e))||"[object global]"===a?e:"nodeType"in e&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}(e.target);return t&&e instanceof t}(A)||!f)&&(q||J)?td.Transition.toString({...f,property:tw}):void 0}}(t),g=c?"grabbing":"grab",v;a[4]!==g||a[5]!==f?(v={cursor:g,transition:f},a[4]=g,a[5]=f,a[6]=v):v=a[6],a[7]!==s||a[8]!==v?(n={...s,style:v},a[7]=s,a[8]=v,a[9]=n):n=a[9];let b=h&&"translate3d(".concat(h.x,"px, ").concat(h.y,"px, 0)"),x;return a[10]!==c||a[11]!==u||a[12]!==p||a[13]!==n||a[14]!==b||a[15]!==f?(x={attributes:n,isDragging:c,listeners:u,setNodeRef:p,transform:b,transition:f},a[10]=c,a[11]=u,a[12]=p,a[13]=n,a[14]=b,a[15]=f,a[16]=x):x=a[16],x},tP=e=>{let t=(0,d.c)(12),{id:n,children:a,disabled:l}=e,r;t[0]!==l||t[1]!==n?(r={id:n,disabled:l},t[0]=l,t[1]=n,t[2]=r):r=t[2];let{attributes:i,isDragging:s,listeners:c,setNodeRef:p,transform:h,transition:f}=tE(r),m=s?"grabbing":"grab",g;return t[3]!==i||t[4]!==a||t[5]!==s||t[6]!==c||t[7]!==p||t[8]!==m||t[9]!==h||t[10]!==f?(g=(0,u.jsx)(o.Fragment,{children:a({attributes:{...i,style:{cursor:m}},isDragging:s,listeners:c,setNodeRef:p,transform:h,transition:f})}),t[3]=i,t[4]=a,t[5]=s,t[6]=c,t[7]=p,t[8]=m,t[9]=h,t[10]=f,t[11]=g):g=t[11],g},tD=e=>{let t,n=(0,d.c)(18),{children:a,className:l,ids:r,onDragEnd:i,onDragStart:s}=e,c=(0,o.useId)(),p;n[0]!==c?(p={id:c},n[0]=c,n[1]=p):p=n[1];let{setNodeRef:h}=(0,m.zM)(p),f;n[2]===Symbol.for("react.memo_cache_sentinel")?(f={activationConstraint:{distance:5}},n[2]=f):f=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(t={coordinateGetter:tk},n[3]=t):t=n[3];let g=(0,m.FR)((0,m.MS)(m.AN,f),(0,m.MS)(m.uN,t)),v;n[4]!==r||n[5]!==i?(v=e=>{let{active:t,over:n}=e;e.activatorEvent.stopPropagation(),t&&n&&"function"==typeof i&&i({event:e,moveFromIndex:r.findIndex(e=>e===t.id),moveToIndex:r.findIndex(e=>e===n.id)})},n[4]=r,n[5]=i,n[6]=v):v=n[6];let b=v,x;n[7]!==s?(x=e=>{let{active:t}=e;t&&"function"==typeof s&&s({id:t.id,event:e})},n[7]=s,n[8]=x):x=n[8];let y=x,w;return n[9]!==a||n[10]!==l||n[11]!==b||n[12]!==y||n[13]!==c||n[14]!==r||n[15]!==g||n[16]!==h?(w=(0,u.jsx)(m.Mp,{collisionDetection:m.fp,id:c,onDragEnd:b,onDragStart:y,sensors:g,children:(0,u.jsx)(tv,{items:r,children:(0,u.jsx)("div",{className:l,ref:h,children:a})})}),n[9]=a,n[10]=l,n[11]=b,n[12]=y,n[13]=c,n[14]=r,n[15]=g,n[16]=h,n[17]=w):w=n[17],w},tO="error-pill",tT=e=>{let{className:t,count:n,i18n:a,withMessage:l}=e,o=[tO,!l&&n<99&&"".concat(tO,"--fixed-width"),t&&t].filter(Boolean).join(" ");return 0===n?null:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:"".concat(tO,"__content"),children:[(0,u.jsx)("span",{className:"".concat(tO,"__count"),children:n}),l&&" ".concat(n>1?a.t("general:errors"):a.t("general:error"))]})})},tR="field-description",tA=e=>{let t=(0,d.c)(8),{className:n,description:a,marginPlacement:l,path:o}=e,{i18n:r}=(0,s.d)();if(a){let e="field-description-".concat(null==o?void 0:o.replace(/\./g,"__")),i=l&&"".concat(tR,"--margin-").concat(l),s;t[0]!==n||t[1]!==e||t[2]!==i?(s=[tR,n,e,i].filter(Boolean),t[0]=n,t[1]=e,t[2]=i,t[3]=s):s=t[3];let c=s.join(" "),d;return t[4]!==a||t[5]!==r||t[6]!==c?(d=(0,u.jsx)("div",{className:c,children:(0,p.sC)(a,r)}),t[4]=a,t[5]=r,t[6]=c,t[7]=d):d=t[7],d}return null},tL=e=>{let t=(0,d.c)(7),{alignCaret:n,message:a,path:l,showError:o}=e,r=void 0===n?"right":n,i=e_(),s;t[0]!==l?(s=e=>{let[t]=e;return t&&(null==t?void 0:t[l])||null},t[0]=l,t[1]=s):s=t[1];let c=eD(s),p;t[2]!==c?(p=c||{},t[2]=c,t[3]=p):p=t[3];let{errorMessage:h,valid:f}=p,m=a||h;if((o||i&&!1===f)&&(null==m?void 0:m.length)){let e;return t[4]!==r||t[5]!==m?(e=(0,u.jsx)(tl,{alignCaret:r,className:"field-error",delay:0,staticPositioning:!0,children:m}),t[4]=r,t[5]=m,t[6]=e):e=t[6],e}return null},tM=(0,o.createContext)(0),tI=e=>{let t=(0,d.c)(3),{children:n}=e,a=tF()+1,l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)(tM,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},tF=()=>(0,o.use)(tM),tB=(e,t)=>(null==e?void 0:e.locales)&&0!==e.locales.length?e.locales.find(e=>(null==e?void 0:e.code)===t):null;function tz(){return(tz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function tV(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}function tU(e,t){return(tU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tH(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tU(e,t)}function tq(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var tW={disabled:!1},tY=o.createContext(null),tK=function(e){return e.scrollTop},tG="unmounted",tX="exited",tQ="entering",t$="entered",tZ="exiting",tJ=function(e){function t(t,n){var a,l=e.call(this,t,n)||this,o=n&&!n.isMounting?t.enter:t.appear;return l.appearStatus=null,t.in?o?(a=tX,l.appearStatus=tQ):a=t$:a=t.unmountOnExit||t.mountOnEnter?tG:tX,l.state={status:a},l.nextCallback=null,l}tH(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===tG?{status:tX}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==tQ&&n!==t$&&(t=tQ):(n===tQ||n===t$)&&(t=tZ)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!=typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===tQ){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&tK(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tX&&this.setState({status:tG})},n.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,l=this.props.nodeRef?[a]:[r.findDOMNode(this),a],o=l[0],i=l[1],s=this.getTimeouts(),c=a?s.appear:s.enter;if(!e&&!n||tW.disabled)return void this.safeSetState({status:t$},function(){t.props.onEntered(o)});this.props.onEnter(o,i),this.safeSetState({status:tQ},function(){t.props.onEntering(o,i),t.onTransitionEnd(c,function(){t.safeSetState({status:t$},function(){t.props.onEntered(o,i)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:r.findDOMNode(this);if(!t||tW.disabled)return void this.safeSetState({status:tX},function(){e.props.onExited(a)});this.props.onExit(a),this.safeSetState({status:tZ},function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:tX},function(){e.props.onExited(a)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(!n||a)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=l[0],i=l[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===tG)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,tV(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(tY.Provider,{value:null},"function"==typeof n?n(e,a):o.cloneElement(o.Children.only(n),a))},t}(o.Component);function t0(){}tJ.contextType=tY,tJ.propTypes={},tJ.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:t0,onEntering:t0,onEntered:t0,onExit:t0,onExiting:t0,onExited:t0},tJ.UNMOUNTED=tG,tJ.EXITED=tX,tJ.ENTERING=tQ,tJ.ENTERED=t$,tJ.EXITING=tZ;var t1=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=tq(e.className,t):e.setAttribute("class",tq(e.className&&e.className.baseVal||"",t))})},t2=function(e){function t(){for(var t,n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1];t.removeClasses(l,"exit"),t.addClass(l,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1];t.addClass(l,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1]?"appear":"enter";t.removeClasses(l,o),t.addClass(l,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,a="string"==typeof n,l=a&&n?n+"-":"",o=a?""+l+e:n[e],r=a?o+"-active":n[e+"Active"],i=a?o+"-done":n[e+"Done"];return{baseClassName:o,activeClassName:r,doneClassName:i}},t}tH(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var a,l=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(l+=" "+o),"active"===n&&e&&tK(e),l&&(this.appliedClasses[t][n]=l,a=l,e&&a&&a.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],a=n.base,l=n.active,o=n.done;this.appliedClasses[t]={},a&&t1(e,a),l&&t1(e,l),o&&t1(e,o)},n.render=function(){var e=this.props,t=(e.classNames,tV(e,["classNames"]));return o.createElement(tJ,tz({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);t2.defaultProps={classNames:""},t2.propTypes={};var t3=(0,o.createContext)({}),t6=()=>(0,o.useContext)(t3),t5=e=>e?{appear:"".concat(e,"--appear"),appearActive:"".concat(e,"--appearActive"),appearDone:"".concat(e,"--appearDone"),enter:"".concat(e,"--enter"),enterActive:"".concat(e,"--enterActive"),enterDone:"".concat(e,"--enterDone"),exit:"".concat(e,"--exit"),exitActive:"".concat(e,"--exitActive"),exitDone:"".concat(e,"--exitDone")}:{};function t4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function t8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t4(Object(n),!0).forEach(function(t){var a,l,o;a=e,l=t,o=n[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(l))in a?Object.defineProperty(a,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[l]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,s.j)();var t9={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);-1===a||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},t7=function(e){return(null==e?void 0:e.key)==="Tab"||(null==e?void 0:e.keyCode)===9},ne=function(e){return t7(e)&&!e.shiftKey},nt=function(e){return t7(e)&&e.shiftKey},nn=function(e){return setTimeout(e,0)},na=function(e,t){var n=-1;return e.every(function(e,a){return!t(e)||(n=a,!1)}),n},nl=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"==typeof e?e.apply(void 0,n):e},no=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},nr=[],ni=function(e,t){var n,a=(null==t?void 0:t.document)||document,l=(null==t?void 0:t.trapStack)||nr,o=t8({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ne,isKeyBackward:nt},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},i=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},c=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return r.containerGroups.findIndex(function(t){var a=t.container,l=t.tabbableNodes;return a.contains(e)||(null==n?void 0:n.includes(a))||l.find(function(t){return t===e})})},u=function(e){var t=o[e];if("function"==typeof t){for(var n=arguments.length,l=Array(n>1?n-1:0),r=1;r<n;r++)l[r-1]=arguments[r];t=t.apply(void 0,l)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var i=t;if("string"==typeof t&&!(i=a.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return i},d=function(){var e=u("initialFocus");if(!1===e)return!1;if(void 0===e||!(0,s.i)(e,o.tabbableOptions))if(c(a.activeElement)>=0)e=a.activeElement;else{var t=r.tabbableGroups[0];e=t&&t.firstTabbableNode||u("fallbackFocus")}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},p=function(){if(r.containerGroups=r.containers.map(function(e){var t=(0,s.f)(e,o.tabbableOptions),n=(0,s.g)(e,o.tabbableOptions),a=t.length>0?t[0]:void 0,l=t.length>0?t[t.length-1]:void 0,r=n.find(function(e){return(0,s.h)(e)}),i=n.slice().reverse().find(function(e){return(0,s.h)(e)}),c=!!t.find(function(e){return(0,s.e)(e)>0});return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:c,firstTabbableNode:a,lastTabbableNode:l,firstDomTabbableNode:r,lastDomTabbableNode:i,nextTabbableNode:function(e){var a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=t.indexOf(e);return l<0?a?n.slice(n.indexOf(e)+1).find(function(e){return(0,s.h)(e)}):n.slice(0,n.indexOf(e)).reverse().find(function(e){return(0,s.h)(e)}):t[l+(a?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!u("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(e){return e.posTabIndexesFound})&&r.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},f=function e(t){if(!1!==t&&t!==h(document)){if(!t||!t.focus)return void e(d());t.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},m=function(e){var t=u("setReturnFocus",e);return t||!1!==t&&e},g=function(e){var t=e.target,n=e.event,a=e.isBackward,l=void 0!==a&&a;t=t||no(n),p();var i=null;if(r.tabbableGroups.length>0){var d=c(t,n),h=d>=0?r.containerGroups[d]:void 0;if(d<0)i=l?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(l){var f=na(r.tabbableGroups,function(e){var n=e.firstTabbableNode;return t===n});if(f<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(f=d),f>=0){var m=0===f?r.tabbableGroups.length-1:f-1,g=r.tabbableGroups[m];i=(0,s.e)(t)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else t7(n)||(i=h.nextTabbableNode(t,!1))}else{var v=na(r.tabbableGroups,function(e){var n=e.lastTabbableNode;return t===n});if(v<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t))&&(v=d),v>=0){var b=v===r.tabbableGroups.length-1?0:v+1,x=r.tabbableGroups[b];i=(0,s.e)(t)>=0?x.firstTabbableNode:x.firstDomTabbableNode}else t7(n)||(i=h.nextTabbableNode(t))}}else i=u("fallbackFocus");return i},v=function(e){if(!(c(no(e),e)>=0)){if(nl(o.clickOutsideDeactivates,e))return void n.deactivate({returnFocus:o.returnFocusOnDeactivate});nl(o.allowOutsideClick,e)||e.preventDefault()}},b=function(e){var t=no(e),n=c(t,e)>=0;if(n||t instanceof Document)n&&(r.mostRecentlyFocusedNode=t);else{e.stopImmediatePropagation();var a,l=!0;if(r.mostRecentlyFocusedNode)if((0,s.e)(r.mostRecentlyFocusedNode)>0){var i=c(r.mostRecentlyFocusedNode),u=r.containerGroups[i].tabbableNodes;if(u.length>0){var p=u.findIndex(function(e){return e===r.mostRecentlyFocusedNode});p>=0&&(o.isKeyForward(r.recentNavEvent)?p+1<u.length&&(a=u[p+1],l=!1):p-1>=0&&(a=u[p-1],l=!1))}}else r.containerGroups.some(function(e){return e.tabbableNodes.some(function(e){return(0,s.e)(e)>0})})||(l=!1);else l=!1;l&&(a=g({target:r.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(r.recentNavEvent)})),f(a||r.mostRecentlyFocusedNode||d())}r.recentNavEvent=void 0},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.recentNavEvent=e;var n=g({event:e,isBackward:t});n&&(t7(e)&&e.preventDefault(),f(n))},y=function(e){if(((null==e?void 0:e.key)==="Escape"||(null==e?void 0:e.key)==="Esc"||(null==e?void 0:e.keyCode)===27)&&!1!==nl(o.escapeDeactivates,e)){e.preventDefault(),n.deactivate();return}(o.isKeyForward(e)||o.isKeyBackward(e))&&x(e,o.isKeyBackward(e))},w=function(e){c(no(e),e)>=0||nl(o.clickOutsideDeactivates,e)||nl(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},C=function(){if(r.active)return t9.activateTrap(l,n),r.delayInitialFocusTimer=o.delayInitialFocus?nn(function(){f(d())}):f(d()),a.addEventListener("focusin",b,!0),a.addEventListener("mousedown",v,{capture:!0,passive:!1}),a.addEventListener("touchstart",v,{capture:!0,passive:!1}),a.addEventListener("click",w,{capture:!0,passive:!1}),a.addEventListener("keydown",y,{capture:!0,passive:!1}),n},j=function(){if(r.active)return a.removeEventListener("focusin",b,!0),a.removeEventListener("mousedown",v,!0),a.removeEventListener("touchstart",v,!0),a.removeEventListener("click",w,!0),a.removeEventListener("keydown",y,!0),n},S="u">typeof window&&"MutationObserver"in window?new MutationObserver(function(e){e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e===r.mostRecentlyFocusedNode})})&&f(d())}):void 0,_=function(){S&&(S.disconnect(),r.active&&!r.paused&&r.containers.map(function(e){S.observe(e,{subtree:!0,childList:!0})}))};return(n={get active(){return r.active},get paused(){return r.paused},activate:function(e){if(r.active)return this;var t=i(e,"onActivate"),n=i(e,"onPostActivate"),l=i(e,"checkCanFocusTrap");l||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=a.activeElement,null==t||t();var o=function(){l&&p(),C(),_(),null==n||n()};return l?l(r.containers.concat()).then(o,o):o(),this},deactivate:function(e){if(!r.active)return this;var t=t8({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,j(),r.active=!1,r.paused=!1,_(),t9.deactivateTrap(l,n);var a=i(t,"onDeactivate"),s=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),u=i(t,"returnFocus","returnFocusOnDeactivate");null==a||a();var d=function(){nn(function(){u&&f(m(r.nodeFocusedBeforeActivation)),null==s||s()})};return u&&c?c(m(r.nodeFocusedBeforeActivation)).then(d,d):d(),this},pause:function(e){if(r.paused||!r.active)return this;var t=i(e,"onPause"),n=i(e,"onPostPause");return r.paused=!0,null==t||t(),j(),_(),null==n||n(),this},unpause:function(e){if(!r.paused||!r.active)return this;var t=i(e,"onUnpause"),n=i(e,"onPostUnpause");return r.paused=!1,null==t||t(),p(),C(),_(),null==n||n(),this},updateContainerElements:function(e){return r.containers=[].concat(e).filter(Boolean).map(function(e){return"string"==typeof e?a.querySelector(e):e}),r.active&&p(),_(),this}}).updateContainerElements(e),n},ns=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n},nc="modal-item",nu=(a=e=>{let{children:t}=e;return t?"function"==typeof t?(0,u.jsx)(o.Fragment,{children:t(e)}):(0,u.jsx)(o.Fragment,{children:t}):null},e=>{let t=t6(),n=(0,o.useRef)(null),[i,s]=(0,o.useState)(!1),c=(0,o.useRef)(!1),[d,p]=(0,o.useState)(null),{modalState:h,classPrefix:f,containerRef:m,transTime:g,setCloseOnBlur:v,setBodyScrollLock:b,openModal:x}=t,{className:y,htmlElement:w="dialog",slug:C="",closeOnBlur:j=!0,lockBodyScroll:S=!0,classPrefix:_,onEnter:k,onEntering:N,onEntered:E,onExit:P,onExiting:D,onExited:O,openOnInit:T,trapFocus:R=!0,focusTrapOptions:A={}}=e,L=ns(e,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),M=_||f,I=l||C,F=h[I]&&h[I].isOpen;(0,o.useEffect)(()=>{if(R){let e=n.current;!1===c.current&&e&&(p(ni(e,Object.assign(Object.assign({},A),{fallbackFocus:(null==A?void 0:A.fallbackFocus)||e,allowOutsideClick:!("u">typeof A.allowOutsideClick)||A.allowOutsideClick}))),c.current=!0)}},[R,i,A]),(0,o.useEffect)(()=>{s(!0)},[]),(0,o.useEffect)(()=>(d&&(F?d.activate():d.deactivate()),()=>{d&&d.deactivate()}),[F,d]),(0,o.useEffect)(()=>{F&&v(j)},[F,j,v]),(0,o.useEffect)(()=>{let e=n.current;return e&&b(!!(F&&S),e),()=>{e&&b(!1,e)}},[F,S,b]);let[B,z]=(0,o.useState)(F);if((0,o.useEffect)(()=>{F?z(F):setTimeout(()=>z(!1),g)},[F,g]),(0,o.useEffect)(()=>{T&&x(I)},[I,T,x]),m.current){let l=M?"".concat(M,"__").concat(nc):nc,o=[l,"".concat(l,"--slug-").concat(I),y].filter(Boolean).join(" "),i=Object.assign({role:"dialog"!==w?"dialog":void 0,open:"dialog"===w?B||F:void 0,"aria-modal":!0,"aria-label":L["aria-labelledby"]?void 0:I},L);return r.createPortal((0,u.jsx)(t2,{nodeRef:n,timeout:g,in:F,classNames:t5(l),appear:!0,onEnter:k,onEntering:N,onEntered:E,onExit:P,onExiting:D,onExited:O,children:(0,u.jsx)(w,Object.assign({ref:n,id:(null==L?void 0:L.id)||I,className:o},i,{children:(0,u.jsx)(a,Object.assign({},e,{isOpen:F,modal:t}))}))}),m.current)}return null}),nd=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n},np="modal-container",nh=e=>{let{oneModalIsOpen:t,classPrefix:n,transTime:a,setContainerRef:l,containerRef:o,closeAllModals:r,closeOnBlur:i}=t6(),{className:s,htmlElement:c="div",children:d,onClick:p}=e,h=nd(e,["className","htmlElement","children","onClick"]),f=n?"".concat(n,"__").concat(np):np,m=[f,s].filter(Boolean).join(" "),g=Object.assign(Object.assign({},h),{onClick:e=>{i&&r(),"function"==typeof p&&p(e)}});return(0,u.jsx)(t2,{nodeRef:o,in:t,timeout:a,classNames:t5(f),appear:!0,children:(0,u.jsx)(c,Object.assign({className:m,ref:l},g,{children:d&&d}))})},nf=!1;"u">typeof window&&(nm={get passive(){nf=!0}},window.addEventListener("testPassive",null,nm),window.removeEventListener("testPassive",null,nm));var nm,ng="u">typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),nv=[],nb=!1,nx=-1,ny=void 0,nw=void 0,nC=void 0,nj=function(e){return nv.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},nS=function(e){var t=e||window.event;return!!nj(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},n_=function(e){if(void 0===nC){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);nC=document.body.style.paddingRight,document.body.style.paddingRight=a+n+"px"}}void 0===ny&&(ny=document.body.style.overflow,document.body.style.overflow="hidden")},nk=function(){void 0!==nC&&(document.body.style.paddingRight=nC,nC=void 0),void 0!==ny&&(document.body.style.overflow=ny,ny=void 0)},nN=function(){if(void 0!==nw){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=nw.position,document.body.style.top=nw.top,document.body.style.left=nw.left,window.scrollTo(t,e),nw=void 0}},nE=function(e,t){var n=e.targetTouches[0].clientY-nx;return!nj(e.target)&&(t&&0===t.scrollTop&&n>0||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?nS(e):(e.stopPropagation(),!0))},nP=function(e,t){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");!nv.some(function(t){return t.targetElement===e})&&(nv=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(nv),[{targetElement:e,options:t||{}}]),ng?window.requestAnimationFrame(function(){if(void 0===nw){nw={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,a=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=a-window.innerHeight;e&&t>=a&&(document.body.style.top=-(t+e))})},300)}}):n_(t),ng&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(nx=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&nE(t,e)},nb||(document.addEventListener("touchmove",nS,nf?{passive:!1}:void 0),nb=!0)))},nD=function(e){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");nv=nv.filter(function(t){return t.targetElement!==e}),ng&&(e.ontouchstart=null,e.ontouchmove=null,nb&&0===nv.length&&(document.removeEventListener("touchmove",nS,nf?{passive:!1}:void 0),nb=!1)),ng?nN():nk()},nO=e=>{let{classPrefix:t,zIndex:n}=e,a=t?"".concat(t,"__"):"";return"\n    .".concat(a).concat(np," {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      pointer-events: none;\n      visibility: hidden;\n      z-index: -1;\n    }\n\n    .").concat(a).concat(np,"--appear,\n    .").concat(a).concat(np,"--appearDone,\n    .").concat(a).concat(np,"--enter,\n    .").concat(a).concat(np,"--enterDone,\n    .").concat(a).concat(np,"--exit {\n      pointer-events: all;\n      visibility: visible;\n      z-index: ").concat(n,";\n    }\n\n    .").concat(a).concat(nc," {\n      position: absolute;\n      visibility: hidden;\n    }\n\n    .").concat(a).concat(nc,"--appear,\n    .").concat(a).concat(nc,"--appearDone,\n    .").concat(a).concat(nc,"--enter,\n    .").concat(a).concat(nc,"--enterDone,\n    .").concat(a).concat(nc,"--exit {\n      visibility: visible;\n    }\n  ")},nT=(e,t)=>{let n=Object.assign({},e),{type:a,payload:l}=t;switch(a){case"UPDATE_MODAL":{let{slug:e}=l;e&&(n[e]=Object.assign(Object.assign({},n[e]),l));break}case"OPEN_MODAL":{let{slug:e}=l;e&&(e in n&&n[e].isOpen||(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:e}=l;if(e){let t=e in n&&n[e].isOpen;n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:t?void 0:Date.now(),isOpen:!t})}break}case"CLOSE_MODAL":{let{slug:e}=l;e&&(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:e}=l;e&&e in n&&delete n[e];break}case"CLOSE_LATEST_MODAL":{let e=Object.keys(n).reduce((e,t)=>{let a=n[t];return a.isOpen&&"number"==typeof a.openedOn&&(!e||"number"==typeof e.openedOn&&a.openedOn>e.openedOn)?a:e},void 0);e&&(n[e.slug]=Object.assign(Object.assign({},n[e.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":n=Object.entries(n).reduce((e,t)=>{let[n,a]=t;return e[n]=Object.assign(Object.assign({},a),{isOpen:!1,openedOn:void 0}),e},{})}return n},nR=()=>{if("u">typeof window)return new URLSearchParams(window.location.search)},nA=()=>{let e=nR(),t=[];if(e){let n=e.get("modal");n&&(t=n.includes(",")?n.split(","):[n])}return t},nL=e=>{let{classPrefix:t,minifyCSS:n=!0,generateCSS:a=!0,zIndex:l=9999,handleParamChange:r,children:i,transTime:s=250}=e,c=(0,o.useRef)(null),[d,p]=(0,o.useReducer)(nT,{},()=>nA().reduce((e,t)=>(e[t]={slug:t,isOpen:!0,openedOn:Date.now()},e),{})),[h,f]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[x,y]=(0,o.useState)(""),w=(0,o.useRef)(!1),C=(0,o.useCallback)(e=>{27===e.keyCode&&p({type:"CLOSE_LATEST_MODAL"})},[]);(0,o.useEffect)(()=>(w.current||(document.addEventListener("keydown",e=>C(e),!1),w.current=!0),()=>{w.current&&document.removeEventListener("keydown",e=>C(e),!1)}),[C]),(0,o.useEffect)(()=>{if(a){let e="";e=nO({classPrefix:t,zIndex:l}),n&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),y(e)}},[a,n,l,t]),(0,o.useEffect)(()=>{if("function"==typeof r&&r(d),"boolean"==typeof r&&r){let e=Object.keys(d).filter(e=>d[e].isOpen),t=new URLSearchParams;for(let n of e)t.append("modal",n);let n=t.toString()?"?".concat(t):"",a="".concat(window.location.pathname).concat(n);window.history.pushState({},"",a)}},[d,r]),(0,o.useEffect)(()=>{f(Object.keys(d).some(e=>d[e].isOpen))},[d]);let j=(0,o.useCallback)((e,t)=>{t&&(e?(nP(t),b(!0)):(nD(t),b(!1)))},[]),S=(0,o.useCallback)(e=>{c.current=e},[]),_=(0,o.useCallback)(e=>{p({type:"OPEN_MODAL",payload:{slug:e}})},[]),k=(0,o.useCallback)(e=>{p({type:"CLOSE_MODAL",payload:{slug:e}})},[]),N=(0,o.useCallback)(()=>{p({type:"CLOSE_ALL_MODALS"})},[]),E=(0,o.useCallback)(e=>{p({type:"TOGGLE_MODAL",payload:{slug:e}})},[]),P=(0,o.useCallback)(e=>d[e]&&d[e].isOpen,[d]),D=Object.assign({},e);return delete D.children,(0,u.jsxs)(o.Fragment,{children:[a&&(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:x}}),(0,u.jsx)(t3.Provider,{value:Object.assign(Object.assign({},D),{transTime:s,containerRef:c,modalState:d,oneModalIsOpen:h,isModalOpen:P,closeOnBlur:m,bodyScrollIsLocked:v,classPrefix:t,closeAllModals:N,setCloseOnBlur:g,openModal:_,closeModal:k,toggleModal:E,setBodyScrollLock:j,setContainerRef:S}),children:i})]})},nM=e=>{switch(e){case"success":return nB;case"info":return nV;case"warning":return nz;case"error":return nU;default:return null}},nI=Array(12).fill(0),nF=e=>{let{visible:t,className:n}=e;return o.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},o.createElement("div",{className:"sonner-spinner"},nI.map((e,t)=>o.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},nB=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nz=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nV=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nU=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nH=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nq=()=>{let[e,t]=o.useState(document.hidden);return o.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e},nW=1,nY=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...a}=e,l="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:nW++,o=this.toasts.find(e=>e.id===l),r=void 0===e.dismissible||e.dismissible;return o?this.toasts=this.toasts.map(t=>t.id===l?(this.publish({...t,...e,id:l,title:n}),{...t,...e,id:l,dismissible:r,title:n}):t):this.addToast({title:n,...a,dismissible:r,id:l}),l},this.dismiss=e=>(e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n;if(!t)return;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let a=e instanceof Promise?e:e(),l=void 0!==n,r,i=a.then(async e=>{if(r=["resolve",e],o.isValidElement(e))l=!1,this.create({id:n,type:"default",message:e});else if(nK(e)&&!e.ok){l=!1;let a="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,o="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(void 0!==t.success){l=!1;let a="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){l=!1;let a="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var e;l&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),s=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||nW++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},nK=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,nG=Object.assign((e,t)=>{let n=(null==t?void 0:t.id)||nW++;return nY.addToast({title:e,...t,id:n}),n},{success:nY.success,info:nY.info,warning:nY.warning,error:nY.error,custom:nY.custom,message:nY.message,promise:nY.promise,dismiss:nY.dismiss,loading:nY.loading},{getHistory:()=>nY.toasts});function nX(e){return void 0!==e.label}function nQ(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var n$=e=>{var t,n,a,l,r,i,s,c,u,d,p;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:v,visibleToasts:b,heights:x,index:y,toasts:w,expanded:C,removeToast:j,defaultRichColors:S,closeButton:_,style:k,cancelButtonStyle:N,actionButtonStyle:E,className:P="",descriptionClassName:D="",duration:O,position:T,gap:R,loadingIcon:A,expandByDefault:L,classNames:M,icons:I,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:B}=e,[z,V]=o.useState(null),[U,H]=o.useState(null),[q,W]=o.useState(!1),[Y,K]=o.useState(!1),[G,X]=o.useState(!1),[Q,$]=o.useState(!1),[Z,J]=o.useState(!1),[ee,et]=o.useState(0),[en,ea]=o.useState(0),el=o.useRef(f.duration||O||4e3),eo=o.useRef(null),er=o.useRef(null),ei=0===y,es=y+1<=b,ec=f.type,eu=!1!==f.dismissible,ed=f.className||"",ep=f.descriptionClassName||"",eh=o.useMemo(()=>x.findIndex(e=>e.toastId===f.id)||0,[x,f.id]),ef=o.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:_},[f.closeButton,_]),em=o.useMemo(()=>f.duration||O||4e3,[f.duration,O]),eg=o.useRef(0),ev=o.useRef(0),eb=o.useRef(0),ex=o.useRef(null),[ey,ew]=T.split("-"),eC=o.useMemo(()=>x.reduce((e,t,n)=>n>=eh?e:e+t.height,0),[x,eh]),ej=nq(),eS=f.invert||h,e_="loading"===ec;ev.current=o.useMemo(()=>eh*R+eC,[eh,eC]),o.useEffect(()=>{el.current=em},[em]),o.useEffect(()=>{W(!0)},[]),o.useEffect(()=>{let e=er.current;if(e){let t=e.getBoundingClientRect().height;return ea(t),v(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==f.id))}},[v,f.id]),o.useLayoutEffect(()=>{if(!q)return;let e=er.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,ea(n),v(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:n}:e):[{toastId:f.id,height:n,position:f.position},...e])},[q,f.title,f.description,v,f.id]);let ek=o.useCallback(()=>{K(!0),et(ev.current),v(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{j(f)},200)},[f,j,v,ev]);return o.useEffect(()=>{let e;if((!f.promise||"loading"!==ec)&&f.duration!==1/0&&"loading"!==f.type)return C||g||B&&ej?(()=>{if(eb.current<eg.current){let e=new Date().getTime()-eg.current;el.current=el.current-e}eb.current=new Date().getTime()})():el.current!==1/0&&(eg.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),ek()},el.current)),()=>clearTimeout(e)},[C,g,f,ec,B,ej,ek]),o.useEffect(()=>{f.delete&&ek()},[ek,f.delete]),o.createElement("li",{tabIndex:0,ref:er,className:nQ(P,ed,null==M?void 0:M.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==M?void 0:M.default,null==M?void 0:M[ec],null==(n=null==f?void 0:f.classNames)?void 0:n[ec]),"data-sonner-toast":"","data-rich-colors":null!=(a=f.richColors)?a:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":Y,"data-visible":es,"data-y-position":ey,"data-x-position":ew,"data-index":y,"data-front":ei,"data-swiping":G,"data-dismissible":eu,"data-type":ec,"data-invert":eS,"data-swipe-out":Q,"data-swipe-direction":U,"data-expanded":!!(C||L&&q),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":"".concat(Y?ee:ev.current,"px"),"--initial-height":L?"auto":"".concat(en,"px"),...k,...f.style},onPointerDown:e=>{e_||!eu||(eo.current=new Date,et(ev.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(X(!0),ex.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,a;if(Q||!eu)return;ex.current=null;let l=Number((null==(e=er.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=er.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=new Date().getTime()-(null==(n=eo.current)?void 0:n.getTime()),i="x"===z?l:o,s=Math.abs(i)/r;if(Math.abs(i)>=20||s>.11){et(ev.current),null==(a=f.onDismiss)||a.call(f,f),H("x"===z?l>0?"right":"left":o>0?"down":"up"),ek(),$(!0),J(!1);return}X(!1),V(null)},onPointerMove:t=>{var n,a,l,o;if(!ex.current||!eu||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let r=t.clientY-ex.current.y,i=t.clientX-ex.current.x,s=null!=(a=e.swipeDirections)?a:function(e){let[t,n]=e.split("-"),a=[];return t&&a.push(t),n&&a.push(n),a}(T);!z&&(Math.abs(i)>1||Math.abs(r)>1)&&V(Math.abs(i)>Math.abs(r)?"x":"y");let c={x:0,y:0};"y"===z?(s.includes("top")||s.includes("bottom"))&&(s.includes("top")&&r<0||s.includes("bottom")&&r>0)&&(c.y=r):"x"===z&&(s.includes("left")||s.includes("right"))&&(s.includes("left")&&i<0||s.includes("right")&&i>0)&&(c.x=i),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&J(!0),null==(l=er.current)||l.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(o=er.current)||o.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ef&&!f.jsx?o.createElement("button",{"aria-label":F,"data-disabled":e_,"data-close-button":!0,onClick:e_||!eu?()=>{}:()=>{var e;ek(),null==(e=f.onDismiss)||e.call(f,f)},className:nQ(null==M?void 0:M.closeButton,null==(l=null==f?void 0:f.classNames)?void 0:l.closeButton)},null!=(r=null==I?void 0:I.close)?r:nH):null,f.jsx||(0,o.isValidElement)(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:o.createElement(o.Fragment,null,ec||f.icon||f.promise?o.createElement("div",{"data-icon":"",className:nQ(null==M?void 0:M.icon,null==(i=null==f?void 0:f.classNames)?void 0:i.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||function(){var e,t,n;return null!=I&&I.loading?o.createElement("div",{className:nQ(null==M?void 0:M.loader,null==(e=null==f?void 0:f.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ec},I.loading):A?o.createElement("div",{className:nQ(null==M?void 0:M.loader,null==(t=null==f?void 0:f.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ec},A):o.createElement(nF,{className:nQ(null==M?void 0:M.loader,null==(n=null==f?void 0:f.classNames)?void 0:n.loader),visible:"loading"===ec})}():null,"loading"!==f.type?f.icon||(null==I?void 0:I[ec])||nM(ec):null):null,o.createElement("div",{"data-content":"",className:nQ(null==M?void 0:M.content,null==(s=null==f?void 0:f.classNames)?void 0:s.content)},o.createElement("div",{"data-title":"",className:nQ(null==M?void 0:M.title,null==(c=null==f?void 0:f.classNames)?void 0:c.title)},"function"==typeof f.title?f.title():f.title),f.description?o.createElement("div",{"data-description":"",className:nQ(D,ep,null==M?void 0:M.description,null==(u=null==f?void 0:f.classNames)?void 0:u.description)},"function"==typeof f.description?f.description():f.description):null),(0,o.isValidElement)(f.cancel)?f.cancel:f.cancel&&nX(f.cancel)?o.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:e=>{var t,n;nX(f.cancel)&&eu&&(null==(n=(t=f.cancel).onClick)||n.call(t,e),ek())},className:nQ(null==M?void 0:M.cancelButton,null==(d=null==f?void 0:f.classNames)?void 0:d.cancelButton)},f.cancel.label):null,(0,o.isValidElement)(f.action)?f.action:f.action&&nX(f.action)?o.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||E,onClick:e=>{var t,n;nX(f.action)&&(null==(n=(t=f.action).onClick)||n.call(t,e),e.defaultPrevented||ek())},className:nQ(null==M?void 0:M.actionButton,null==(p=null==f?void 0:f.classNames)?void 0:p.actionButton)},f.action.label):null))};function nZ(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var nJ=(0,o.forwardRef)(function(e,t){let{invert:n,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:i,closeButton:s,className:c,offset:u,mobileOffset:d,theme:p="light",richColors:h,duration:f,style:m,visibleToasts:g=3,toastOptions:v,dir:b=nZ(),gap:x=14,loadingIcon:y,icons:w,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:j}=e,[S,_]=o.useState([]),k=o.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[N,E]=o.useState([]),[P,D]=o.useState(!1),[O,T]=o.useState(!1),[R,A]=o.useState("system"!==p?p:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=o.useRef(null),M=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.useRef(null),F=o.useRef(!1),B=o.useCallback(e=>{_(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||nY.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return o.useEffect(()=>nY.subscribe(e=>{if(e.dismiss)return void _(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t));setTimeout(()=>{r.flushSync(()=>{_(t=>{let n=t.findIndex(t=>t.id===e.id);return -1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[]),o.useEffect(()=>{if("system"!==p)return void A(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;A(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{A(t?"dark":"light")}catch(e){console.error(e)}})}},[p]),o.useEffect(()=>{S.length<=1&&D(!1)},[S]),o.useEffect(()=>{let e=e=>{var t,n;l.every(t=>e[t]||e.code===t)&&(D(!0),null==(t=L.current)||t.focus()),"Escape"===e.code&&(document.activeElement===L.current||null!=(n=L.current)&&n.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),o.useEffect(()=>{if(L.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,F.current=!1)}},[L.current]),o.createElement("section",{ref:t,"aria-label":"".concat(C," ").concat(M),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((t,a)=>{var l;let r,[p,C]=t.split("-");return S.length?o.createElement("ol",{key:t,dir:"auto"===b?nZ():b,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":p,"data-lifted":P&&S.length>1&&!i,"data-x-position":C,style:{"--front-toast-height":"".concat((null==(l=N[0])?void 0:l.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(x,"px"),...m,...(r={},[u,d].forEach((e,t)=>{let n=1===t,a=n?"--mobile-offset":"--offset",l=n?"16px":"32px";function o(e){["top","right","bottom","left"].forEach(t=>{r["".concat(a,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r["".concat(a,"-").concat(t)]=l:r["".concat(a,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):o(l)}),r)},onBlur:e=>{F.current&&!e.currentTarget.contains(e.relatedTarget)&&(F.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||F.current||(F.current=!0,I.current=e.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||T(!0)},onPointerUp:()=>T(!1)},S.filter(e=>!e.position&&0===a||e.position===t).map((a,l)=>{var r,c;return o.createElement(n$,{key:a.id,icons:w,index:l,toast:a,defaultRichColors:h,duration:null!=(r=null==v?void 0:v.duration)?r:f,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:s,interacting:O,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:B,toasts:S.filter(e=>e.position==a.position),heights:N.filter(e=>e.position==a.position),setHeights:E,expandByDefault:i,gap:x,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),n0="gutter",n1=e=>{let{children:t,className:n,left:a=!0,negativeLeft:l=!1,negativeRight:o=!1,ref:r,right:i=!0}=e,s=a&&!l,c=i&&!o;return(0,u.jsx)("div",{className:[s&&"".concat(n0,"--left"),c&&"".concat(n0,"--right"),l&&"".concat(n0,"--negative-left"),o&&"".concat(n0,"--negative-right"),n].filter(Boolean).join(" "),ref:r,children:t})},n2=e=>{let t=(0,d.c)(3),n=(0,o.useId)(),a=tF(),l="".concat(e,"-").concat(n),r;return t[0]!==a||t[1]!==l?(r=n6({slug:l,depth:a}),t[0]=a,t[1]=l,t[2]=r):r=t[2],r},n3="drawer",n6=e=>{let{slug:t,depth:n}=e;return"drawer_".concat(n,"_").concat(t)},n5=e=>{let t=(0,d.c)(17),n,a,l,o,r,i;t[0]!==e?({slug:i,children:n,className:a,disabled:l,onClick:o,...r}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o,t[5]=r,t[6]=i):(n=t[1],a=t[2],l=t[3],o=t[4],r=t[5],i=t[6]);let{openModal:s}=t6(),c;t[7]!==o||t[8]!==s||t[9]!==i?(c=e=>{s(i),"function"==typeof o&&o(e)},t[7]=o,t[8]=s,t[9]=i,t[10]=c):c=t[10];let p=c,h;return t[11]!==n||t[12]!==a||t[13]!==l||t[14]!==p||t[15]!==r?(h=(0,u.jsx)("button",{className:a,disabled:l,onClick:p,type:"button",...r,children:n}),t[11]=n,t[12]=a,t[13]=l,t[14]=p,t[15]=r,t[16]=h):h=t[16],h},n4=e=>{let t,n,a=(0,d.c)(26),{slug:l,children:r,className:i,gutter:c,Header:p,hoverTitle:h,title:f}=e,m=void 0===c||c,{t:g}=(0,s.d)(),{closeModal:v,modalState:b}=t6(),x=n7(),[y,w]=(0,o.useState)(!1),[C,j]=(0,o.useState)(!1),S,_;if(a[0]!==b||a[1]!==l?(S=()=>{var e;w(null==(e=b[l])?void 0:e.isOpen)},_=[l,b],a[0]=b,a[1]=l,a[2]=S,a[3]=_):(S=a[2],_=a[3]),(0,o.useEffect)(S,_),a[4]!==y?(t=()=>{j(y)},n=[y],a[4]=y,a[5]=t,a[6]=n):(t=a[5],n=a[6]),(0,o.useEffect)(t,n),y){let e=C&&"".concat(n3,"--is-open"),t=x>1&&"".concat(n3,"--nested"),n;a[7]!==i||a[8]!==e||a[9]!==t?(n=[i,n3,e,t].filter(Boolean),a[7]=i,a[8]=e,a[9]=t,a[10]=n):n=a[10];let o=n.join(" "),c=100+x,d;if(a[11]!==p||a[12]!==r||a[13]!==v||a[14]!==x||a[15]!==m||a[16]!==h||a[17]!==l||a[18]!==g||a[19]!==c||a[20]!==o||a[21]!==f){let e;a[23]!==v||a[24]!==l?(e=()=>v(l),a[23]=v,a[24]=l,a[25]=e):e=a[25],d=(0,u.jsx)(n9,{children:(0,u.jsxs)(nu,{className:o,slug:l,style:{zIndex:c},children:[(!x||1===x)&&(0,u.jsx)("div",{className:"".concat(n3,"__blur-bg")}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(n3,"__close"),id:"close-drawer__".concat(l),onClick:e,type:"button"}),(0,u.jsxs)("div",{className:"".concat(n3,"__content"),style:{width:"calc(100% - (".concat(x," * var(--gutter-h)))")},children:[(0,u.jsx)("div",{className:"".concat(n3,"__blur-bg-content")}),(0,u.jsxs)(n1,{className:"".concat(n3,"__content-children"),left:m,right:m,children:[p,void 0===p&&(0,u.jsxs)("div",{className:"".concat(n3,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(n3,"__header__title"),title:h?f:null,children:f}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(n3,"__header__close"),id:"close-drawer__".concat(l),onClick:()=>v(l),type:"button",children:(0,u.jsx)(s.a,{})})]}),r]})]})]})}),a[11]=p,a[12]=r,a[13]=v,a[14]=x,a[15]=m,a[16]=h,a[17]=l,a[18]=g,a[19]=c,a[20]=o,a[21]=f,a[22]=d}else d=a[22];return d}return null},n8=(0,o.createContext)(1),n9=e=>{let t=(0,d.c)(3),{children:n}=e,a=n7()+1,l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)(n8,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},n7=()=>(0,o.use)(n8),ae="confirmation-modal";function at(e){let t=(0,d.c)(33),{body:n,cancelLabel:a,className:l,confirmingLabel:r,confirmLabel:i,heading:c,modalSlug:p,onCancel:h,onConfirm:f}=e,m=n7(),[g,v]=o.useState(!1),{closeModal:b}=t6(),{t:x}=(0,s.d)(),y;t[0]!==b||t[1]!==g||t[2]!==p||t[3]!==f?(y=async()=>{g||(v(!0),"function"==typeof f&&await f(),v(!1),b(p))},t[0]=b,t[1]=g,t[2]=p,t[3]=f,t[4]=y):y=t[4];let w=y,C;t[5]!==b||t[6]!==g||t[7]!==p||t[8]!==h?(C=()=>{g||(b(p),"function"==typeof h&&h())},t[5]=b,t[6]=g,t[7]=p,t[8]=h,t[9]=C):C=t[9];let j=C,S;t[10]!==l?(S=[ae,l].filter(Boolean),t[10]=l,t[11]=S):S=t[11];let _=S.join(" "),k=100+m,N;if(t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==g||t[16]!==r||t[17]!==c||t[18]!==p||t[19]!==j||t[20]!==w||t[21]!==x||t[22]!==_||t[23]!==k){let e,l;t[25]!==a||t[26]!==x?(e=a||x("general:cancel"),t[25]=a,t[26]=x,t[27]=e):e=t[27],t[28]!==i||t[29]!==g||t[30]!==r||t[31]!==x?(l=g?r||"".concat(x("general:loading"),"..."):i||x("general:confirm"),t[28]=i,t[29]=g,t[30]=r,t[31]=x,t[32]=l):l=t[32],N=(0,u.jsx)(nu,{className:_,slug:p,style:{zIndex:k},children:(0,u.jsxs)("div",{className:"".concat(ae,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(ae,"__content"),children:[(0,u.jsx)("h1",{children:c}),(0,u.jsx)("p",{children:n})]}),(0,u.jsxs)("div",{className:"".concat(ae,"__controls"),children:[(0,u.jsx)(ti,{buttonStyle:"secondary",disabled:g,id:"confirm-cancel",onClick:j,size:"large",type:"button",children:e}),(0,u.jsx)(ti,{id:"confirm-action",onClick:w,size:"large",children:l})]})]})}),t[12]=n,t[13]=a,t[14]=i,t[15]=g,t[16]=r,t[17]=c,t[18]=p,t[19]=j,t[20]=w,t[21]=x,t[22]=_,t[23]=k,t[24]=N}else N=t[24];return N}var an="stay-logged-in",aa=()=>{let e=(0,d.c)(11),{refreshCookie:t}=as(),n=(0,f.useRouter)(),{config:a}=(0,i.b)(),{admin:l,routes:o}=a,{routes:r}=l,{logout:c}=r,{admin:p}=o,{t:h}=(0,s.d)(),{startRouteTransition:m}=eF(),v;e[0]!==p||e[1]!==c||e[2]!==n||e[3]!==m?(v=()=>m(()=>n.push((0,g.Q)({adminRoute:p,path:c}))),e[0]=p,e[1]=c,e[2]=n,e[3]=m,e[4]=v):v=e[4];let b=v,x;e[5]!==t?(x=()=>{t()},e[5]=t,e[6]=x):x=e[6];let y=x,w;return e[7]!==y||e[8]!==b||e[9]!==h?(w=(0,u.jsx)(at,{body:h("authentication:youAreInactive"),cancelLabel:h("authentication:stayLoggedIn"),confirmLabel:h("authentication:logOut"),heading:h("authentication:stayLoggedIn"),modalSlug:an,onCancel:y,onConfirm:b}),e[7]=y,e[8]=b,e[9]=h,e[10]=w):w=e[10],w};function al(e,t){let n=(0,d.c)(4),[a,l]=(0,o.useState)(e),r,i;return n[0]!==t||n[1]!==e?(r=()=>{let n=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(n)}},i=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=i):(r=n[2],i=n[3]),(0,o.useEffect)(r,i),a}var ao={delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"delete"})},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n="";return t.params&&(n=v.A(t.params,{addQueryPrefix:!0})),fetch("".concat(e).concat(n),{credentials:"include",...t})},patch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"PATCH"})},post:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{},a={...t,credentials:"include",headers:{...n},method:"post"};return fetch("".concat(e),a)},put:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"put"})}},ar=(0,o.createContext)({});function ai(e){let{children:t,permissions:n,user:a}=e,[l,r]=(0,o.useState)(a),[c,d]=(0,o.useState)(),[p,h]=(0,o.useState)(),m=(0,f.usePathname)(),b=(0,f.useRouter)(),{config:x}=(0,i.b)(),{admin:{routes:{inactivity:y},user:w},routes:{admin:C,api:j},serverURL:S}=x,[_,k]=(0,o.useState)(n),{i18n:N}=(0,s.d)(),{closeAllModals:E,openModal:P}=t6(),[D,O]=(0,o.useState)(0),T=al(D,1e4),R=o.useRef(null),{startRouteTransition:A}=eF(),L=null==l?void 0:l.id,M=(0,o.useCallback)(()=>{A(()=>b.replace((0,g.Q)({adminRoute:C,path:"".concat(y).concat(window.location.pathname.startsWith(C)?"?redirect=".concat(encodeURIComponent(window.location.pathname)):"")}))),E()},[b,C,y,E,A]),I=(0,o.useCallback)(()=>{d(void 0),h(void 0),clearTimeout(R.current)},[]),F=(0,o.useCallback)(e=>{(null==e?void 0:e.user)?(r(e.user),d(e.token),h(e.exp)):(r(null),I())},[I]),B=(0,o.useCallback)(e=>{let t=("number"==typeof p?p:0)-Math.round(new Date().getTime()/1e3);return(e||p&&t<120)&&(R.current=setTimeout(()=>{!async function(){try{let e=await ao.post("".concat(S).concat(j,"/").concat(w,"/refresh-token?refresh"),{headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();F(t)}else F(null),M()}catch(e){nG.error(e.message)}}()},1e3)),()=>{clearTimeout(R.current)}},[j,N.language,M,S,F,p,w]),z=(0,o.useCallback)(async e=>{try{let t=await ao.post("".concat(S).concat(j,"/").concat(w,"/refresh-token"),{headers:{"Accept-Language":N.language}});if(200===t.status){let n=await t.json();return e||F(n),n.user}return F(null),M(),null}catch(e){return nG.error("Refreshing token failed: ".concat(e.message)),null}},[j,N.language,M,S,F,w]),V=(0,o.useCallback)(async()=>{try{return await ao.post("".concat(S).concat(j,"/").concat(l.collection,"/logout")),F(null),I(),!0}catch(e){return nG.error("Logging out failed: ".concat(e.message)),!1}},[j,I,S,F,l]),U=(0,o.useCallback)(async function(){let{locale:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v.A({locale:e},{addQueryPrefix:!0});try{let e=await ao.get("".concat(S).concat(j,"/access").concat(t),{headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();k(t)}else throw Error("Fetching permissions failed with status code ".concat(e.status))}catch(e){nG.error("Refreshing permissions failed: ".concat(e.message))}},[S,j,N]),H=o.useCallback(async()=>{try{let e=await ao.get("".concat(S).concat(j,"/").concat(w,"/me"),{credentials:"include",headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();return F(t),null}}catch(e){nG.error("Fetching user failed: ".concat(e.message))}return null},[S,j,w,N.language,F]);return(0,o.useEffect)(()=>{H()},[H]),(0,o.useEffect)(()=>{L&&B()},[T,B,L]),(0,o.useEffect)(()=>{O(Date.now())},[m]),(0,o.useEffect)(()=>{let e,t,n=Math.round(new Date().getTime()/1e3),a="number"==typeof p?p-n:0,o=Math.max(Math.min((a-60)*1e3,0x7fffffff),0),r=Math.max(Math.min(1e3*a,0x7fffffff),0);if(!l){clearTimeout(e),clearTimeout(t);return}return a>0&&(e=setTimeout(()=>{P(an)},o),t=setTimeout(()=>{F(null),M()},r)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[p,P,N,F,l,M]),(0,u.jsx)(ar,{value:{fetchFullUser:H,logOut:V,permissions:_,refreshCookie:B,refreshCookieAsync:z,refreshPermissions:U,setPermissions:k,setUser:F,token:c,user:l},children:t})}var as=()=>(0,o.use)(ar),ac=(0,o.createContext)({}),au=(e,t)=>({body:JSON.stringify({value:e}),headers:{"Accept-Language":t,"Content-Type":"application/json"}}),ad=e=>{let{children:t}=e,n=(0,o.useRef)({}),a=(0,o.useRef)({}),l=(0,o.useRef)({}),{config:r}=(0,i.b)(),{user:c}=as(),{i18n:d}=(0,s.d)(),{routes:{api:p},serverURL:h}=r;(0,o.useEffect)(()=>{c||(a.current={})},[c]);let f=(0,o.useCallback)(async e=>{let t=a.current;if("u">typeof t[e])return t[e];let n=new Promise(t=>{(async()=>{let n=await ao.get("".concat(h).concat(p,"/payload-preferences/").concat(e),{headers:{"Accept-Language":d.language}}),l=null;200===n.status&&(l=(await n.json()).value),a.current[e]=l,t(l)})()});return t[e]=n,n},[d.language,p,a,h]),m=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1===n){a.current[e]=t,await ao.post("".concat(h).concat(p,"/payload-preferences/").concat(e),au(t,d.language));return}let o=t,r=await f(e);if("object"==typeof t&&"object"==typeof r&&"object"==typeof o){if(r&&(o=function e(t,n){let a={...t};for(let l in n)Object.prototype.hasOwnProperty.call(n,l)&&("object"==typeof n[l]&&!Array.isArray(n[l])&&t[l]?a[l]=e(t[l],n[l]):a[l]=n[l]);return a}(r,o)),(0,b.j)(o,r))return;l.current[e]={...l.current[e],...o}}else{if(o===r)return;l.current[e]=o}let i=async()=>{(0,b.j)(l.current[e],a.current[e])||(a.current[e]=l.current[e],await ao.post("".concat(h).concat(p,"/payload-preferences/").concat(e),au(a.current[e],d.language)),delete l.current[e])};setTimeout(()=>{i()})},[p,f,d.language,l,h]);return n.current.getPreference=f,n.current.setPreference=m,(0,u.jsx)(ac,{value:n.current,children:t})},ap=()=>(0,o.use)(ac),ah=(0,o.createContext)({}),af=(0,o.createContext)({localeIsLoading:!1,setLocaleIsLoading:e=>{}}),am=async(e,t)=>{var n;return await (null==(n=fetch("".concat(t,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"}))?void 0:n.then(e=>e.json()))},ag=e=>{let t,n=(0,d.c)(27),{children:a,locale:l}=e,{config:r}=(0,i.b)(),{localization:s,routes:c,serverURL:p}=r,h=void 0!==s&&s,{api:m}=c,{user:g}=as(),v=h?h.defaultLocale:"en",{getPreference:b}=ap(),x=(0,f.useSearchParams)(),y;n[0]!==x?(y=x.get("locale"),n[0]=x,n[1]=y):y=n[1];let w=y,C;n[2]!==v||n[3]!==l||n[4]!==w||n[5]!==h?(C=()=>h&&(!h||h.locales.length)?tB(h,w)||tB(h,l)||tB(h,v)||tB(h,h.locales[0].code):{},n[2]=v,n[3]=l,n[4]=w,n[5]=h,n[6]=C):C=n[6];let[j,S]=o.useState(C),[_,k]=(0,o.useState)(!1),N=(0,o.useRef)(j),E,P;n[7]!==j?(E=()=>{j.code!==N.current.code&&k(!1),N.current=j},P=[j],n[7]=j,n[8]=E,n[9]=P):(E=n[8],P=n[9]),(0,o.useEffect)(E,P);let D="".concat(p).concat(m),O;n[10]!==v||n[11]!==D||n[12]!==w||n[13]!==h||n[14]!==(null==g?void 0:g.id)?(O=()=>{!async function(){if(h&&(null==g?void 0:g.id)){var e,t,n;let a=tB(h,w||await (null==(e=am("locale",D))?void 0:e.then(ax)))||tB(h,v)||tB(h,null==h||null==(n=h.locales)||null==(t=n[0])?void 0:t.code);a&&S(a)}}()},n[10]=v,n[11]=D,n[12]=w,n[13]=h,n[14]=null==g?void 0:g.id,n[15]=O):O=n[15];let T=null==g?void 0:g.id,R;return n[16]!==v||n[17]!==D||n[18]!==b||n[19]!==w||n[20]!==h||n[21]!==T?(R=[v,b,h,D,w,T],n[16]=v,n[17]=D,n[18]=b,n[19]=w,n[20]=h,n[21]=T,n[22]=R):R=n[22],(0,o.useEffect)(O,R),n[23]!==a||n[24]!==_||n[25]!==j?(t=(0,u.jsx)(ah,{value:j,children:(0,u.jsx)(af,{value:{localeIsLoading:_,setLocaleIsLoading:k},children:a})}),n[23]=a,n[24]=_,n[25]=j,n[26]=t):t=n[26],t},av=()=>(0,o.use)(af),ab=()=>(0,o.use)(ah);function ax(e){return e.value}var ay=(e,t,n)=>"field-".concat(null==e?void 0:e.replace(/\./g,"__")).concat(t>1?"-".concat(t):"").concat(n?"-".concat(n):""),aw=e=>{let t=(0,d.c)(25),{as:n,hideLocale:a,htmlFor:l,label:o,localized:r,path:i,required:c,unstyled:h}=e,f=void 0===n?"label":n,m=void 0!==a&&a,g=void 0!==r&&r,v=void 0!==c&&c,b=void 0!==h&&h,{uuid:x}=eC(),y=tF(),w;t[0]!==y||t[1]!==l||t[2]!==i||t[3]!==x?(w=l||ay(i,y,x),t[0]=y,t[1]=l,t[2]=i,t[3]=x,t[4]=w):w=t[4];let C=w,{i18n:j}=(0,s.d)(),{code:S,label:_}=ab();if(o){let e="field-label ".concat(b?"unstyled":""),n;if(t[5]!==f||t[6]!==S||t[7]!==m||t[8]!==C||t[9]!==j||t[10]!==o||t[11]!==_||t[12]!==g||t[13]!==v||t[14]!==e||t[15]!==b){let a,l;t[17]!==v||t[18]!==b?(a=v&&!b&&(0,u.jsx)("span",{className:"required",children:"*"}),t[17]=v,t[18]=b,t[19]=a):a=t[19],t[20]!==S||t[21]!==m||t[22]!==_||t[23]!==g?(l=g&&!m&&(0,u.jsxs)("span",{className:"localized",children:[" ","string"==typeof _?_:S]}),t[20]=S,t[21]=m,t[22]=_,t[23]=g,t[24]=l):l=t[24],n=(0,u.jsxs)(f,{className:e,htmlFor:C,children:[(0,p.sC)(o,j),a,l]}),t[5]=f,t[6]=S,t[7]=m,t[8]=C,t[9]=j,t[10]=o,t[11]=_,t[12]=g,t[13]=v,t[14]=e,t[15]=b,t[16]=n}else n=t[16];return n}return null},aC=e=>{let{collapsed:t,rowID:n,rows:a}=e;return a.reduce((e,a)=>(n===a.id&&(a.collapsed=t),a.collapsed&&e.collapsedIDs.push(a.id),e.updatedRows.push(a),e),{collapsedIDs:[],updatedRows:[]})},aj=e=>{let{collapsed:t,rows:n}=e;return n.reduce((e,n)=>(n.collapsed=t,t&&e.collapsedIDs.push(n.id),e.updatedRows.push(n),e),{collapsedIDs:[],updatedRows:[]})},aS=(e,t,n)=>{let a,l=(0,d.c)(9),r;l[0]!==n?(r=void 0===n?[]:n,l[0]=n,l[1]=r):r=l[1];let i=r,s;l[2]===Symbol.for("react.memo_cache_sentinel")?(s=Date.now(),l[2]=s):s=l[2];let c=(0,o.useRef)(s),u;l[3]!==e||l[4]!==t?(u=()=>{let n=setTimeout(()=>{Date.now()-c.current>=t&&(e(),c.current=Date.now())},t-(Date.now()-c.current));return()=>{clearTimeout(n)}},l[3]=e,l[4]=t,l[5]=u):u=l[5],l[6]!==t||l[7]!==i?(a=[t,...i],l[6]=t,l[7]=i,l[8]=a):a=l[8],(0,o.useEffect)(u,a)},a_={},ak={};function aN(e,t){try{let n=(a_[e]||(a_[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return n in ak?ak[n]:aP(n,n.split(":"))}catch(n){if(e in ak)return ak[e];let t=null==e?void 0:e.match(aE);return t?aP(e,t.slice(1)):NaN}}var aE=/([+-]\d\d):?(\d\d)?/;function aP(e,t){let n=+t[0],a=+(t[1]||0);return ak[e]=n>0?60*n+a:60*n-a}var aD=class e extends Date{static tz(t){for(var n=arguments.length,a=Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return a.length?new e(...a,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){return-aN(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),aT(this),+this}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(aN(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),aR(this,NaN),aT(this)):this.setTime(Date.now())}},aO=/^(get|set)(?!UTC)/;function aT(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function aR(e){let t=aN(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);let a=-new Date(+e).getTimezoneOffset(),l=a- -new Date(+n).getTimezoneOffset(),o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);let r=a-t;r&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+r);let i=aN(e.timeZone,e),s=-new Date(+e).getTimezoneOffset()-i-r;if(i!==t&&s){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);let t=i-aN(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!aO.test(e))return;let t=e.replace(aO,"$1UTC");aD.prototype[t]&&(e.startsWith("get")?aD.prototype[e]=function(){return this.internal[t]()}:(aD.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),aR(e),+this},aD.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),aT(this),+this}))});var aA=Symbol.for("constructDateFrom");function aL(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&aA in e?e[aA](t):e instanceof Date?new e.constructor(t):new Date(t)}function aM(e,t){return aL(t||e,e)}var aI={};function aF(e,t){var n,a,l,o,r,i,s,c;let u=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.weekStartsOn)?r:null==t||null==(a=t.locale)||null==(n=a.options)?void 0:n.weekStartsOn)?i:aI.weekStartsOn)?s:null==(o=aI.locale)||null==(l=o.options)?void 0:l.weekStartsOn)?c:0,d=aM(e,null==t?void 0:t.in),p=d.getDay();return d.setDate(d.getDate()-(7*(p<u)+p-u)),d.setHours(0,0,0,0),d}function aB(e,t){return aF(e,{...t,weekStartsOn:1})}function az(e,t){let n=aM(e,null==t?void 0:t.in),a=n.getFullYear(),l=aL(n,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);let o=aB(l),r=aL(n,0);r.setFullYear(a,0,4),r.setHours(0,0,0,0);let i=aB(r);return n.getTime()>=o.getTime()?a+1:n.getTime()>=i.getTime()?a:a-1}function aV(e){let t=aM(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function aU(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];let l=aL.bind(null,e||n.find(e=>"object"==typeof e));return n.map(l)}function aH(e,t){let n=aM(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function aq(e,t){let n=aM(e)-aM(t);return n<0?-1:n>0?1:n}function aW(e,t){var n,a,l,o,r,i,s,c;let u=aM(e,null==t?void 0:t.in),d=u.getFullYear(),p=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.firstWeekContainsDate)?r:null==t||null==(a=t.locale)||null==(n=a.options)?void 0:n.firstWeekContainsDate)?i:aI.firstWeekContainsDate)?s:null==(o=aI.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?c:1,h=aL((null==t?void 0:t.in)||e,0);h.setFullYear(d+1,0,p),h.setHours(0,0,0,0);let f=aF(h,t),m=aL((null==t?void 0:t.in)||e,0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);let g=aF(m,t);return+u>=+f?d+1:+u>=+g?d:d-1}function aY(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}var aK={y(e,t){let n=e.getFullYear(),a=n>0?n:1-n;return aY("yy"===t?a%100:a,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):aY(n+1,2)},d:(e,t)=>aY(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>aY(e.getHours()%12||12,t.length),H:(e,t)=>aY(e.getHours(),t.length),m:(e,t)=>aY(e.getMinutes(),t.length),s:(e,t)=>aY(e.getSeconds(),t.length),S(e,t){let n=t.length;return aY(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},aG={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aX={G:function(e,t,n){let a=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return aK.y(e,t)},Y:function(e,t,n,a){let l=aW(e,a),o=l>0?l:1-l;return"YY"===t?aY(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):aY(o,t.length)},R:function(e,t){return aY(az(e),t.length)},u:function(e,t){return aY(e.getFullYear(),t.length)},Q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return aY(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return aY(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){let a=e.getMonth();switch(t){case"M":case"MM":return aK.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return aY(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var l,o,r,i,s,c,u,d;let p,h,f,m,g=Math.round((aF(m=aM(e,null==a?void 0:a.in),a)-(p=null!=(d=null!=(u=null!=(c=null!=(s=null==a?void 0:a.firstWeekContainsDate)?s:null==a||null==(o=a.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?c:aI.firstWeekContainsDate)?u:null==(i=aI.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate)?d:1,h=aW(m,a),(f=aL((null==a?void 0:a.in)||m,0)).setFullYear(h,0,p),f.setHours(0,0,0,0),aF(f,a)))/6048e5)+1;return"wo"===t?n.ordinalNumber(g,{unit:"week"}):aY(g,t.length)},I:function(e,t,n){var a;let l,o,r,i=Math.round((aB(r=aM(e,void 0))-(l=az(r,void 0),(o=aL((null==a?void 0:a.in)||r,0)).setFullYear(l,0,4),o.setHours(0,0,0,0),aB(o)))/6048e5)+1;return"Io"===t?n.ordinalNumber(i,{unit:"week"}):aY(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):aK.d(e,t)},D:function(e,t,n){let a,l,o=function(e,t,n){let[a,l]=aU(void 0,e,t),o=aH(a),r=aH(l);return Math.round((o-aV(o)-(r-aV(r)))/864e5)}(a=aM(e,void 0),((l=aM(a,void 0)).setFullYear(l.getFullYear(),0,1),l.setHours(0,0,0,0),l))+1;return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):aY(o,t.length)},E:function(e,t,n){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){let l=e.getDay(),o=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return aY(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){let l=e.getDay(),o=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return aY(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,n){let a=e.getDay(),l=0===a?7:a;switch(t){case"i":return String(l);case"ii":return aY(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){let a=e.getHours(),l;switch(l=12===a?aG.noon:0===a?aG.midnight:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,n){let a=e.getHours(),l;switch(l=a>=17?aG.evening:a>=12?aG.afternoon:a>=4?aG.morning:aG.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return aK.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):aK.H(e,t)},K:function(e,t,n){let a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):aY(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):aY(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):aK.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):aK.s(e,t)},S:function(e,t){return aK.S(e,t)},X:function(e,t,n){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return a$(a);case"XXXX":case"XX":return aZ(a);default:return aZ(a,":")}},x:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"x":return a$(a);case"xxxx":case"xx":return aZ(a);default:return aZ(a,":")}},O:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aQ(a,":");default:return"GMT"+aZ(a,":")}},z:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aQ(a,":");default:return"GMT"+aZ(a,":")}},t:function(e,t,n){return aY(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return aY(+e,t.length)}};function aQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),o=a%60;return 0===o?n+String(l):n+String(l)+t+aY(o,2)}function a$(e,t){return e%60==0?(e>0?"-":"+")+aY(Math.abs(e)/60,2):aZ(e,t)}function aZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+aY(Math.trunc(n/60),2)+t+aY(n%60,2)}var aJ=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},a0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},a1={p:a0,P:(e,t)=>{let n,a=e.match(/(P+)(p+)?/)||[],l=a[1],o=a[2];if(!o)return aJ(e,t);switch(l){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",aJ(l,t)).replace("{{time}}",a0(o,t))}},a2=/^D+$/,a3=/^Y+$/,a6=["D","DD","YY","YYYY"],a5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a8=/^'([^]*?)'?$/,a9=/''/g,a7=/[a-zA-Z]/;function le(e,t,n){var a,l,o,r,i,c,u,d,p,h,f,m,g,v,b,x,y,w;let C=null!=(h=null!=(p=null==n?void 0:n.locale)?p:aI.locale)?h:s.b,j=null!=(v=null!=(g=null!=(m=null!=(f=null==n?void 0:n.firstWeekContainsDate)?f:null==n||null==(l=n.locale)||null==(a=l.options)?void 0:a.firstWeekContainsDate)?m:aI.firstWeekContainsDate)?g:null==(r=aI.locale)||null==(o=r.options)?void 0:o.firstWeekContainsDate)?v:1,S=null!=(w=null!=(y=null!=(x=null!=(b=null==n?void 0:n.weekStartsOn)?b:null==n||null==(c=n.locale)||null==(i=c.options)?void 0:i.weekStartsOn)?x:aI.weekStartsOn)?y:null==(d=aI.locale)||null==(u=d.options)?void 0:u.weekStartsOn)?w:0,_=aM(e,null==n?void 0:n.in);if(!(_ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_))&&"number"!=typeof _||isNaN(+aM(_)))throw RangeError("Invalid time value");let k=t.match(a4).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,a1[t])(e,C.formatLong):e}).join("").match(a5).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(a8))?t[1].replace(a9,"'"):n}}if(aX[t])return{isToken:!0,value:e};if(t.match(a7))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});C.localize.preprocessor&&(k=C.localize.preprocessor(_,k));let N={firstWeekContainsDate:j,weekStartsOn:S,locale:C};return k.map(a=>{if(!a.isToken)return a.value;let l=a.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&a3.test(l)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&a2.test(l))&&function(e,t,n){var a,l,o;let r,i=(a=e,l=t,o=n,r="Y"===a[0]?"years":"days of the month","Use `".concat(a.toLowerCase(),"` instead of `").concat(a,"` (in `").concat(l,"`) for formatting ").concat(r," to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(console.warn(i),a6.includes(e))throw RangeError(i)}(l,t,String(e)),(0,aX[l[0]])(_,l,C.localize,N)}).join("")}function lt(e,t){var n,a;let l="function"==typeof(n=t)&&(null==(a=n.prototype)?void 0:a.constructor)===n?new t(0):aL(t,0);return l.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),l.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),l}var ln=e=>{let{date:t,i18n:n,pattern:a,timezone:l}=e,o=new aD(new Date(t));if(l){let e=aD.tz(l),t=lt(o.withTimeZone(l),e);return n.dateFNS?le(t,a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")}return n.dateFNS?le(o,a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")},la=e=>{let{date:t,i18n:n}=e,a=new Date(t);return(null==n?void 0:n.dateFNS)?function(e,t){return function(e,t,n){var a,l,o;let r=null!=(l=null!=(a=null==n?void 0:n.locale)?a:aI.locale)?l:s.b,i=aq(e,t);if(isNaN(i))throw RangeError("Invalid time value");let c=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:i}),[u,d]=aU(null==n?void 0:n.in,...i>0?[t,e]:[e,t]),p=(o=void 0,e=>{let t=(o?Math[o]:Math.trunc)(e);return 0===t?0:t})((aM(d)-aM(u))/1e3),h=Math.round((p-(aV(d)-aV(u))/1e3)/60),f;if(h<2)return(null==n?void 0:n.includeSeconds)?p<5?r.formatDistance("lessThanXSeconds",5,c):p<10?r.formatDistance("lessThanXSeconds",10,c):p<20?r.formatDistance("lessThanXSeconds",20,c):p<40?r.formatDistance("halfAMinute",0,c):p<60?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",1,c):0===h?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",h,c);if(h<45)return r.formatDistance("xMinutes",h,c);if(h<90)return r.formatDistance("aboutXHours",1,c);if(h<1440){let e=Math.round(h/60);return r.formatDistance("aboutXHours",e,c)}if(h<2520)return r.formatDistance("xDays",1,c);if(h<43200){let e=Math.round(h/1440);return r.formatDistance("xDays",e,c)}if(h<86400)return f=Math.round(h/43200),r.formatDistance("aboutXMonths",f,c);if((f=function(e,t,n){var a;let l,o,r,i,[s,c,u]=aU(void 0,e,e,t),d=aq(c,u),p=Math.abs(function(e,t,n){let[a,l]=aU(void 0,e,t);return 12*(a.getFullYear()-l.getFullYear())+(a.getMonth()-l.getMonth())}(c,u));if(p<1)return 0;1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-d*p);let h=aq(c,u)===-d;l=aM(s,void 0),+((o=aM(l,null==a?void 0:a.in)).setHours(23,59,59,999),o)==+(i=(r=aM(l,null==a?void 0:a.in)).getMonth(),r.setFullYear(r.getFullYear(),i+1,0),r.setHours(23,59,59,999),r)&&1===p&&1===aq(s,u)&&(h=!1);let f=d*(p-h);return 0===f?0:f}(d,u))<12){let e=Math.round(h/43200);return r.formatDistance("xMonths",e,c)}{let e=f%12,t=Math.trunc(f/12);return e<3?r.formatDistance("aboutXYears",t,c):e<9?r.formatDistance("overXYears",t,c):r.formatDistance("almostXYears",t+1,c)}}(e,aL(e,Date.now()),t)}(a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")};function ll(e){return"object"==typeof e&&"root"in e}function lo(e,t){for(let n of e)"text"in n&&n.text?t+=n.text:"children"in n||(t+="[".concat(n.type,"]")),"children"in n&&n.children&&(t+=lo(n.children,t));return t}var lr=e=>{var t,n,a,l,o,r,i;let s,{collectionConfig:c,data:u,dateFormat:d,fallback:h,globalConfig:f,i18n:m}=e;if(c){let e=null==c||null==(o=c.admin)?void 0:o.useAsTitle;if(e&&(s=(null==u?void 0:u[e])||s)){let t=c.fields.find(t=>"name"in t&&t.name===e);(null==t?void 0:t.type)==="date"&&(s=ln({date:s,i18n:m,pattern:"date"in t.admin&&(null==t||null==(i=t.admin)||null==(r=i.date)?void 0:r.displayFormat)||d})||s)}}return f&&(s=(0,p.sC)(null==f?void 0:f.label,m)||(null==f?void 0:f.slug)),ll(s)&&(s=lo((null==(n=s.root.children)||null==(t=n[0])?void 0:t.children)||[],"")),!s&&ll(h)&&(s=lo((null==(l=h.root.children)||null==(a=l[0])?void 0:a.children)||[],"")),s||(s="string"==typeof h?h:"[".concat(m.t("general:untitled"),"]")),s},li=o.createContext({resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),ls=e=>{let t=(0,d.c)(5),{children:n}=e,[a,l]=o.useState(void 0),r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{l({})},t[0]=r):r=t[0];let i=r,s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{l(t=>({...t||{},...e||{}}))},t[1]=s):s=t[1];let c=s,p;return t[2]!==n||t[3]!==a?(p=(0,u.jsx)(li,{value:{resetUploadEdits:i,updateUploadEdits:c,uploadEdits:a},children:n}),t[2]=n,t[3]=a,t[4]=p):p=t[4],p},lc=()=>o.use(li),lu=e=>{let{collectionSlug:t,docPermissions:n,globalSlug:a,isEditing:l}=e;return t?!!(l&&(null==n?void 0:n.update)||!l&&(null==n?void 0:n.create)):!!a&&!!(null==n?void 0:n.update)},ld=e=>{let{id:t,collectionSlug:n,globalSlug:a}=e;return!!(a||n&&t)},lp=e=>{let{id:t,api:n,collectionSlug:a,globalSlug:l,i18n:r,locale:i,permissions:s,serverURL:c,setDocPermissions:u,setHasPublishPermission:d,setHasSavePermission:p}=e;return o.useCallback(async e=>{let o={locale:i||void 0},h=(null==e?void 0:e.id)||t,f=ld({id:h,collectionSlug:a,globalSlug:l});if(f){let t=a?"/".concat(a,"/access/").concat(h):l?"/globals/".concat(l,"/access"):null;if(t){let i=await (await fetch("".concat(c).concat(n).concat(t,"?").concat(v.A(o)),{body:JSON.stringify({...e||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),s=await fetch("".concat(c).concat(n).concat(t,"?").concat(v.A(o)),{body:JSON.stringify({...e||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());u(i),p(lu({collectionSlug:a,docPermissions:i,globalSlug:l,isEditing:f})),d(null==s?void 0:s.update)}}else{var m,g;let e=a?null==s||null==(m=s.collections)?void 0:m[a]:null==s||null==(g=s.globals)?void 0:g[l];u(e),p(lu({collectionSlug:a,docPermissions:e,globalSlug:l,isEditing:f}))}},[c,n,t,s,r.language,i,a,l])},lh=(0,o.createContext)({}),lf=()=>(0,o.use)(lh),lm=e=>{let{children:t,...n}=e,{id:a,collectionSlug:l,currentEditor:r,docPermissions:c,globalSlug:d,hasPublishedDoc:p,hasPublishPermission:h,hasSavePermission:f,initialData:m,initialState:g,isLocked:b,lastUpdateTime:x,mostRecentVersionIsAutosaved:y,unpublishedVersionCount:w,versionCount:C}=n,[j,S]=(0,o.useState)(c),[_,k]=(0,o.useState)(f),[N,E]=(0,o.useState)(h),{permissions:P}=as(),{config:{admin:{dateFormat:D},routes:{api:O},serverURL:T},getEntityConfig:R}=(0,i.b)(),A=R({collectionSlug:l}),L=R({globalSlug:d}),M=(0,o.useRef)(new AbortController),I=A||L,{i18n:F}=(0,s.d)(),{uploadEdits:B}=lc(),[z,V]=(0,o.useState)(()=>lr({collectionConfig:A,data:{...m||{},id:a},dateFormat:D,fallback:null==a?void 0:a.toString(),globalConfig:L,i18n:F})),[U,H]=(0,o.useState)(y),[q,W]=(0,o.useState)(C),[Y,K]=(0,o.useState)(p),[G,X]=(0,o.useState)(w),[Q,$]=(0,o.useState)(b),[Z,J]=(0,o.useState)(r),[ee,et]=(0,o.useState)(x),[en,ea]=(0,o.useState)(m),[el,eo]=(0,o.useState)("idle"),er=(0,o.useCallback)(e=>{eo(e)},[]),{getPreference:ei,setPreference:es}=ap(),{code:ec}=ab(),{localeIsLoading:eu}=av(),ed=(0,o.useMemo)(()=>void 0===g||void 0===m||eu,[m,g,eu]),ep="".concat(T).concat(O),eh,ef,em;d&&(eh=d,ef="globals",em="global-".concat(eh)),l&&(eh=l,ef="collections",a&&(em="collection-".concat(eh,"-").concat(a)));let eg=(0,o.useCallback)(async(e,t)=>{try{let n=t===d?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),a=await ao.get("".concat(T).concat(O,"/payload-locked-documents?").concat(n)),{docs:l}=await a.json();if(l.length>0){let e=l[0].id;await ao.delete("".concat(T).concat(O,"/payload-locked-documents/").concat(e),{headers:{"Content-Type":"application/json"}}),$(!1)}}catch(e){console.error("Failed to unlock the document",e)}},[T,O,d]),ev=(0,o.useCallback)(async(e,t,n)=>{try{let a=t===d?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),l=await ao.get("".concat(T).concat(O,"/payload-locked-documents?").concat(a)),{docs:o}=await l.json();if(o.length>0){let e=o[0].id,t="object"==typeof n?{relationTo:n.collection,value:n.id}:{relationTo:"users",value:n};await ao.patch("".concat(T).concat(O,"/payload-locked-documents/").concat(e),{body:JSON.stringify({user:t}),headers:{"Content-Type":"application/json"}})}}catch(e){console.error("Failed to update the document editor",e)}},[T,O,d]),eb=lp({id:a,api:O,collectionSlug:l,globalSlug:d,i18n:F,locale:ec,permissions:P,serverURL:T,setDocPermissions:S,setHasPublishPermission:E,setHasSavePermission:k}),ex=(0,o.useCallback)(()=>ei(em),[ei,em]),ey=(0,o.useCallback)(async(e,t)=>{let n=await ex();if(em)try{var a;await es(em,{...n,fields:{...(null==n?void 0:n.fields)||{},[e]:{...null==n||null==(a=n.fields)?void 0:a[e],...t}}})}catch(e){console.error(e)}},[es,em,ex]),ew=(0,o.useCallback)(()=>{let e=q+1;A&&A.versions?A.versions.maxPerDoc>0?W(Math.min(e,A.versions.maxPerDoc)):W(e):L&&L.versions&&(L.versions.max>0?W(Math.min(e,L.versions.max)):W(e))},[A,L,q]),eC=o.useCallback(e=>{ea(e)},[]);(0,o.useEffect)(()=>{V(lr({collectionConfig:A,data:{...en,id:a},dateFormat:D,fallback:null==a?void 0:a.toString(),globalConfig:L,i18n:F}))},[A,L,en,D,F,a]),(0,o.useEffect)(()=>{let e=M.current;return()=>{if(e)try{e.abort()}catch(e){}}},[]);let ej=o.useMemo(()=>"".concat("".concat(ep).concat("globals"===ef?"/globals":"","/").concat(eh).concat(a?"/".concat(a):"")).concat(v.A({depth:0,"fallback-locale":"null",locale:ec,uploadEdits:B||void 0},{addQueryPrefix:!0})),[ep,ec,ef,a,eh,B]),eS={...n,action:ej,currentEditor:Z,docConfig:I,docPermissions:j,documentIsLocked:Q,getDocPermissions:eb,getDocPreferences:ex,hasPublishedDoc:Y,hasPublishPermission:N,hasSavePermission:_,incrementVersionCount:ew,initialData:m,initialState:g,isInitializing:ed,lastUpdateTime:ee,mostRecentVersionIsAutosaved:U,preferencesKey:em,savedDocumentData:en,setCurrentEditor:J,setDocFieldPreferences:ey,setDocumentIsLocked:$,setDocumentTitle:V,setHasPublishedDoc:K,setLastUpdateTime:et,setMostRecentVersionIsAutosaved:H,setUnpublishedVersionCount:X,setUploadStatus:er,title:z,unlockDocument:eg,unpublishedVersionCount:G,updateDocumentEditor:ev,updateSavedDocumentData:eC,uploadStatus:el,versionCount:q};return(0,u.jsx)(lh,{value:eS,children:t})},lg=e=>(0,u.jsx)(ls,{children:(0,u.jsx)(lm,{...e})}),lv=(0,o.createContext)(""),lb=e=>{let{children:t,operation:n}=e;return(0,u.jsx)(lv,{value:n,children:t})},lx=()=>(0,o.use)(lv),ly=e=>{let t,n=(0,d.c)(62),{disableFormData:a,hasRows:l,path:r,validate:c}=e,u=void 0!==a&&a,p=e_(),h=ek(),f=eP(),{user:m}=as(),{id:g,collectionSlug:v}=lf(),b=lx(),x=eD(lw),y;n[0]!==r?(y=e=>{let[t]=e;return t&&(null==t?void 0:t[r])||null},n[0]=r,n[1]=y):y=n[1];let w=eD(y),{t:C}=(0,s.d)(),{config:j}=(0,i.b)(),{getData:S,getDataByPath:_,getSiblingData:k,setModified:N}=eC(),E=ej(),P=eE(),D=null==w?void 0:w.filterOptions,O=null==w?void 0:w.value,T=null==w?void 0:w.initialValue,R="boolean"!=typeof(null==w?void 0:w.valid)||w.valid,A=!1===R&&p,L=(0,o.useRef)(R),M=(0,o.useRef)(null==w?void 0:w.errorMessage),I;n[2]!==r?(I=r?r.split("."):[],n[2]=r,n[3]=I):I=n[3];let F=I,B;n[4]!==u||n[5]!==x||n[6]!==l||n[7]!==P||n[8]!==r||n[9]!==N?(B=(e,t)=>{let n=e&&e.target?e.target.value:e;x({type:"UPDATE",disableFormData:u||l&&n>0,path:r,value:n}),void 0!==t&&t||"function"==typeof N&&!1===P&&setTimeout(()=>{N(!0)},10)},n[4]=u,n[5]=x,n[6]=l,n[7]=P,n[8]=r,n[9]=N,n[10]=B):B=n[10];let z=B,V,U=null==w?void 0:w.customComponents,H=h||f,q=null==w?void 0:w.errorMessage,W;n[11]!==(null==w?void 0:w.errorPaths)?(W=(null==w?void 0:w.errorPaths)||[],n[11]=null==w?void 0:w.errorPaths,n[12]=W):W=n[12];let Y=null==w?void 0:w.rows,K=null==w?void 0:w.valid,G;n[13]!==D||n[14]!==T||n[15]!==f||n[16]!==r||n[17]!==h||n[18]!==z||n[19]!==A||n[20]!==p||n[21]!==K||n[22]!==U||n[23]!==H||n[24]!==q||n[25]!==W||n[26]!==Y||n[27]!==O?(G={customComponents:U,disabled:H,errorMessage:q,errorPaths:W,filterOptions:D,formInitializing:f,formProcessing:h,formSubmitted:p,initialValue:T,path:r,rows:Y,setValue:z,showError:A,valid:K,value:O},n[13]=D,n[14]=T,n[15]=f,n[16]=r,n[17]=h,n[18]=z,n[19]=A,n[20]=p,n[21]=K,n[22]=U,n[23]=H,n[24]=q,n[25]=W,n[26]=Y,n[27]=O,n[28]=G):G=n[28],V=G,n[29]!==v||n[30]!==j||n[31]!==u||n[32]!==x||n[33]!==E||n[34]!==w||n[35]!==S||n[36]!==_||n[37]!==k||n[38]!==l||n[39]!==g||n[40]!==b||n[41]!==r||n[42]!==F||n[43]!==C||n[44]!==m||n[45]!==c||n[46]!==O?(t=()=>{(async()=>{let e=O;(null==w?void 0:w.rows)&&Array.isArray(w.rows)&&(e=_(r));let t=M.current,n=L.current,a=S(),o="function"==typeof c?await c(e,{id:g,blockData:void 0,collectionSlug:v,data:(null==E?void 0:E.getData)?E.getData():a,event:"onChange",operation:b,path:F,preferences:{},req:{payload:{config:j},t:C,user:m},siblingData:k(r)}):"string"==typeof M.current?M.current:L.current;if("string"==typeof o?(n=!1,t=o):"boolean"==typeof o&&(n=o,t=void 0),n!==L.current||t!==M.current){L.current=n,M.current=t;let e={type:"UPDATE",errorMessage:t,path:r,rows:null==w?void 0:w.rows,valid:n,validate:c,value:O};(u||l&&"number"==typeof O&&O>0)&&(e.disableFormData=!0),"function"==typeof x&&x(e)}})()},n[29]=v,n[30]=j,n[31]=u,n[32]=x,n[33]=E,n[34]=w,n[35]=S,n[36]=_,n[37]=k,n[38]=l,n[39]=g,n[40]=b,n[41]=r,n[42]=F,n[43]=C,n[44]=m,n[45]=c,n[46]=O,n[47]=t):t=n[47];let X=null==w?void 0:w.rows,Q;return n[48]!==v||n[49]!==u||n[50]!==x||n[51]!==S||n[52]!==_||n[53]!==k||n[54]!==g||n[55]!==b||n[56]!==r||n[57]!==X||n[58]!==m||n[59]!==c||n[60]!==O?(Q=[O,u,x,S,k,_,g,b,r,m,c,X,v],n[48]=v,n[49]=u,n[50]=x,n[51]=S,n[52]=_,n[53]=k,n[54]=g,n[55]=b,n[56]=r,n[57]=X,n[58]=m,n[59]=c,n[60]=O,n[61]=Q):Q=n[61],aS(t,150,Q),V};function lw(e){let[,t]=e;return t}var lC=e=>{let t=(0,d.c)(2),{children:n,path:a}=e,l;t[0]!==a?(l=e=>{let[t]=e;return t&&(null==t?void 0:t[a])||null},t[0]=a,t[1]=l):l=t[1];let{passesCondition:o}=eD(l)||{};return!1===o?null:n},lj=e=>t=>{let{path:n}=t;return(0,u.jsx)(lC,{path:n,children:(0,u.jsx)(e,{...t})})},lS=e=>{var t,n,a,l;return{...(null==e||null==(t=e.admin)?void 0:t.style)||{},...(null==e||null==(n=e.admin)?void 0:n.width)?{"--field-width":e.admin.width}:{flex:"1 1 auto"},...(null==e||null==(l=e.admin)||null==(a=l.style)?void 0:a.flex)?{flex:e.admin.style.flex}:{}}},l_="field-type";function lk(e){let{fieldLocalized:t,fieldRTL:n,locale:a,localizationConfig:l}=e,o=a&&l&&l.locales&&l.locales.length>1,r=(null==a?void 0:a.code)===(null==l?void 0:l.defaultLocale);return!1!==n&&(null==a?void 0:a.rtl)===!0&&(t||!t&&!o||!t&&r)||!0===n}var lN=()=>(0,u.jsx)("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})}),lE=()=>(0,u.jsx)("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})}),lP="checkbox-input",lD=e=>{let{id:t,name:n,AfterInput:a,BeforeInput:l,checked:o,className:r,inputRef:i,Label:s,label:c,localized:d,onToggle:p,partialChecked:h,readOnly:f,required:m}=e;return(0,u.jsxs)("div",{className:[r,lP,o&&"".concat(lP,"--checked"),f&&"".concat(lP,"--read-only")].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:"".concat(lP,"__input"),children:[l,(0,u.jsx)("input",{"aria-label":"",defaultChecked:!!o,disabled:f,id:t,name:n,onInput:p,ref:i,required:m,type:"checkbox"}),(0,u.jsxs)("span",{className:["".concat(lP,"__icon"),!o&&h?"partial":"check"].filter(Boolean).join(" "),children:[o&&(0,u.jsx)(lN,{}),!o&&h&&(0,u.jsx)(lE,{})]}),a]}),(0,u.jsx)(el,{CustomComponent:s,Fallback:(0,u.jsx)(aw,{htmlFor:t,label:c,localized:d,required:m})})]})},lO="checkbox",lT=lj(e=>{let{id:t,checked:n,disableFormData:a,field:l,field:{admin:{className:r,description:i}={},label:s,required:c}={},onChange:d,partialChecked:p,path:h,readOnly:f,validate:m}=e,{uuid:g}=eC(),v=tF(),{customComponents:{AfterInput:b,BeforeInput:x,Description:y,Error:w,Label:C}={},disabled:j,setValue:S,showError:_,value:k}=ly({disableFormData:a,path:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:c})},[m,c])}),N=(0,o.useCallback)(()=>{f||(S(!k),"function"==typeof d&&d(!k))},[d,f,S,k]),E=n||!!k,P=t||ay(h,v,g),D=(0,o.useMemo)(()=>lS(l),[l]);return(0,u.jsxs)("div",{className:[l_,lO,_&&"error",r,k&&"".concat(lO,"--checked"),(f||j)&&"".concat(lO,"--read-only")].filter(Boolean).join(" "),style:D,children:[(0,u.jsx)(el,{CustomComponent:w,Fallback:(0,u.jsx)(tL,{path:h,showError:_})}),(0,u.jsx)(lD,{AfterInput:b,BeforeInput:x,checked:E,id:P,inputRef:null,Label:C,label:s,name:h,onToggle:N,partialChecked:p,readOnly:f||j,required:c}),(0,u.jsx)(el,{CustomComponent:y,Fallback:(0,u.jsx)(tA,{description:i,path:h})})]})}),lR=e=>{let t,n=(0,d.c)(4),{fieldValue:a,localized:l,path:r}=e,{code:c}=ab(),{config:p}=(0,i.b)(),{localization:h}=p,[f,m]=o.useState("number"!=typeof a),{t:g}=(0,s.d)();if(!l||!h||h.defaultLocale===c||!h.fallback)return null;if(a){let e=!1;if("number"==typeof a&&a>0&&(e=!0),Array.isArray(a)&&a.length>0&&(e=!0),e)return f&&m(!1),null}return n[0]!==f||n[1]!==r||n[2]!==g?(t=(0,u.jsx)(eq,{children:(0,u.jsx)(lT,{checked:f,field:{name:"",label:g("general:fallbackToDefaultLocale")},id:"field-".concat(r.replace(/\./g,"__")),path:r,schemaPath:""})}),n[0]=f,n[1]=r,n[2]=g,n[3]=t):t=n[3],t},lA=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:e.top-100})}},lL=()=>(0,u.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})}),lM=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]})},lI="array-actions",lF=e=>{let t=(0,d.c)(10),{addRow:n,duplicateRow:a,hasMaxRows:l,index:r,isSortable:i,moveRow:c,removeRow:p,rowCount:h}=e,{t:f}=(0,s.d)(),m;return t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==r||t[4]!==i||t[5]!==c||t[6]!==p||t[7]!==h||t[8]!==f?(m=(0,u.jsx)(ta,{button:(0,u.jsx)(lM,{}),buttonClassName:"".concat(lI,"__button"),className:lI,horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsxs)(eQ.ButtonGroup,{buttonSize:"small",children:[i&&0!==r&&(0,u.jsxs)(eQ.Button,{className:"".concat(lI,"__action ").concat(lI,"__move-up"),onClick:()=>{c(r,r-1),t()},children:[(0,u.jsx)("div",{className:"".concat(lI,"__action-chevron"),children:(0,u.jsx)(eW,{direction:"up"})}),f("general:moveUp")]}),i&&r<h-1&&(0,u.jsxs)(eQ.Button,{className:"".concat(lI,"__action"),onClick:()=>{c(r,r+1),t()},children:[(0,u.jsx)("div",{className:"".concat(lI,"__action-chevron"),children:(0,u.jsx)(eW,{})}),f("general:moveDown")]}),!l&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)(eQ.Button,{className:"".concat(lI,"__action ").concat(lI,"__add"),onClick:()=>{n(r+1),t()},children:[(0,u.jsx)(eG,{}),f("general:addBelow")]}),(0,u.jsxs)(eQ.Button,{className:"".concat(lI,"__action ").concat(lI,"__duplicate"),onClick:()=>{a(r),t()},children:[(0,u.jsx)(lL,{}),f("general:duplicate")]})]}),(0,u.jsxs)(eQ.Button,{className:"".concat(lI,"__action ").concat(lI,"__remove"),onClick:()=>{p(r),t()},children:[(0,u.jsx)(s.a,{}),f("general:remove")]})]})},size:"medium"}),t[0]=n,t[1]=a,t[2]=l,t[3]=r,t[4]=i,t[5]=c,t[6]=p,t[7]=h,t[8]=f,t[9]=m):m=t[9],m},lB=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]})},lz=e=>{let{containerRef:t,contentRef:n,duration:a,open:l}=e,r=(0,o.useMemo)(()=>!!("u">typeof CSS&&CSS)&&!!CSS.supports&&CSS.supports("interpolate-size","allow-keywords"),[]),i=(0,o.useRef)(!1),s=(0,o.useRef)(l),[c,u]=(0,o.useState)(!1),d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=t.current,o=n.current;if(!e||!o||r)return;let p=t=>{e.style.height=t},h=()=>{e&&(e.style.transition="",e.style.height=l?"auto":"0px",u(!1))};return(()=>{if(!i.current&&l){p("auto"),u(!1);return}i.current=!0,s.current!==l&&p(l?"0px":"".concat(o.scrollHeight,"px")),e.offsetHeight,u(!0),e.style.transition="height ".concat(a,"ms ease"),p(l?"".concat(o.scrollHeight,"px"):"0px");let t=()=>{h(),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)})(),s.current=l,d.current=new ResizeObserver(()=>{c&&(e.style.height=l?"".concat(o.scrollHeight,"px"):"0px")}),d.current.observe(o),()=>{var t;e&&(e.style.transition="",e.style.height=""),null==(t=d.current)||t.disconnect()}},[l,a,t,n,r]),{browserSupportsKeywordAnimation:r}},lV=e=>{let{id:t,children:n,className:a,duration:l=300,height:r}=e,[i,s]=o.useState(()=>!!r),c=(0,o.useRef)(i),[d,p]=o.useState(()=>i?"":"none"),[h,f]=o.useState(()=>i?"":"hidden"),[m,g]=o.useState(!1),v=(0,o.useRef)(null),b=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e,t,n=!!r,a=c.current!==n;return c.current=n,a&&(g(!0),f("hidden"),n?p(""):e=window.setTimeout(()=>{p("none")},l),s(n),t=window.setTimeout(()=>{f(""),g(!1)},l)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[r,l]),lz({containerRef:v,contentRef:b,duration:l,open:i}),(0,u.jsx)("div",{"aria-hidden":!i,className:[a,"rah-static",i&&"auto"===r&&"rah-static--height-auto",m&&"rah-animating--".concat(i?"down":"up"),m&&"auto"===r&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:v,style:{overflow:h,transition:"height ".concat(l,"ms ease")},children:(0,u.jsx)("div",{ref:b,...d?{style:{display:d}}:{},children:n})})},lU=(0,o.createContext)({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),lH=e=>{let{children:t,isCollapsed:n,isWithinCollapsible:a=!0,toggle:l}=e,{isCollapsed:r,isVisible:i}=lq(),s=o.useMemo(()=>({isCollapsed:n,isVisible:i&&!r,isWithinCollapsible:a,toggle:l}),[n,a,l,r,i]);return(0,u.jsx)(lU,{value:s,children:t})},lq=()=>(0,o.use)(lU),lW="collapsible",lY=e=>{let t=(0,d.c)(26),{actions:n,children:a,className:l,collapsibleStyle:r,dragHandleProps:i,header:c,initCollapsed:p,isCollapsed:h,onToggle:f}=e,[m,g]=(0,o.useState)(!!p),[v,b]=(0,o.useState)(!1),{isWithinCollapsible:x}=lq(),{t:y}=(0,s.d)(),w="boolean"==typeof h?h:m,C;t[0]!==w||t[1]!==f?(C=()=>{"function"==typeof f&&f(!w),g(!w)},t[0]=w,t[1]=f,t[2]=C):C=t[2];let j=C,S=i&&"".concat(lW,"--has-drag-handle"),_=w&&"".concat(lW,"--collapsed"),k=x&&"".concat(lW,"--nested"),N=v&&"".concat(lW,"--hovered"),E="".concat(lW,"--style-").concat(void 0===r?"default":r),P;t[3]!==l||t[4]!==S||t[5]!==_||t[6]!==k||t[7]!==N||t[8]!==E?(P=[lW,l,S,_,k,N,E].filter(Boolean),t[3]=l,t[4]=S,t[5]=_,t[6]=k,t[7]=N,t[8]=E,t[9]=P):P=t[9];let D=P.join(" "),O,T;t[10]===Symbol.for("react.memo_cache_sentinel")?(O=()=>b(!0),T=()=>b(!1),t[10]=O,t[11]=T):(O=t[10],T=t[11]);let R="".concat(lW,"__toggle--").concat(w?"collapsed":"open"),A;t[12]!==R?(A=["".concat(lW,"__toggle"),R].filter(Boolean),t[12]=R,t[13]=A):A=t[13];let L=A.join(" "),M;if(t[14]!==n||t[15]!==a||t[16]!==i||t[17]!==c||t[18]!==w||t[19]!==y||t[20]!==L||t[21]!==D||t[22]!==j){let e;t[24]!==i?(e=i&&(0,u.jsx)("div",{className:"".concat(lW,"__drag"),...i.attributes,...i.listeners,children:(0,u.jsx)(lB,{})}),t[24]=i,t[25]=e):e=t[25],M=(0,u.jsx)("div",{className:D,children:(0,u.jsxs)(lH,{isCollapsed:w,toggle:j,children:[(0,u.jsxs)("div",{className:"".concat(lW,"__toggle-wrap"),onMouseEnter:O,onMouseLeave:T,children:[(0,u.jsx)("button",{className:L,onClick:j,type:"button",children:(0,u.jsx)("span",{children:y("fields:toggleBlock")})}),e,c?(0,u.jsx)("div",{className:["".concat(lW,"__header-wrap"),i&&"".concat(lW,"__header-wrap--has-drag-handle")].filter(Boolean).join(" "),children:c}):null,(0,u.jsxs)("div",{className:"".concat(lW,"__actions-wrap"),children:[n?(0,u.jsx)("div",{className:"".concat(lW,"__actions"),children:n}):null,(0,u.jsx)("div",{className:"".concat(lW,"__indicator"),children:(0,u.jsx)(eW,{direction:w?void 0:"up"})})]})]}),(0,u.jsx)(lV,{height:w?0:"auto",children:(0,u.jsx)("div",{className:"".concat(lW,"__content"),children:a})})]})}),t[14]=n,t[15]=a,t[16]=i,t[17]=c,t[18]=w,t[19]=y,t[20]=L,t[21]=D,t[22]=j,t[23]=M}else M=t[23];return M},lK=e=>{var t;let n=(0,d.c)(9),{children:a,className:l,forceRender:r}=e,[i,s]=o.useState(!!r),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c={rootMargin:"1000px"},n[0]=c):c=n[0];let[p,h]=e7(c,!!r),f=!!(null==h?void 0:h.isIntersecting),m=(null==h||null==(t=h.boundingClientRect)?void 0:t.top)<0,g=r||f||m,v,b;n[1]!==i||n[2]!==g?(v=()=>{g&&!i&&s(!0)},b=[g,i],n[1]=i,n[2]=g,n[3]=v,n[4]=b):(v=n[3],b=n[4]),o.useEffect(v,b);let x=i?a:null,y;return n[5]!==l||n[6]!==p||n[7]!==x?(y=(0,u.jsx)("div",{className:l,ref:p,children:x}),n[5]=l,n[6]=p,n[7]=x,n[8]=y):y=n[8],y},lG="pill",lX=e=>{let t=(0,d.c)(12),{id:n,className:a}=e,l;t[0]!==n?(l={id:n},t[0]=n,t[1]=l):l=t[1];let{attributes:o,isDragging:r,listeners:i,setNodeRef:s,transform:c}=tE(l),p=r&&"".concat(lG,"--is-dragging"),h;t[2]!==a||t[3]!==p?(h=[p,a].filter(Boolean),t[2]=a,t[3]=p,t[4]=h):h=t[4];let f=h.join(" "),m;return t[5]!==o||t[6]!==i||t[7]!==e||t[8]!==s||t[9]!==f||t[10]!==c?(m=(0,u.jsx)(lQ,{...e,className:f,elementProps:{...i,...o,ref:s,style:{transform:c}}}),t[5]=o,t[6]=i,t[7]=e,t[8]=s,t[9]=f,t[10]=c,t[11]=m):m=t[11],m},lQ=e=>{let{id:t,alignIcon:n="right","aria-checked":a,"aria-controls":l,"aria-expanded":o,"aria-label":r,children:i,className:s,draggable:c,elementProps:d,icon:p,onClick:h,pillStyle:f="light",rounded:m,size:g="medium",to:v}=e,b=[lG,"".concat(lG,"--style-").concat(f),"".concat(lG,"--size-").concat(g),s&&s,v&&"".concat(lG,"--has-link"),(v||h)&&"".concat(lG,"--has-action"),p&&"".concat(lG,"--has-icon"),p&&"".concat(lG,"--align-icon-").concat(n),c&&"".concat(lG,"--draggable"),m&&"".concat(lG,"--rounded")].filter(Boolean).join(" "),x="div";return h&&!v&&(x="button"),v&&(x=eU),(0,u.jsxs)(x,{...d,"aria-checked":a,"aria-controls":l,"aria-expanded":o,"aria-label":r,className:b,href:v||null,id:t,onClick:h,type:"button"===x?"button":void 0,children:[(0,u.jsx)("span",{className:"".concat(lG,"__label"),children:i}),!!p&&(0,u.jsx)("span",{className:"".concat(lG,"__icon"),children:p})]})},l$=e=>{let{draggable:t}=e;return t?(0,u.jsx)(lX,{...e}):(0,u.jsx)(lQ,{...e})};function lZ(e,t){let[n,a]=(0,o.useState)(e);return(0,o.useEffect)(()=>{let n=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}var lJ="thumbnail-card",l0=e=>{let t,n=(0,d.c)(15),{alignLabel:a,className:l,collection:o,doc:r,label:c,onClick:p,thumbnail:h}=e,{config:f}=(0,i.b)(),{i18n:m}=(0,s.d)(),g="function"==typeof p&&"".concat(lJ,"--has-on-click"),v=a&&"".concat(lJ,"--align-label-").concat(a),b;n[0]!==l||n[1]!==g||n[2]!==v?(b=[lJ,l,g,v].filter(Boolean),n[0]=l,n[1]=g,n[2]=v,n[3]=b):b=n[3];let x=b.join(" "),y=c;if(!y){let e=null==r?void 0:r.filename,t;n[4]!==o||n[5]!==f.admin.dateFormat||n[6]!==r||n[7]!==m||n[8]!==e?(t=lr({collectionConfig:o,data:r,dateFormat:f.admin.dateFormat,fallback:e,i18n:m}),n[4]=o,n[5]=f.admin.dateFormat,n[6]=r,n[7]=m,n[8]=e,n[9]=t):t=n[9],y=t}return n[10]!==x||n[11]!==p||n[12]!==h||n[13]!==y?(t=(0,u.jsxs)("button",{className:x,onClick:p,title:y,type:"button",children:[(0,u.jsx)("div",{className:"".concat(lJ,"__thumbnail"),children:h}),(0,u.jsx)("div",{className:"".concat(lJ,"__label"),children:y})]}),n[10]=x,n[11]=p,n[12]=h,n[13]=y,n[14]=t):t=n[14],t},l1=[];for(l2=0;l2<256;++l2)l1.push((l2+256).toString(16).slice(1));var l2,l3,l6=new Uint8Array(16),l5={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},l4=function(e,t,n){if(l5.randomUUID&&!t&&!e)return l5.randomUUID();var a=(e=e||{}).random||(e.rng||function(){if(!l3&&!(l3="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l3(l6)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var l=0;l<16;++l)t[n+l]=a[l];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(l1[e[t+0]]+l1[e[t+1]]+l1[e[t+2]]+l1[e[t+3]]+"-"+l1[e[t+4]]+l1[e[t+5]]+"-"+l1[e[t+6]]+l1[e[t+7]]+"-"+l1[e[t+8]]+l1[e[t+9]]+"-"+l1[e[t+10]]+l1[e[t+11]]+l1[e[t+12]]+l1[e[t+13]]+l1[e[t+14]]+l1[e[t+15]]).toLowerCase()}(a)},l8=()=>{let[e]=(0,o.useState)(()=>"pattern".concat(l4()));return(0,u.jsxs)("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsxs)("g",{clipPath:"url(#".concat(e,")"),children:[(0,u.jsx)("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),(0,u.jsx)("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"".concat(e),children:(0,u.jsx)("rect",{fill:"white",height:"151",width:"231"})})})]})},l9=()=>(0,u.jsx)("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})}),l7="block-search",oe=e=>{let t=(0,d.c)(5),{setSearchTerm:n}=e,{t:a}=(0,s.d)(),l;t[0]!==n?(l=e=>{n(e.target.value)},t[0]=n,t[1]=l):l=t[1];let o=l,r;return t[2]!==o||t[3]!==a?(r=(0,u.jsxs)("div",{className:l7,children:[(0,u.jsx)("input",{className:"".concat(l7,"__input"),onChange:o,placeholder:a("fields:searchForBlock")}),(0,u.jsx)(l9,{})]}),t[2]=o,t[3]=a,t[4]=r):r=t[4],r},ot="blocks-drawer",on=(e,t)=>"string"==typeof e.labels.singular?e.labels.singular.toLowerCase():"object"==typeof e.labels.singular?(0,p.sC)(e.labels.singular,t).toLowerCase():"",oa=e=>{let{addRow:t,addRowIndex:n,blocks:a,drawerSlug:l,labels:r}=e,[c,d]=(0,o.useState)(""),[h,f]=(0,o.useState)(a),{closeModal:m,isModalOpen:g}=t6(),{i18n:v,t:b}=(0,s.d)(),{config:x}=(0,i.b)(),y=(0,o.useMemo)(()=>{let e={_none:[]};return h.forEach(t=>{var n;if("object"==typeof t&&(null==(n=t.admin)?void 0:n.group)){let n=t.admin.group,a="string"==typeof n?n:(0,p.sC)(n,v);Object.hasOwn(e,a)?e[a].push(t):e[a]=[t]}else e._none.push(t)}),e},[h,v]);return(0,o.useEffect)(()=>{g(l)||d("")},[g,l]),(0,o.useEffect)(()=>{let e=c.toLowerCase();f(null==a?void 0:a.reduce((t,n)=>{let a="string"==typeof n?x.blocksMap[n]:n;return on(a,v).includes(e)&&t.push(a),t},[]))},[c,a,v,x.blocksMap]),(0,u.jsxs)(n4,{slug:l,title:b("fields:addLabel",{label:(0,p.sC)(r.singular,v)}),children:[(0,u.jsx)(oe,{setSearchTerm:d}),(0,u.jsx)("div",{className:"".concat(ot,"__blocks-wrapper"),children:(0,u.jsx)("ul",{className:"".concat(ot,"__block-groups"),children:Object.entries(y).map(e=>{let[a,o]=e;return o.length?(0,u.jsxs)("li",{className:["".concat(ot,"__block-group"),"_none"===a&&"".concat(ot,"__block-group-none")].filter(Boolean).join(" "),children:["_none"!==a&&(0,u.jsx)("h3",{className:"".concat(ot,"__block-group-label"),children:a}),(0,u.jsx)("ul",{className:"".concat(ot,"__blocks"),children:o.map((e,a)=>{let{slug:o,imageAltText:r,imageURL:i,labels:s}="string"==typeof e?x.blocksMap[e]:e;return(0,u.jsx)("li",{className:"".concat(ot,"__block"),children:(0,u.jsx)(l0,{alignLabel:"center",label:(0,p.sC)(null==s?void 0:s.singular,v),onClick:()=>{t(n,o),m(l)},thumbnail:(0,u.jsx)("div",{className:"".concat(ot,"__default-image"),children:i?(0,u.jsx)("img",{alt:r,src:i}):(0,u.jsx)(l8,{})})})},a)})})]},a):null})})})]})},ol=e=>{let t,n=(0,d.c)(26),{addRow:a,blocks:l,blockType:r,duplicateRow:i,hasMaxRows:s,isSortable:c,labels:p,moveRow:h,removeRow:f,rowCount:m,rowIndex:g}=e,{closeModal:v,openModal:b}=t6(),x=n2("blocks-drawer"),[y,w]=o.useState(null),C;if(n[0]!==a||n[1]!==v||n[2]!==x||n[3]!==y?(C=(e,t)=>{"function"==typeof a&&a(y,t),v(x)},n[0]=a,n[1]=v,n[2]=x,n[3]=y,n[4]=C):C=n[4],n[5]!==r||n[6]!==l||n[7]!==x||n[8]!==i||n[9]!==s||n[10]!==c||n[11]!==p||n[12]!==h||n[13]!==b||n[14]!==f||n[15]!==m||n[16]!==g||n[17]!==C){let e,a;n[19]!==x||n[20]!==b?(e=e=>{w(e),b(x)},n[19]=x,n[20]=b,n[21]=e):e=n[21],n[22]!==r||n[23]!==i||n[24]!==g?(a=()=>i(g,r),n[22]=r,n[23]=i,n[24]=g,n[25]=a):a=n[25],t=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(oa,{addRow:C,addRowIndex:g,blocks:l,drawerSlug:x,labels:p}),(0,u.jsx)(lF,{addRow:e,duplicateRow:a,hasMaxRows:s,index:g,isSortable:c,moveRow:h,removeRow:f,rowCount:m})]}),n[5]=r,n[6]=l,n[7]=x,n[8]=i,n[9]=s,n[10]=c,n[11]=p,n[12]=h,n[13]=b,n[14]=f,n[15]=m,n[16]=g,n[17]=C,n[18]=t}else t=n[18];return t},oo="section-title",or=e=>{let t=(0,d.c)(14),{customOnChange:n,customValue:a,path:l,readOnly:o}=e,r;t[0]!==l?(r={path:l},t[0]=l,t[1]=r):r=t[1];let{setValue:i,value:c}=ly(r),{t:p}=(0,s.d)(),h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[oo].filter(Boolean),t[2]=h):h=t[2];let f=h.join(" "),m;t[3]!==n||t[4]!==i?(m=n||(e=>{e.stopPropagation(),e.preventDefault(),i(e.target.value)}),t[3]=n,t[4]=i,t[5]=m):m=t[5];let g=m,v=a||c,b;return t[6]!==a||t[7]!==g||t[8]!==l||t[9]!==o||t[10]!==p||t[11]!==v||t[12]!==c?(b=(0,u.jsx)("div",{className:f,"data-value":v,children:(0,u.jsx)("input",{className:"".concat(oo,"__input"),id:l,name:l,onChange:g,placeholder:p("general:untitled"),readOnly:o,type:"text",value:a||c||""})}),t[6]=a,t[7]=g,t[8]=l,t[9]=o,t[10]=p,t[11]=v,t[12]=c,t[13]=b):b=t[13],b},oi="blocks-field",os=e=>{var t,n;let a=(0,d.c)(40),{addRow:l,attributes:o,block:r,blocks:c,duplicateRow:h,errorCount:f,fields:m,hasMaxRows:g,isLoading:v,isSortable:b,Label:x,labels:y,listeners:w,moveRow:C,parentPath:j,path:S,permissions:_,readOnly:k,removeRow:N,row:E,rowCount:P,rowIndex:D,schemaPath:O,setCollapse:T,setNodeRef:R,transform:A}=e,L=lZ(v,500),{i18n:M}=(0,s.d)(),I=e_()&&f>0,F=!(null==(t=r.admin)?void 0:t.disableBlockName),B=I?"".concat(oi,"__row--has-errors"):"".concat(oi,"__row--no-errors"),z;a[0]!==B?(z=["".concat(oi,"__row"),B].filter(Boolean),a[0]=B,a[1]=z):z=a[1];let V=z.join(" "),U;if(!0===_)U=!0;else{let e=null==_||null==(n=_.blocks)?void 0:n[r.slug];U=!0===e||(null==e?void 0:e.fields)}let H="".concat(null==j?void 0:j.split(".").join("-"),"-row-").concat(D),q;if(a[2]!==x||a[3]!==l||a[4]!==o||a[5]!==r.fields||a[6]!==r.labels||a[7]!==U||a[8]!==c||a[9]!==V||a[10]!==h||a[11]!==f||a[12]!==I||a[13]!==m||a[14]!==g||a[15]!==M||a[16]!==L||a[17]!==b||a[18]!==y||a[19]!==w||a[20]!==C||a[21]!==j||a[22]!==S||a[23]!==k||a[24]!==N||a[25]!==E.blockType||a[26]!==E.collapsed||a[27]!==E.id||a[28]!==P||a[29]!==D||a[30]!==O||a[31]!==T||a[32]!==R||a[33]!==F||a[34]!==H||a[35]!==A){let e;a[37]!==E.id||a[38]!==T?(e=e=>T(E.id,e),a[37]=E.id,a[38]=T,a[39]=e):e=a[39],q=(0,u.jsx)("div",{id:H,ref:R,style:{transform:A},children:(0,u.jsx)(lY,{actions:k?void 0:(0,u.jsx)(ol,{addRow:l,blocks:c,blockType:E.blockType,duplicateRow:h,fields:r.fields,hasMaxRows:g,isSortable:b,labels:y,moveRow:C,removeRow:N,rowCount:P,rowIndex:D}),className:V,collapsibleStyle:I?"error":"default",dragHandleProps:b?{id:E.id,attributes:o,listeners:w}:void 0,header:L?(0,u.jsx)(i.d,{height:"1rem",width:"8rem"}):(0,u.jsxs)("div",{className:"".concat(oi,"__block-header"),children:[(0,u.jsx)(eL,{CustomComponent:x,label:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(oi,"__block-number"),children:String(D+1).padStart(2,"0")}),(0,u.jsx)(l$,{className:"".concat(oi,"__block-pill ").concat(oi,"__block-pill-").concat(E.blockType),pillStyle:"white",children:(0,p.sC)(r.labels.singular,M)}),F&&(0,u.jsx)(or,{path:"".concat(S,".blockName"),readOnly:k})]}),path:S,rowNumber:D}),I&&(0,u.jsx)(tT,{count:f,i18n:M,withMessage:!0})]}),isCollapsed:E.collapsed,onToggle:e,children:L?(0,u.jsx)(i.d,{}):(0,u.jsx)(pB,{className:"".concat(oi,"__fields"),fields:m,margins:"small",parentIndexPath:"",parentPath:S,parentSchemaPath:O,permissions:U,readOnly:k})},E.id)},"".concat(j,"-row-").concat(D)),a[2]=x,a[3]=l,a[4]=o,a[5]=r.fields,a[6]=r.labels,a[7]=U,a[8]=c,a[9]=V,a[10]=h,a[11]=f,a[12]=I,a[13]=m,a[14]=g,a[15]=M,a[16]=L,a[17]=b,a[18]=y,a[19]=w,a[20]=C,a[21]=j,a[22]=S,a[23]=k,a[24]=N,a[25]=E.blockType,a[26]=E.collapsed,a[27]=E.id,a[28]=P,a[29]=D,a[30]=O,a[31]=T,a[32]=R,a[33]=F,a[34]=H,a[35]=A,a[36]=q}else q=a[36];return q},oc="blocks-field",ou=lj(e=>{let t,n,a=(0,d.c)(50),{i18n:l,t:r}=(0,s.d)(),{field:c,path:h,permissions:f,readOnly:m,schemaPath:g,validate:v}=e,{name:b,admin:x,blockReferences:y,blocks:w,label:C,labels:j,localized:S,maxRows:_,minRows:k,required:N}=c,E;a[0]!==x?(E=void 0===x?{}:x,a[0]=x,a[1]=E):E=a[1];let{className:P,description:D,isSortable:O}=E,T=void 0===O||O,R=null!=g?g:b,A=+(null!=k?!!k:!!N),{setDocFieldPreferences:L}=lf(),{addFieldRow:M,dispatchFields:I,moveFieldRow:F,removeFieldRow:B,setModified:z}=eC(),{code:V}=ab(),{config:U,config:H}=(0,i.b)(),{localization:q}=U,W=n2("blocks-drawer"),Y=e_(),K={plural:r("fields:blocks"),singular:r("fields:block"),...j},G;e:{if(q&&q.fallback){G=V===q.defaultLocale;break e}G=!0}let X=G,Q;a[2]!==X||a[3]!==_||a[4]!==A||a[5]!==N||a[6]!==v?(Q=(e,t)=>!X&&null===e||("function"==typeof v?v(e,{...t,maxRows:_,minRows:A,required:N}):void 0),a[2]=X,a[3]=_,a[4]=A,a[5]=N,a[6]=v,a[7]=Q):Q=a[7];let $=Q,Z;a[8]!==$||a[9]!==h?(Z={hasRows:!0,path:h,validate:$},a[8]=$,a[9]=h,a[10]=Z):Z=a[10];let{customComponents:J,disabled:ee,errorPaths:et,rows:en,showError:ea,valid:eo,value:er}=ly(Z),ei;a[11]!==J?(ei=void 0===J?{}:J,a[11]=J,a[12]=ei):ei=a[12];let{AfterInput:es,BeforeInput:ec,Description:eu,Error:ed,Label:ep}=ei,eh;a[13]!==en?(eh=void 0===en?[]:en,a[13]=en,a[14]=eh):eh=a[14];let ef=eh,em;a[15]!==M||a[16]!==h||a[17]!==R?(em=(e,t)=>{M({blockType:t,path:h,rowIndex:e,schemaPath:R}),setTimeout(()=>{lA("".concat(h,"-row-").concat(e+1))},0)},a[15]=M,a[16]=h,a[17]=R,a[18]=em):em=a[18];let eg=em,ev;a[19]!==I||a[20]!==h||a[21]!==z?(ev=e=>{I({type:"DUPLICATE_ROW",path:h,rowIndex:e}),z(!0),setTimeout(()=>{lA("".concat(h,"-row-").concat(e+1))},0)},a[19]=I,a[20]=h,a[21]=z,a[22]=ev):ev=a[22];let eb=ev,ex;a[23]!==h||a[24]!==B?(ex=e=>{B({path:h,rowIndex:e})},a[23]=h,a[24]=B,a[25]=ex):ex=a[25];let ey=ex,ew;a[26]!==F||a[27]!==h?(ew=(e,t)=>{F({moveFromIndex:e,moveToIndex:t,path:h})},a[26]=F,a[27]=h,a[28]=ew):ew=a[28];let ej=ew,eS;a[29]!==I||a[30]!==h||a[31]!==ef||a[32]!==L?(eS=e=>{let{collapsedIDs:t,updatedRows:n}=aj({collapsed:e,rows:ef});I({type:"SET_ALL_ROWS_COLLAPSED",path:h,updatedRows:n}),L(h,{collapsed:t})},a[29]=I,a[30]=h,a[31]=ef,a[32]=L,a[33]=eS):eS=a[33];let ek=eS,eN;a[34]!==I||a[35]!==h||a[36]!==ef||a[37]!==L?(eN=(e,t)=>{let{collapsedIDs:n,updatedRows:a}=aC({collapsed:t,rowID:e,rows:ef});I({type:"SET_ROW_COLLAPSED",path:h,updatedRows:a}),L(h,{collapsed:n})},a[34]=I,a[35]=h,a[36]=ef,a[37]=L,a[38]=eN):eN=a[38];let eE=eN,eP=_&&ef.length>=_,eD=et.length,eO=Y&&eD+ +!eo>0,eT=ef.length<A||N&&0===ef.length,eR=m&&0===ef.length,eA=eO?"".concat(oc,"--has-error"):"".concat(oc,"--has-no-error"),eL;return a[39]!==P||a[40]!==eA?(eL=[l_,oc,P,eA].filter(Boolean),a[39]=P,a[40]=eA,a[41]=eL):eL=a[41],a[42]!==ed||a[43]!==h||a[44]!==ea?(t=ea&&(0,u.jsx)(el,{CustomComponent:ed,Fallback:(0,u.jsx)(tL,{path:h,showError:ea})}),a[42]=ed,a[43]=h,a[44]=ea,a[45]=t):t=a[45],a[46]!==eD||a[47]!==eO||a[48]!==l?(n=eO&&eD>0&&(0,u.jsx)(tT,{count:eD,i18n:l,withMessage:!0}),a[46]=eD,a[47]=eO,a[48]=l,a[49]=n):n=a[49],(0,u.jsxs)("div",{className:eL.join(" "),id:"field-".concat(null==h?void 0:h.replace(/\./g,"__")),children:[t,(0,u.jsxs)("header",{className:"".concat(oc,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(oc,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(oc,"__heading-with-error"),children:[(0,u.jsx)("h3",{children:(0,u.jsx)(el,{CustomComponent:ep,Fallback:(0,u.jsx)(aw,{label:C,localized:S,path:h,required:N})})}),n]}),ef.length>0&&(0,u.jsxs)("ul",{className:"".concat(oc,"__header-actions"),children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oc,"__header-action"),onClick:()=>ek(!0),type:"button",children:r("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oc,"__header-action"),onClick:()=>ek(!1),type:"button",children:r("fields:showAll")})})]})]}),(0,u.jsx)(el,{CustomComponent:eu,Fallback:(0,u.jsx)(tA,{description:D,path:h})})]}),ec,(0,u.jsx)(lR,{fieldValue:er,localized:S,path:h}),(ef.length>0||!eo&&(eR||eT))&&(0,u.jsxs)(tD,{className:"".concat(oc,"__rows"),ids:ef.map(od),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return ej(t,n)},children:[ef.map((e,t)=>{var n;let{blockType:a,isLoading:l}=e,o=null!=(n=H.blocksMap[a])?n:(null!=y?y:w).find(e=>"string"!=typeof e&&e.slug===a);if(o){let n="".concat(h,".").concat(t),a=et.filter(e=>e.startsWith(n+".")).length;return(0,u.jsx)(tP,{disabled:m||ee||!T,id:e.id,children:r=>{var i,s;return(0,u.jsx)(os,{...r,addRow:eg,block:o,blocks:null!=y?y:w,duplicateRow:eb,errorCount:a,fields:o.fields,hasMaxRows:eP,isLoading:l,isSortable:T,Label:null==ef||null==(s=ef[t])||null==(i=s.customComponents)?void 0:i.RowLabel,labels:K,moveRow:ej,parentPath:h,path:n,permissions:f,readOnly:m||ee,removeRow:ey,row:e,rowCount:ef.length,rowIndex:t,schemaPath:R+o.slug,setCollapse:eE})}},e.id)}return null}),!X&&(0,u.jsxs)(o.Fragment,{children:[eT&&(0,u.jsx)(eq,{type:"error",children:r("validation:requiresAtLeast",{count:A,label:(0,p.sC)(A>1?K.plural:K.singular,l)||r(A>1?"general:row":"general:rows")})}),eR&&(0,u.jsx)(eq,{children:r("validation:fieldHasNo",{label:(0,p.sC)(K.plural,l)})})]})]}),!eP&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(n5,{className:"".concat(oc,"__drawer-toggler"),disabled:m||ee,slug:W,children:(0,u.jsx)(ti,{buttonStyle:"icon-label",disabled:m||ee,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:r("fields:addLabel",{label:(0,p.sC)(K.singular,l)})})}),(0,u.jsx)(oa,{addRow:eg,addRowIndex:(null==ef?void 0:ef.length)||0,blocks:null!=y?y:w,drawerSlug:W,labels:K})]}),es]})});function od(e){return e.id}var op=(0,o.lazy)(()=>n.e(6047).then(n.bind(n,86047))),oh=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.d,{}),children:(0,u.jsx)(op,{...e})}),of={js:"javascript",ts:"typescript"},om=lj(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:l={},language:r="javascript"}={},label:i,localized:s,required:c},onMount:d,path:p,readOnly:h,validate:f}=e,{customComponents:{AfterInput:m,BeforeInput:g,Description:v,Error:b,Label:x}={},disabled:y,setValue:w,showError:C,value:j}=ly({path:p,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof f)return f(e,{...t,required:c})},[f,c])}),S=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsxs)("div",{className:[l_,"code-field",n,C&&"error",(h||y)&&"read-only"].filter(Boolean).join(" "),style:S,children:[(0,u.jsx)(el,{CustomComponent:x,Fallback:(0,u.jsx)(aw,{label:i,localized:s,path:p,required:c})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:b,Fallback:(0,u.jsx)(tL,{path:p,showError:C})}),g,(0,u.jsx)(oh,{defaultLanguage:of[r]||r,onChange:h||y?()=>null:e=>w(e),onMount:d,options:l,readOnly:h||y,value:j||""}),m]}),(0,u.jsx)(el,{CustomComponent:v,Fallback:(0,u.jsx)(tA,{description:a,path:p})})]})}),og=e=>e.reduce((e,t)=>{var n;let a="fields"in t?t.fields:void 0;return a?(0,x.Z7)(t)?e.push("".concat(t.name,".")):e.push(...og(a)):"tabs"===t.type?"tabs"in t&&(null==(n=t.tabs)||n.forEach(t=>{"name"in t?e.push("".concat(t.name,".")):e.push(...og(t.fields))})):(0,x.Z7)(t)&&e.push(t.name),e},[]),ov=e=>{let t,n=(0,d.c)(12),{fields:a,path:l,setErrorCount:o}=e,[r]=eO(),i=e_(),s;n[0]!==a?(s=og(a),n[0]=a,n[1]=s):s=n[1];let c=s,u;return n[2]!==r||n[3]!==i||n[4]!==l||n[5]!==c||n[6]!==o?(u=()=>{if(i){let e;e=0,Object.entries(r).forEach(t=>{let[n]=t;if(null==c?void 0:c.some(e=>{let t=[...l,e].join(".");return t.endsWith(".")?n.startsWith(t):n===t})){let t=r[n];"valid"in t&&!t.valid&&(e+=1)}}),o(e)}},n[2]=r,n[3]=i,n[4]=l,n[5]=c,n[6]=o,n[7]=u):u=n[7],n[8]!==a||n[9]!==r||n[10]!==i?(t=[r,i,a],n[8]=a,n[9]=r,n[10]=i,n[11]=t):t=n[11],aS(u,250,t),null},ob="collapsible-field",ox=lj(e=>{let{field:t,field:{admin:{className:n,description:a,initCollapsed:l=!1}={},fields:r,label:i}={},indexPath:c,parentPath:d,parentSchemaPath:h,path:f,permissions:m,readOnly:g}=e,{i18n:v}=(0,s.d)(),{getPreference:b,setPreference:x}=ap(),{preferencesKey:y}=lf(),[w,C]=(0,o.useState)(),j="collapsible-".concat(null==f?void 0:f.replace(/\./g,"__")),[S,_]=(0,o.useState)(0),k=S>0,{customComponents:{AfterInput:N,BeforeInput:E,Description:P,Label:D}={},disabled:O}=ly({path:f}),T=(0,o.useCallback)(async e=>{var t,n;let a=await b(y);y&&x(y,{...a,...f?{fields:{...(null==a?void 0:a.fields)||{},[f]:{...null==a||null==(t=a.fields)?void 0:t[f],collapsed:e}}}:{fields:{...(null==a?void 0:a.fields)||{},[j]:{...null==a||null==(n=a.fields)?void 0:n[j],collapsed:e}}}})},[y,j,b,x,f]);(0,o.useEffect)(()=>{(async()=>{if(y){var e,t,n,a;let o=await b(y),r=f?null==o||null==(t=o.fields)||null==(e=t[f])?void 0:e.collapsed:null==o||null==(a=o.fields)||null==(n=a[j])?void 0:n.collapsed;C(void 0!==r?!!r:"boolean"==typeof l&&l)}else C("boolean"==typeof l&&l)})()},[b,y,j,l,f]);let R=(0,o.useMemo)(()=>lS(t),[t]);return"boolean"!=typeof w?null:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ov,{fields:r,path:f.split(".").slice(0,-1),setErrorCount:_}),(0,u.jsxs)("div",{className:[l_,ob,n,k?"".concat(ob,"--has-error"):"".concat(ob,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(j),style:R,children:[E,(0,u.jsx)(lY,{className:"".concat(ob,"__collapsible"),collapsibleStyle:k?"error":"default",header:(0,u.jsxs)("div",{className:"".concat(ob,"__row-label-wrap"),children:[(0,u.jsx)(eL,{CustomComponent:D,label:(0,p.sC)(i,v),path:f}),k&&(0,u.jsx)(tT,{count:S,i18n:v,withMessage:!0})]}),initCollapsed:w,onToggle:T,children:(0,u.jsx)(pB,{fields:r,margins:"small",parentIndexPath:c,parentPath:d,parentSchemaPath:h,permissions:m,readOnly:g||O})}),N,(0,u.jsx)(el,{CustomComponent:P,Fallback:(0,u.jsx)(tA,{description:a,path:f})})]})]})}),oy=(0,o.lazy)(()=>n.e(7506).then(n.bind(n,87506))),ow=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.d,{height:50}),children:(0,u.jsx)(oy,{...e})});function oC(e){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oj(e){var t=function(e,t){if("object"!=oC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=oC(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oC(t)?t:t+""}function oS(e,t,n){return(t=oj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(t){oS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function oE(e,t){if(e){if("string"==typeof e)return oN(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oN(e,t):void 0}}function oP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,o,r,i=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){c=!0,l=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw l}}return i}}(e,t)||oE(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oD(e,t){if(null==e)return{};var n,a,l=tV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var oO=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function oT(e){var t=e.defaultInputValue,n=e.defaultMenuIsOpen,a=e.defaultValue,l=e.inputValue,r=e.menuIsOpen,i=e.onChange,s=e.onInputChange,c=e.onMenuClose,u=e.onMenuOpen,d=e.value,p=oD(e,oO),h=oP((0,o.useState)(void 0!==l?l:void 0===t?"":t),2),f=h[0],m=h[1],g=oP((0,o.useState)(void 0!==r?r:void 0!==n&&n),2),v=g[0],b=g[1],x=oP((0,o.useState)(void 0!==d?d:void 0===a?null:a),2),y=x[0],w=x[1],C=(0,o.useCallback)(function(e,t){"function"==typeof i&&i(e,t),w(e)},[i]),j=(0,o.useCallback)(function(e,t){var n;"function"==typeof s&&(n=s(e,t)),m(void 0!==n?n:e)},[s]),S=(0,o.useCallback)(function(){"function"==typeof u&&u(),b(!0)},[u]),_=(0,o.useCallback)(function(){"function"==typeof c&&c(),b(!1)},[c]),k=void 0!==l?l:f,N=void 0!==r?r:v,E=void 0!==d?d:y;return ok(ok({},p),{},{inputValue:k,menuIsOpen:N,onChange:C,onInputChange:j,onMenuClose:_,onMenuOpen:S,value:E})}function oR(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oj(a.key),a)}}function oA(e){return(oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oL=function(){return!!e})()}function oM(e){return function(e){if(Array.isArray(e))return oN(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oE(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oI=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{a.insertRule(e,a.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),oF="-ms-",oB="-moz-",oz="-webkit-",oV="comm",oU="rule",oH="decl",oq="@keyframes",oW=Math.abs,oY=String.fromCharCode,oK=Object.assign;function oG(e,t,n){return e.replace(t,n)}function oX(e,t){return e.indexOf(t)}function oQ(e,t){return 0|e.charCodeAt(t)}function o$(e,t,n){return e.slice(t,n)}function oZ(e){return e.length}function oJ(e,t){return t.push(e),e}var o0=1,o1=1,o2=0,o3=0,o6=0,o5="";function o4(e,t,n,a,l,o,r){return{value:e,root:t,parent:n,type:a,props:l,children:o,line:o0,column:o1,length:r,return:""}}function o8(e,t){return oK(o4("",null,null,"",null,null,0),e,{length:-e.length},t)}function o9(){return o6=o3<o2?oQ(o5,o3++):0,o1++,10===o6&&(o1=1,o0++),o6}function o7(){return oQ(o5,o3)}function re(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rt(e){return o0=o1=1,o2=oZ(o5=e),o3=0,[]}function rn(e){var t,n;return(t=o3-1,n=function e(t){for(;o9();)switch(o6){case t:return o3;case 34:case 39:34!==t&&39!==t&&e(o6);break;case 40:41===t&&e(t);break;case 92:o9()}return o3}(91===e?e+2:40===e?e+1:e),o$(o5,t,n)).trim()}function ra(e,t,n,a,l,o,r,i,s,c,u){for(var d=l-1,p=0===l?o:[""],h=p.length,f=0,m=0,g=0;f<a;++f)for(var v=0,b=o$(e,d+1,d=oW(m=r[f])),x=e;v<h;++v)(x=(m>0?p[v]+" "+b:oG(b,/&\f/g,p[v])).trim())&&(s[g++]=x);return o4(e,t,n,0===l?oU:i,s,c,u)}function rl(e,t,n,a){return o4(e,t,n,oH,o$(e,0,a),o$(e,a+1,-1),a)}function ro(e,t){for(var n="",a=e.length,l=0;l<a;l++)n+=t(e[l],l,e,t)||"";return n}function rr(e,t,n,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case oH:return e.return=e.return||e.value;case oV:return"";case oq:return e.return=e.value+"{"+ro(e.children,a)+"}";case oU:e.value=e.props.join(",")}return oZ(n=ro(e.children,a))?e.return=e.value+"{"+n+"}":""}var ri=function(e,t,n){for(var a=0,l=0;a=l,l=o7(),38===a&&12===l&&(t[n]=1),!re(l);)o9();return o$(o5,e,o3)},rs=function(e,t){var n=-1,a=44;do switch(re(a)){case 0:38===a&&12===o7()&&(t[n]=1),e[n]+=ri(o3-1,t,n);break;case 2:e[n]+=rn(a);break;case 4:if(44===a){e[++n]=58===o7()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=oY(a)}while(a=o9());return e},rc=function(e,t){var n;return n=rs(rt(e),t),o5="",n},ru=new WeakMap,rd=function(e){if(!("rule"!==e.type||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if(!(1===e.props.length&&58!==t.charCodeAt(0)&&!ru.get(n))&&!a){ru.set(e,!0);for(var l=[],o=rc(t,l),r=n.props,i=0,s=0;i<o.length;i++)for(var c=0;c<r.length;c++,s++)e.props[s]=l[i]?o[i].replace(/&\f/g,r[c]):r[c]+" "+o[i]}}},rp=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},rh=[function(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case oH:e.return=function e(t,n){switch(45^oQ(t,0)?(((n<<2^oQ(t,0))<<2^oQ(t,1))<<2^oQ(t,2))<<2^oQ(t,3):0){case 5103:return oz+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oz+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return oz+t+oB+t+oF+t+t;case 6828:case 4268:return oz+t+oF+t+t;case 6165:return oz+t+oF+"flex-"+t+t;case 5187:return oz+t+oG(t,/(\w+).+(:[^]+)/,oz+"box-$1$2"+oF+"flex-$1$2")+t;case 5443:return oz+t+oF+"flex-item-"+oG(t,/flex-|-self/,"")+t;case 4675:return oz+t+oF+"flex-line-pack"+oG(t,/align-content|flex-|-self/,"")+t;case 5548:return oz+t+oF+oG(t,"shrink","negative")+t;case 5292:return oz+t+oF+oG(t,"basis","preferred-size")+t;case 6060:return oz+"box-"+oG(t,"-grow","")+oz+t+oF+oG(t,"grow","positive")+t;case 4554:return oz+oG(t,/([^-])(transform)/g,"$1"+oz+"$2")+t;case 6187:return oG(oG(oG(t,/(zoom-|grab)/,oz+"$1"),/(image-set)/,oz+"$1"),t,"")+t;case 5495:case 3959:return oG(t,/(image-set\([^]*)/,oz+"$1$`$1");case 4968:return oG(oG(t,/(.+:)(flex-)?(.*)/,oz+"box-pack:$3"+oF+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oz+t+t;case 4095:case 3583:case 4068:case 2532:return oG(t,/(.+)-inline(.+)/,oz+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oZ(t)-1-n>6)switch(oQ(t,n+1)){case 109:if(45!==oQ(t,n+4))break;case 102:return oG(t,/(.+:)(.+)-([^]+)/,"$1"+oz+"$2-$3$1"+oB+(108==oQ(t,n+3)?"$3":"$2-$3"))+t;case 115:return~oX(t,"stretch")?e(oG(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==oQ(t,n+1))break;case 6444:switch(oQ(t,oZ(t)-3-(~oX(t,"!important")&&10))){case 107:return oG(t,":",":"+oz)+t;case 101:return oG(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oz+(45===oQ(t,14)?"inline-":"")+"box$3$1"+oz+"$2$3$1"+oF+"$2box$3")+t}break;case 5936:switch(oQ(t,n+11)){case 114:return oz+t+oF+oG(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return oz+t+oF+oG(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return oz+t+oF+oG(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return oz+t+oF+t+t}return t}(e.value,e.length);break;case oq:return ro([o8(e,{value:oG(e.value,"@","@"+oz)})],a);case oU:if(e.length){var l,o;return l=e.props,o=function(t){var n;switch(n=t,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return ro([o8(e,{props:[oG(t,/:(read-\w+)/,":"+oB+"$1")]})],a);case"::placeholder":return ro([o8(e,{props:[oG(t,/:(plac\w+)/,":"+oz+"input-$1")]}),o8(e,{props:[oG(t,/:(plac\w+)/,":"+oB+"$1")]}),o8(e,{props:[oG(t,/:(plac\w+)/,oF+"input-$1")]})],a)}return""},l.map(o).join("")}}}],rf=function(e,t,n){var a=e.key+"-"+t.name;!1===n&&void 0===e.registered[a]&&(e.registered[a]=t.styles)},rm=function(e,t,n){rf(e,t,n);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var l=t;do e.insert(t===l?"."+a:"",l,e.sheet,!0),l=l.next;while(void 0!==l)}},rg={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rv=/[A-Z]|^ms/g,rb=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rx=function(e){return 45===e.charCodeAt(1)},ry=function(e){return null!=e&&"boolean"!=typeof e},rw=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return rx(e)?e:e.replace(rv,"-$&").toLowerCase()}),rC=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rb,function(e,t,n){return rS={name:t,styles:n,next:rS},t})}return 1===rg[e]||rx(e)||"number"!=typeof t||0===t?t:t+"px"};function rj(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return rS={name:n.name,styles:n.styles,next:rS},n.name;if(void 0!==n.styles){var a=n.next;if(void 0!==a)for(;void 0!==a;)rS={name:a.name,styles:a.styles,next:rS},a=a.next;return n.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var l=0;l<n.length;l++)a+=rj(e,t,n[l])+";";else for(var o in n){var r=n[o];if("object"!=typeof r)null!=t&&void 0!==t[r]?a+=o+"{"+t[r]+"}":ry(r)&&(a+=rw(o)+":"+rC(o,r)+";");else if(Array.isArray(r)&&"string"==typeof r[0]&&(null==t||void 0===t[r[0]]))for(var i=0;i<r.length;i++)ry(r[i])&&(a+=rw(o)+":"+rC(o,r[i])+";");else{var s=rj(e,t,r);switch(o){case"animation":case"animationName":a+=rw(o)+":"+s+";";break;default:a+=o+"{"+s+"}"}}}return a}(e,t,n);case"function":if(void 0!==e){var l=rS,o=n(e);return rS=l,rj(e,t,o)}}if(null==t)return n;var r=t[n];return void 0!==r?r:n}var rS,r_=/label:\s*([^\s;{]+)\s*(;|$)/g;function rk(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,l="";rS=void 0;var o=e[0];null==o||void 0===o.raw?(a=!1,l+=rj(n,t,o)):l+=o[0];for(var r=1;r<e.length;r++)l+=rj(n,t,e[r]),a&&(l+=o[r]);r_.lastIndex=0;for(var i,s="";null!==(i=r_.exec(l));)s+="-"+i[1];return{name:function(e){for(var t,n=0,a=0,l=e.length;l>=4;++a,l-=4)t=(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(l){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n^=255&e.charCodeAt(a),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(l)+s,styles:l,next:rS}}var rN=!!o.useInsertionEffect&&o.useInsertionEffect||function(e){return e()},rE=o.createContext("u">typeof HTMLElement?function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a,l=e.stylisPlugins||rh,o={},r=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;r.push(e)});var i,s,c,u,d=(s=(i=[rd,rp].concat(l,[rr,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})])).length,function(e,t,n,a){for(var l="",o=0;o<s;o++)l+=i[o](e,t,n,a)||"";return l}),p=function(e){var t,n;return ro((n=function e(t,n,a,l,o,r,i,s,c){for(var u,d=0,p=0,h=i,f=0,m=0,g=0,v=1,b=1,x=1,y=0,w="",C=o,j=r,S=l,_=w;b;)switch(g=y,y=o9()){case 40:if(108!=g&&58==oQ(_,h-1)){-1!=oX(_+=oG(rn(y),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:_+=rn(y);break;case 9:case 10:case 13:case 32:_+=function(e){for(;(o6=o7())&&o6<33;)o9();return re(e)>2||re(o6)>3?"":" "}(g);break;case 92:_+=function(e,t){for(var n;--t&&o9()&&!(o6<48||o6>102||o6>57&&o6<65||o6>70&&o6<97););return n=o3+(t<6&&32==o7()&&32==o9()),o$(o5,e,n)}(o3-1,7);continue;case 47:switch(o7()){case 42:case 47:oJ((u=function(e,t){for(;o9()&&e+o6!==57&&(e+o6!==84||47!==o7()););return"/*"+o$(o5,t,o3-1)+"*"+oY(47===e?e:o9())}(o9(),o3),o4(u,n,a,oV,oY(o6),o$(u,2,-2),0)),c);break;default:_+="/"}break;case 123*v:s[d++]=oZ(_)*x;case 125*v:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+p:-1==x&&(_=oG(_,/\f/g,"")),m>0&&oZ(_)-h&&oJ(m>32?rl(_+";",l,a,h-1):rl(oG(_," ","")+";",l,a,h-2),c);break;case 59:_+=";";default:if(oJ(S=ra(_,n,a,d,p,o,s,w,C=[],j=[],h),r),123===y)if(0===p)e(_,n,S,S,C,r,h,s,j);else switch(99===f&&110===oQ(_,3)?100:f){case 100:case 108:case 109:case 115:e(t,S,S,l&&oJ(ra(t,S,S,0,0,o,s,w,o,C=[],h),j),o,j,h,s,l?C:j);break;default:e(_,S,S,S,[""],j,0,s,j)}}d=p=m=0,v=x=1,w=_="",h=i;break;case 58:h=1+oZ(_),m=g;default:if(v<1){if(123==y)--v;else if(125==y&&0==v++&&125==(o6=o3>0?oQ(o5,--o3):0,o1--,10===o6&&(o1=1,o0--),o6))continue}switch(_+=oY(y),y*v){case 38:x=p>0?1:(_+="\f",-1);break;case 44:s[d++]=(oZ(_)-1)*x,x=1;break;case 64:45===o7()&&(_+=rn(o9())),f=o7(),p=h=oZ(w=_+=function(e){for(;!re(o7());)o9();return o$(o5,e,o3)}(o3)),y++;break;case 45:45===g&&2==oZ(_)&&(v=0)}}return r}("",null,null,null,[""],t=rt(t=e),0,[0],t),o5="",n),d)},h={key:t,sheet:new oI({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:function(e,t,n,a){u=n,p(e?e+"{"+t.styles+"}":t.styles),a&&(h.inserted[t.name]=!0)}};return h.sheet.hydrate(r),h}({key:"css"}):null);rE.Provider;var rP=o.createContext({}),rD={}.hasOwnProperty,rO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rT=function(e,t){var n={};for(var a in t)rD.call(t,a)&&(n[a]=t[a]);return n[rO]=e,n},rR=function(e){var t=e.cache,n=e.serialized,a=e.isStringTag;return rf(t,n,a),rN(function(){return rm(t,n,a)}),null},rA=(r0=function(e,t,n){var a,l,r,i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[rO],c=[i],u="";"string"==typeof e.className?(a=t.registered,l=e.className,r="",l.split(" ").forEach(function(e){void 0!==a[e]?c.push(a[e]+";"):e&&(r+=e+" ")}),u=r):null!=e.className&&(u=e.className+" ");var d=rk(c,void 0,o.useContext(rP));u+=t.key+"-"+d.name;var p={};for(var h in e)rD.call(e,h)&&"css"!==h&&h!==rO&&(p[h]=e[h]);return p.className=u,n&&(p.ref=n),o.createElement(o.Fragment,null,o.createElement(rR,{cache:t,serialized:d,isStringTag:"string"==typeof s}),o.createElement(s,p))},(0,o.forwardRef)(function(e,t){return r0(e,(0,o.useContext)(rE),t)}));(0,c.e)($());var rL=function(e,t){var n=arguments;if(null==t||!rD.call(t,"css"))return o.createElement.apply(void 0,n);var a=n.length,l=Array(a);l[0]=rA,l[1]=rT(e,t);for(var r=2;r<a;r++)l[r]=n[r];return o.createElement.apply(null,l)};function rM(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return rk(t)}!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(rL||(rL={})),(0,s.l)();var rI=o.useLayoutEffect,rF=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rB=function(){};function rz(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),l=2;l<n;l++)a[l-2]=arguments[l];var o=[].concat(a);if(t&&e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&o.push("".concat(r?"-"===r[0]?e+r:e+"__"+r:e));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var rV=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===oC(e)&&null!==e?[e]:[]},rU=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,ok({},oD(e,rF))},rH=function(e,t,n){var a=e.cx,l=e.getStyles,o=e.getClassNames,r=e.className;return{css:l(t,e),className:a(null!=n?n:{},o(t,e),r)}};function rq(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function rW(e){return rq(e)?window.pageYOffset:e.scrollTop}function rY(e,t){if(rq(e))return void window.scrollTo(0,t);e.scrollTop=t}function rK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rB,l=rW(e),o=t-l,r=0;!function t(){var i;r+=10,rY(e,o*((i=(i=r)/n-1)*i*i+1)+l),r<n?window.requestAnimationFrame(t):a(e)}()}function rG(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),l=t.offsetHeight/3;a.bottom+l>n.bottom?rY(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+l,e.scrollHeight)):a.top-l<n.top&&rY(e,Math.max(t.offsetTop-l,0))}function rX(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var rQ=!1,r$="u">typeof window?window:{};r$.addEventListener&&r$.removeEventListener&&(r$.addEventListener("p",rB,{get passive(){return rQ=!0}}),r$.removeEventListener("p",rB,!1));var rZ=rQ;function rJ(e){return null!=e}var r0,r1,r2=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object.entries(e).filter(function(e){var t=oP(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=oP(t,2),a=n[0],l=n[1];return e[a]=l,e},{})},r3=["children","innerProps"],r6=["children","innerProps"],r5=function(e){return"auto"===e?"bottom":e},r4=(0,o.createContext)(null),r8=function(e){var t=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,l=e.menuPlacement,r=e.menuPosition,i=e.menuShouldScrollIntoView,s=e.theme,c=((0,o.useContext)(r4)||{}).setPortalPlacement,u=(0,o.useRef)(null),d=oP((0,o.useState)(a),2),p=d[0],h=d[1],f=oP((0,o.useState)(null),2),m=f[0],g=f[1],v=s.spacing.controlHeight;return rI(function(){var e=u.current;if(e){var t="fixed"===r,o=function(e){var t,n=e.maxHeight,a=e.menuEl,l=e.minHeight,o=e.placement,r=e.shouldScroll,i=e.isFixedPosition,s=e.controlHeight,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,a=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var l=e;l=l.parentElement;)if(t=getComputedStyle(l),!(n&&"static"===t.position)&&a.test(t.overflow+t.overflowY+t.overflowX))return l;return document.documentElement}(a),u={placement:"bottom",maxHeight:n};if(!a||!a.offsetParent)return u;var d=c.getBoundingClientRect().height,p=a.getBoundingClientRect(),h=p.bottom,f=p.height,m=p.top,g=a.offsetParent.getBoundingClientRect().top,v=i||rq(t=c)?window.innerHeight:t.clientHeight,b=rW(c),x=parseInt(getComputedStyle(a).marginBottom,10),y=parseInt(getComputedStyle(a).marginTop,10),w=g-y,C=v-m,j=w+b,S=d-b-m,_=h-v+b+x,k=b+m-y;switch(o){case"auto":case"bottom":if(C>=f)return{placement:"bottom",maxHeight:n};if(S>=f&&!i)return r&&rK(c,_,160),{placement:"bottom",maxHeight:n};if(!i&&S>=l||i&&C>=l)return r&&rK(c,_,160),{placement:"bottom",maxHeight:i?C-x:S-x};if("auto"===o||i){var N=n,E=i?w:j;return E>=l&&(N=Math.min(E-x-s,n)),{placement:"top",maxHeight:N}}if("bottom"===o)return r&&rY(c,_),{placement:"bottom",maxHeight:n};break;case"top":if(w>=f)return{placement:"top",maxHeight:n};if(j>=f&&!i)return r&&rK(c,k,160),{placement:"top",maxHeight:n};if(!i&&j>=l||i&&w>=l){var P=n;return(!i&&j>=l||i&&w>=l)&&(P=i?w-y:j-y),r&&rK(c,k,160),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:n};default:throw Error('Invalid placement provided "'.concat(o,'".'))}return u}({maxHeight:a,menuEl:e,minHeight:n,placement:l,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:v});h(o.maxHeight),g(o.placement),null==c||c(o.placement)}},[a,l,r,i,n,c,v]),t({ref:u,placerProps:ok(ok({},e),{},{placement:m||r5(l),maxHeight:p})})},r9=function(e,t){var n=e.theme,a=n.spacing.baseUnit,l=n.colors;return ok({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(2*a,"px ").concat(3*a,"px")})},r7=["size"],ie=["innerProps","isRtl","size"],it={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ia=function(e){var t=e.size,n=oD(e,r7);return rL("svg",tz({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:it},n))},il=function(e){return rL(ia,tz({size:20},e),rL("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},io=function(e){return rL(ia,tz({size:20},e),rL("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ir=function(e,t){var n=e.isFocused,a=e.theme,l=a.spacing.baseUnit,o=a.colors;return ok({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*l,":hover":{color:n?o.neutral80:o.neutral40}})},ii=function(){var e=rM.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(r1||(r1=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),is=function(e){var t=e.delay,n=e.offset;return rL("span",{css:rM({animation:"".concat(ii," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ic=["data"],iu=["innerRef","isDisabled","isHidden","inputClassName"],id={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ip={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ok({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},id)},ih=function(e){var t=e.children,n=e.innerProps;return rL("div",n,t)},im={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return rL("div",tz({},rH(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||rL(il,null))},Control:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,l=e.innerRef,o=e.innerProps,r=e.menuIsOpen;return rL("div",tz({ref:l},rH(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":r}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return rL("div",tz({},rH(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||rL(io,null))},DownChevron:io,CrossIcon:il,Group:function(e){var t=e.children,n=e.cx,a=e.getStyles,l=e.getClassNames,o=e.Heading,r=e.headingProps,i=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return rL("div",tz({},rH(e,"group",{group:!0}),i),rL(o,tz({},r,{selectProps:u,theme:c,getStyles:a,getClassNames:l,cx:n}),s),rL("div",null,t))},GroupHeading:function(e){var t=rU(e);t.data;var n=oD(t,ic);return rL("div",tz({},rH(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return rL("div",tz({},rH(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return rL("span",tz({},t,rH(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,a=rU(e),l=a.innerRef,o=a.isDisabled,r=a.isHidden,i=a.inputClassName,s=oD(a,iu);return rL("div",tz({},rH(e,"input",{"input-container":!0}),{"data-value":n||""}),rL("input",tz({className:t({input:!0},i),ref:l,style:ok({label:"input",color:"inherit",background:0,opacity:+!r,width:"100%"},id),disabled:o},s)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,a=e.size,l=oD(e,ie);return rL("div",tz({},rH(ok(ok({},l),{},{innerProps:t,isRtl:n,size:void 0===a?4:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),rL(is,{delay:0,offset:n}),rL(is,{delay:160,offset:!0}),rL(is,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,a=e.innerProps;return rL("div",tz({},rH(e,"menu",{menu:!0}),{ref:n},a),t)},MenuList:function(e){var t=e.children,n=e.innerProps,a=e.innerRef,l=e.isMulti;return rL("div",tz({},rH(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:a},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,a=e.controlElement,l=e.innerProps,i=e.menuPlacement,c=e.menuPosition,u=(0,o.useRef)(null),d=(0,o.useRef)(null),p=oP((0,o.useState)(r5(i)),2),h=p[0],f=p[1],m=(0,o.useMemo)(function(){return{setPortalPlacement:f}},[]),g=oP((0,o.useState)(null),2),v=g[0],b=g[1],x=(0,o.useCallback)(function(){if(a){var e,t={bottom:(e=a.getBoundingClientRect()).bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width},n="fixed"===c?0:window.pageYOffset,l=t[h]+n;(l!==(null==v?void 0:v.offset)||t.left!==(null==v?void 0:v.rect.left)||t.width!==(null==v?void 0:v.rect.width))&&b({offset:l,rect:t})}},[a,c,h,null==v?void 0:v.offset,null==v?void 0:v.rect.left,null==v?void 0:v.rect.width]);rI(function(){x()},[x]);var y=(0,o.useCallback)(function(){"function"==typeof d.current&&(d.current(),d.current=null),a&&u.current&&(d.current=(0,s.k)(a,u.current,x,{elementResize:"ResizeObserver"in window}))},[a,x]);rI(function(){y()},[y]);var w=(0,o.useCallback)(function(e){u.current=e,y()},[y]);if(!t&&"fixed"!==c||!v)return null;var C=rL("div",tz({ref:w},rH(ok(ok({},e),{},{offset:v.offset,position:c,rect:v.rect}),"menuPortal",{"menu-portal":!0}),l),n);return rL(r4.Provider,{value:m},t?(0,r.createPortal)(C,t):C)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,a=e.innerProps,l=oD(e,r6);return rL("div",tz({},rH(ok(ok({},l),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,a=e.innerProps,l=oD(e,r3);return rL("div",tz({},rH(ok(ok({},l),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},MultiValue:function(e){var t=e.children,n=e.components,a=e.data,l=e.innerProps,o=e.isDisabled,r=e.removeProps,i=e.selectProps,s=n.Container,c=n.Label,u=n.Remove;return rL(s,{data:a,innerProps:ok(ok({},rH(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),l),selectProps:i},rL(c,{data:a,innerProps:ok({},rH(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),rL(u,{data:a,innerProps:ok(ok({},rH(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},r),selectProps:i}))},MultiValueContainer:ih,MultiValueLabel:ih,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return rL("div",tz({role:"button"},n),t||rL(il,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,l=e.isSelected,o=e.innerRef,r=e.innerProps;return rL("div",tz({},rH(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":l}),{ref:o,"aria-disabled":n},r),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return rL("div",tz({},rH(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,a=e.isDisabled,l=e.isRtl;return rL("div",tz({},rH(e,"container",{"--is-disabled":a,"--is-rtl":l}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,a=e.innerProps;return rL("div",tz({},rH(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,a=e.isMulti,l=e.hasValue;return rL("div",tz({},rH(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l}),n),t)}},ig=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function iv(e,t){if(e.length!==t.length)return!1;for(var n,a,l=0;l<e.length;l++)if(!((n=e[l])===(a=t[l])||ig(n)&&ig(a)))return!1;return!0}var ib={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ix=function(e){return rL("span",tz({css:ib},e))},iy={guidance:function(e){var t=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,l=e.context,o=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,a=void 0===n?"":n,l=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,a=e.options,l=e.label,o=void 0===l?"":l,r=e.selectValue,i=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(o," focused, ").concat(u(r,n),".");if("menu"===t&&c){var d="".concat(s?" selected":"").concat(i?" disabled":"");return"".concat(o).concat(d,", ").concat(u(a,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},iw=function(e){var t=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,l=e.focusableOptions,r=e.isFocused,i=e.selectValue,s=e.selectProps,c=e.id,u=e.isAppleDevice,d=s.ariaLiveMessages,p=s.getOptionLabel,h=s.inputValue,f=s.isMulti,m=s.isOptionDisabled,g=s.isSearchable,v=s.menuIsOpen,b=s.options,x=s.screenReaderStatus,y=s.tabSelectsValue,w=s.isLoading,C=s["aria-label"],j=s["aria-live"],S=(0,o.useMemo)(function(){return ok(ok({},iy),d||{})},[d]),_=(0,o.useMemo)(function(){var e="";if(t&&S.onChange){var n=t.option,a=t.options,l=t.removedValue,o=t.removedValues,r=t.value,s=l||n||(Array.isArray(r)?null:r),c=s?p(s):"",u=a||o||void 0,d=u?u.map(p):[],h=ok({isDisabled:s&&m(s,i),label:c,labels:d},t);e=S.onChange(h)}return e},[t,S,m,i,p]),k=(0,o.useMemo)(function(){var e="",t=n||a,o=!!(n&&i&&i.includes(n));if(t&&S.onFocus){var r={focused:t,label:p(t),isDisabled:m(t,i),isSelected:o,options:l,context:t===n?"menu":"value",selectValue:i,isAppleDevice:u};e=S.onFocus(r)}return e},[n,a,p,m,S,l,i,u]),N=(0,o.useMemo)(function(){var e="";if(v&&b.length&&!w&&S.onFilter){var t=x({count:l.length});e=S.onFilter({inputValue:h,resultsMessage:t})}return e},[l,h,v,S,b,x,w]),E=(null==t?void 0:t.action)==="initial-input-focus",P=(0,o.useMemo)(function(){var e="";if(S.guidance){var t=a?"value":v?"menu":"input";e=S.guidance({"aria-label":C,context:t,isDisabled:n&&m(n,i),isMulti:f,isSearchable:g,tabSelectsValue:y,isInitialFocus:E})}return e},[C,n,a,f,m,g,v,S,i,y,E]),D=rL(o.Fragment,null,rL("span",{id:"aria-selection"},_),rL("span",{id:"aria-focused"},k),rL("span",{id:"aria-results"},N),rL("span",{id:"aria-guidance"},P));return rL(o.Fragment,null,rL(ix,{id:c},E&&D),rL(ix,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},r&&!E&&D))},iC=[{base:"A",letters:"A\xc0\xc1\xc2\xc3\xc4\xc5"},{base:"AA",letters:""},{base:"AE",letters:"\xc6"},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C\xc7"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E\xc8\xc9\xca\xcb"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I\xcc\xcd\xce\xcf"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N\xd1"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O\xd2\xd3\xd4\xd5\xd6\xd8"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U\xd9\xda\xdb\xdc"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y\xdd"},{base:"Z",letters:"Z"},{base:"a",letters:"a\xe0\xe1\xe2\xe3\xe4\xe5"},{base:"aa",letters:""},{base:"ae",letters:"\xe6"},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c\xe7"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e\xe8\xe9\xea\xeb"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i\xec\xed\xee\xef"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n\xf1"},{base:"nj",letters:""},{base:"o",letters:"o\xf2\xf3\xf4\xf5\xf6\xf8"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s\xdf"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u\xf9\xfa\xfb\xfc"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y\xfd\xff"},{base:"z",letters:"z"}],ij=RegExp("["+iC.map(function(e){return e.letters}).join("")+"]","g"),iS={};for(iN=0;iN<iC.length;iN++)for(i_=iC[iN],ik=0;ik<i_.letters.length;ik++)iS[i_.letters[ik]]=i_.base;var i_,ik,iN,iE=function(e){return e.replace(ij,function(e){return iS[e]})},iP=function(e,t){void 0===t&&(t=iv);var n=null;function a(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var o=e.apply(this,a);return n={lastResult:o,lastArgs:a,lastThis:this},o}return a.clear=function(){n=null},a}(iE),iD=function(e){return e.replace(/^\s+|\s+$/g,"")},iO=function(e){return"".concat(e.label," ").concat(e.value)},iT=["innerRef"];function iR(e){var t=e.innerRef,n=r2(oD(e,iT),"onExited","in","enter","exit","appear");return rL("input",tz({ref:t},n,{css:rM({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var iA=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()},iL=["boxSizing","height","overflow","paddingRight","position"],iM={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function iI(e){e.cancelable&&e.preventDefault()}function iF(e){e.stopPropagation()}function iB(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function iz(){return"ontouchstart"in window||navigator.maxTouchPoints}var iV=!!("u">typeof window&&window.document&&window.document.createElement),iU=0,iH={capture:!1,passive:!1},iq=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},iW={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function iY(e){var t,n,a,l,r,i,s,c,u,d,p,h,f,m,g,v,b,x,y,w,C,j,S,_,k=e.children,N=e.lockEnabled,E=e.captureEnabled,P=(n=(t={isEnabled:void 0===E||E,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}).isEnabled,a=t.onBottomArrive,l=t.onBottomLeave,r=t.onTopArrive,i=t.onTopLeave,s=(0,o.useRef)(!1),c=(0,o.useRef)(!1),u=(0,o.useRef)(0),d=(0,o.useRef)(null),p=(0,o.useCallback)(function(e,t){if(null!==d.current){var n=d.current,o=n.scrollTop,u=n.scrollHeight,p=n.clientHeight,h=d.current,f=t>0,m=u-p-o,g=!1;m>t&&s.current&&(l&&l(e),s.current=!1),f&&c.current&&(i&&i(e),c.current=!1),f&&t>m?(a&&!s.current&&a(e),h.scrollTop=u,g=!0,s.current=!0):!f&&-t>o&&(r&&!c.current&&r(e),h.scrollTop=0,g=!0,c.current=!0),g&&iA(e)}},[a,l,r,i]),h=(0,o.useCallback)(function(e){p(e,e.deltaY)},[p]),f=(0,o.useCallback)(function(e){u.current=e.changedTouches[0].clientY},[]),m=(0,o.useCallback)(function(e){var t=u.current-e.changedTouches[0].clientY;p(e,t)},[p]),g=(0,o.useCallback)(function(e){if(e){var t=!!rZ&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",m,t)}},[m,f,h]),v=(0,o.useCallback)(function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",m,!1))},[m,f,h]),(0,o.useEffect)(function(){if(n){var e=d.current;return g(e),function(){v(e)}}},[n,g,v]),function(e){d.current=e}),D=(x=(b={isEnabled:N}).isEnabled,w=void 0===(y=b.accountForScrollbars)||y,C=(0,o.useRef)({}),j=(0,o.useRef)(null),S=(0,o.useCallback)(function(e){if(iV){var t=document.body,n=t&&t.style;if(w&&iL.forEach(function(e){var t=n&&n[e];C.current[e]=t}),w&&iU<1){var a=parseInt(C.current.paddingRight,10)||0,l=document.body?document.body.clientWidth:0,o=window.innerWidth-l+a||0;Object.keys(iM).forEach(function(e){var t=iM[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(o,"px"))}t&&iz()&&(t.addEventListener("touchmove",iI,iH),e&&(e.addEventListener("touchstart",iB,iH),e.addEventListener("touchmove",iF,iH))),iU+=1}},[w]),_=(0,o.useCallback)(function(e){if(iV){var t=document.body,n=t&&t.style;iU=Math.max(iU-1,0),w&&iU<1&&iL.forEach(function(e){var t=C.current[e];n&&(n[e]=t)}),t&&iz()&&(t.removeEventListener("touchmove",iI,iH),e&&(e.removeEventListener("touchstart",iB,iH),e.removeEventListener("touchmove",iF,iH)))}},[w]),(0,o.useEffect)(function(){if(x){var e=j.current;return S(e),function(){_(e)}}},[x,S,_]),function(e){j.current=e});return rL(o.Fragment,null,N&&rL("div",{onClick:iq,css:iW}),k(function(e){P(e),D(e)}))}var iK={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},iG=function(e){var t=e.name,n=e.onFocus;return rL("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:iK,value:"",onChange:function(){}})};function iX(e){var t;return"u">typeof window&&null!=window.navigator&&e.test((null==(t=window.navigator.userAgentData)?void 0:t.platform)||window.navigator.platform)}var iQ=function(e){return e.label},i$=function(e){return e.value},iZ={clearIndicator:ir,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,a=e.isFocused,l=e.theme,o=l.colors,r=l.borderRadius;return ok({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},dropdownIndicator:ir,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,a=n.colors,l=n.spacing;return ok({label:"group",cursor:"default",display:"block"},t?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*l.baseUnit,paddingRight:3*l.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,a=e.theme,l=a.spacing.baseUnit,o=a.colors;return ok({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*l,marginTop:2*l})},input:function(e,t){var n=e.isDisabled,a=e.value,l=e.theme,o=l.spacing,r=l.colors;return ok(ok({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},ip),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:r.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,a=e.size,l=e.theme,o=l.colors,r=l.spacing.baseUnit;return ok({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r})},loadingMessage:r9,menu:function(e,t){var n,a=e.placement,l=e.theme,o=l.borderRadius,r=l.spacing,i=l.colors;return ok((oS(n={label:"menu"},a?({bottom:"top",top:"bottom"})[a]:"bottom","100%"),oS(n,"position","absolute"),oS(n,"width","100%"),oS(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},menuList:function(e,t){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return ok({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:a,paddingTop:a})},menuPortal:function(e){var t=e.rect,n=e.offset,a=e.position;return{left:t.left,position:a,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,a=n.spacing,l=n.borderRadius,o=n.colors;return ok({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:l/2,margin:a.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,a=n.borderRadius,l=n.colors,o=e.cropWithEllipsis;return ok({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:a/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,a=n.spacing,l=n.borderRadius,o=n.colors,r=e.isFocused;return ok({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:r?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:r9,option:function(e,t){var n=e.isDisabled,a=e.isFocused,l=e.isSelected,o=e.theme,r=o.spacing,i=o.colors;return ok({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?i.primary:a?i.primary25:"transparent",color:n?i.neutral20:l?i.neutral0:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),":active":{backgroundColor:n?void 0:l?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,a=n.spacing,l=n.colors;return ok({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,a=e.theme,l=a.spacing,o=a.colors;return ok({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,a=e.isMulti,l=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ok({alignItems:"center",display:a&&l&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},iJ={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},i0={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:rX(),captureMenuScroll:!rX(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=ok({ignoreCase:!0,ignoreAccents:!0,stringify:iO,trim:!0,matchFrom:"any"},void 0),a=n.ignoreCase,l=n.ignoreAccents,o=n.stringify,r=n.trim,i=n.matchFrom,s=r?iD(t):t,c=r?iD(o(e)):o(e);return a&&(s=s.toLowerCase(),c=c.toLowerCase()),l&&(s=iP(s),c=iE(c)),"start"===i?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:iQ,getOptionValue:i$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function i1(e,t,n,a){var l=i7(e,t,n),o=se(e,t,n),r=i8(e,t),i=i9(e,t);return{type:"option",data:t,isDisabled:l,isSelected:o,label:r,value:i,index:a}}function i2(e,t){return e.options.map(function(n,a){if("options"in n){var l=n.options.map(function(n,a){return i1(e,n,t,a)}).filter(function(t){return i5(e,t)});return l.length>0?{type:"group",data:n,options:l,index:a}:void 0}var o=i1(e,n,t,a);return i5(e,o)?o:void 0}).filter(rJ)}function i3(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,oM(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function i6(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,oM(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function i5(e,t){var n=e.inputValue,a=t.data,l=t.isSelected,o=t.label,r=t.value;return(!sn(e)||!l)&&st(e,{label:o,value:r,data:a},void 0===n?"":n)}var i4=function(e,t){var n;return(null==(n=e.find(function(e){return e.data===t}))?void 0:n.id)||null},i8=function(e,t){return e.getOptionLabel(t)},i9=function(e,t){return e.getOptionValue(t)};function i7(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function se(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var a=i9(e,t);return n.some(function(t){return i9(e,t)===a})}function st(e,t,n){return!e.filterOption||e.filterOption(t,n)}var sn=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},sa=1,sl=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&tU(r,e);var t,n,a,l=(t=oL(),function(){var e,n=oA(r);e=t?Reflect.construct(n,arguments,oA(this).constructor):n.apply(this,arguments);if(e&&("object"==oC(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return this});function r(e){var t;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),(t=l.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=iX(/^Mac/i)||iX(/^iPhone/i)||iX(/^iPad/i)||iX(/^Mac/i)&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var a=t.props,l=a.onChange;n.name=a.name,t.ariaOnChange(e,n),l(e,n)},t.setValue=function(e,n,a){var l=t.props,o=l.closeMenuOnSelect,r=l.isMulti,i=l.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),o&&(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:a})},t.selectOption=function(e){var n=t.props,a=n.blurInputOnSelect,l=n.isMulti,o=n.name,r=t.state.selectValue,i=l&&t.isOptionSelected(e,r),s=t.isOptionDisabled(e,r);if(i){var c=t.getOptionValue(e);t.setValue(r.filter(function(e){return t.getOptionValue(e)!==c}),"deselect-option",e)}else{if(s)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});l?t.setValue([].concat(oM(r),[e]),"select-option",e):t.setValue(e,"select-option")}a&&t.blurInput()},t.removeValue=function(e){var n,a=t.props.isMulti,l=t.state.selectValue,o=t.getOptionValue(e),r=l.filter(function(e){return t.getOptionValue(e)!==o}),i=(n=r[0]||null,a?r:n);t.onChange(i,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e,n,a=t.state.selectValue;t.onChange((e=t.props.isMulti,n=[],e?n:null),{action:"clear",removedValues:a})},t.popValue=function(){var e,n=t.props.isMulti,a=t.state.selectValue,l=a[a.length-1],o=a.slice(0,a.length-1),r=(e=o[0]||null,n?o:e);l&&t.onChange(r,{action:"pop-value",removedValue:l})},t.getFocusedOptionId=function(e){return i4(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return i6(i2(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return rz.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return i8(t.props,e)},t.getOptionValue=function(e){return i9(t.props,e)},t.getStyles=function(e,n){var a=t.props.unstyled,l=iZ[e](n,a);l.boxSizing="border-box";var o=t.props.styles[e];return o?o(l,n):l},t.getClassNames=function(e,n){var a,l;return null==(a=(l=t.props.classNames)[e])?void 0:a.call(l,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){var e;return e=t.props,ok(ok({},im),e.components)},t.buildCategorizedOptions=function(){return i2(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return i3(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:ok({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button)&&!t.props.isDisabled){var n=t.props,a=n.isMulti,l=n.menuIsOpen;t.focusInput(),l?(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&rq(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,a=n&&n.item(0);a&&(t.initialTouchX=a.clientX,t.initialTouchY=a.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,a=n&&n.item(0);if(a){var l=Math.abs(a.clientX-t.initialTouchX),o=Math.abs(a.clientY-t.initialTouchY);t.userIsDragging=l>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,a=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(a,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;if(t.menuListRef&&t.menuListRef.contains(document.activeElement))return void t.inputRef.focus();t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1})},t.onOptionHover=function(e){if(!(t.blockOptionHover||t.state.focusedOption===e)){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return sn(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,a=n.isMulti,l=n.backspaceRemovesValue,o=n.escapeClearsValue,r=n.inputValue,i=n.isClearable,s=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,d=n.tabSelectsValue,p=n.openMenuOnFocus,h=t.state,f=h.focusedOption,m=h.focusedValue,g=h.selectValue;if(!s&&!("function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!a||r)return;t.focusValue("previous");break;case"ArrowRight":if(!a||r)return;t.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(m)t.removeValue(m);else{if(!l)return;a?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing||e.shiftKey||!c||!d||!f||p&&t.isOptionSelected(f,g))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f||t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:r}),t.onMenuClose()):i&&o&&t.clearValue();break;case" ":if(r)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++sa),t.state.selectValue=rV(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),a=t.buildFocusableOptions(),o=a.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=a[o],t.state.focusedOptionId=i4(n,a[o])}return t}return n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&rG(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,a=t.menuIsOpen,l=this.state.isFocused;(l&&!n&&e.isDisabled||l&&a&&!e.menuIsOpen)&&this.focusInput(),l&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):l||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(rG(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,a=n.selectValue,l=n.isFocused,o=this.buildFocusableOptions(),r="first"===e?0:o.length-1;if(!this.props.isMulti){var i=o.indexOf(a[0]);i>-1&&(r=i)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[r],focusedOptionId:this.getFocusedOptionId(o[r])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,a=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=n.indexOf(a);a||(l=-1);var o=n.length-1,r=-1;if(n.length){switch(e){case"previous":r=0===l?0:-1===l?o:l-1;break;case"next":l>-1&&l<o&&(r=l+1)}this.setState({inputIsHidden:-1!==r,focusedValue:n[r]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,o=a.indexOf(n);n||(o=-1),"up"===e?l=o>0?o-1:a.length-1:"down"===e?l=(o+1)%a.length:"pageup"===e?(l=o-t)<0&&(l=0):"pagedown"===e?(l=o+t)>a.length-1&&(l=a.length-1):"last"===e&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(iJ):ok(ok({},iJ),this.props.theme):iJ}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,a=this.getClassNames,l=this.getValue,o=this.selectOption,r=this.setValue,i=this.props,s=i.isMulti,c=i.isRtl,u=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:a,getValue:l,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:o,selectProps:i,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return i7(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return se(this.props,e,t)}},{key:"filterOption",value:function(e,t){return st(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var n=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:a})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,a=e.inputId,l=e.inputValue,r=e.tabIndex,i=e.form,s=e.menuIsOpen,c=e.required,u=this.getComponents().Input,d=this.state,p=d.inputIsHidden,h=d.ariaSelection,f=this.commonProps,m=a||this.getElementId("input"),g=ok(ok(ok({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},s&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?(null==h?void 0:h.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?o.createElement(u,tz({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:i,type:"text",value:l},g)):o.createElement(iR,tz({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rB,onFocus:this.onInputFocus,disabled:t,tabIndex:r,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,a=t.MultiValueContainer,l=t.MultiValueLabel,r=t.MultiValueRemove,i=t.SingleValue,s=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,p=u.isDisabled,h=u.isMulti,f=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,x=g.isFocused;if(!this.hasValue()||!d)return f?null:o.createElement(s,tz({},c,{key:"placeholder",isDisabled:p,isFocused:x,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return v.map(function(t,i){var s=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return o.createElement(n,tz({},c,{components:{Container:a,Label:l,Remove:r},isFocused:s,isDisabled:p,key:u,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(f)return null;var y=v[0];return o.createElement(i,tz({},c,{data:y,isDisabled:p}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,l=n.isLoading,r=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||l)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,tz({},t,{innerProps:i,isFocused:r}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,l=n.isLoading,r=this.state.isFocused;return e&&l?o.createElement(e,tz({},t,{innerProps:{"aria-hidden":"true"},isDisabled:a,isFocused:r})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var a=this.commonProps,l=this.props.isDisabled,r=this.state.isFocused;return o.createElement(n,tz({},a,{isDisabled:l,isFocused:r}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,a=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,tz({},t,{innerProps:l,isDisabled:n,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,a=t.GroupHeading,l=t.Menu,r=t.MenuList,i=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,p=this.state.focusedOption,h=this.props,f=h.captureMenuScroll,m=h.inputValue,g=h.isLoading,v=h.loadingMessage,b=h.minMenuHeight,x=h.maxMenuHeight,y=h.menuIsOpen,w=h.menuPlacement,C=h.menuPosition,j=h.menuPortalTarget,S=h.menuShouldBlockScroll,_=h.menuShouldScrollIntoView,k=h.noOptionsMessage,N=h.onMenuScrollToTop,E=h.onMenuScrollToBottom;if(!y)return null;var P,D=function(t,n){var a=t.type,l=t.data,r=t.isDisabled,i=t.isSelected,s=t.label,c=t.value,h=p===l,f=r?void 0:function(){return e.onOptionHover(l)},m=r?void 0:function(){return e.selectOption(l)},g="".concat(e.getElementId("option"),"-").concat(n),v={id:g,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:i};return o.createElement(u,tz({},d,{innerProps:v,data:l,isDisabled:r,isSelected:i,key:g,label:s,type:a,value:c,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map(function(t){if("group"===t.type){var l=t.data,r=t.options,i=t.index,s="".concat(e.getElementId("group"),"-").concat(i),c="".concat(s,"-heading");return o.createElement(n,tz({},d,{key:s,data:l,options:r,Heading:a,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return D(e,"".concat(i,"-").concat(e.index))}))}if("option"===t.type)return D(t,"".concat(t.index))});else if(g){var O=v({inputValue:m});if(null===O)return null;P=o.createElement(s,d,O)}else{var T=k({inputValue:m});if(null===T)return null;P=o.createElement(c,d,T)}var R={minMenuHeight:b,maxMenuHeight:x,menuPlacement:w,menuPosition:C,menuShouldScrollIntoView:_},A=o.createElement(r8,tz({},d,R),function(t){var n=t.ref,a=t.placerProps,i=a.placement,s=a.maxHeight;return o.createElement(l,tz({},d,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:i}),o.createElement(iY,{captureEnabled:f,onTopArrive:N,onBottomArrive:E,lockEnabled:S},function(t){return o.createElement(r,tz({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:s,focusedOption:p}),P)}))});return j||"fixed"===C?o.createElement(i,tz({},d,{appendTo:j,controlElement:this.controlRef,menuPlacement:w,menuPosition:C}),A):A}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,a=t.isDisabled,l=t.isMulti,r=t.name,i=t.required,s=this.state.selectValue;if(i&&!this.hasValue()&&!a)return o.createElement(iG,{name:r,onFocus:this.onValueInputFocus});if(!(!r||a))if(l)if(n){var c=s.map(function(t){return e.getOptionValue(t)}).join(n);return o.createElement("input",{name:r,type:"hidden",value:c})}else{var u=s.length>0?s.map(function(t,n){return o.createElement("input",{key:"i-".concat(n),name:r,type:"hidden",value:e.getOptionValue(t)})}):o.createElement("input",{name:r,type:"hidden",value:""});return o.createElement("div",null,u)}else{var d=s[0]?this.getOptionValue(s[0]):"";return o.createElement("input",{name:r,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,a=t.focusedOption,l=t.focusedValue,r=t.isFocused,i=t.selectValue,s=this.getFocusableOptions();return o.createElement(iw,tz({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:a,focusedValue:l,isFocused:r,selectValue:i,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,a=e.SelectContainer,l=e.ValueContainer,r=this.props,i=r.className,s=r.id,c=r.isDisabled,u=r.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return o.createElement(a,tz({},p,{className:i,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),o.createElement(t,tz({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),o.createElement(l,tz({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),o.createElement(n,tz({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){var n,a=t.prevProps,l=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,r=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,c=t.instancePrefix,u=e.options,d=e.value,p=e.menuIsOpen,h=e.inputValue,f=e.isMulti,m=rV(d),g={};if(a&&(d!==a.value||u!==a.options||p!==a.menuIsOpen||h!==a.inputValue)){var v,b=p?i3(i2(e,m)):[],x=p?i6(i2(e,m),"".concat(c,"-option")):[],y=l?function(e,t){var n=e.focusedValue,a=e.selectValue.indexOf(n);if(a>-1){if(t.indexOf(n)>-1)return n;if(a<t.length)return t[a]}return null}(t,m):null,w=(v=t.focusedOption)&&b.indexOf(v)>-1?v:b[0],C=i4(x,w);g={selectValue:m,focusedOption:w,focusedOptionId:C,focusableOptionsWithIds:x,focusedValue:y,clearFocusValueOnUpdate:!1}}var j=null!=o&&e!==a?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},S=r,_=i&&s;return i&&!_&&(S={value:(n=m[0]||null,f?m:n),options:m,action:"initial-input-focus"},_=!s),(null==r?void 0:r.action)==="initial-input-focus"&&(S=null),ok(ok(ok({},g),j),{},{prevProps:e,ariaSelection:S,prevWasFocused:_})}}],n&&oR(r.prototype,n),a&&oR(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(o.Component);sl.defaultProps=i0;var so=(0,o.forwardRef)(function(e,t){var n=oT(e);return o.createElement(sl,tz({ref:t},n))}),sr=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],si=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),l=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return l===a||o===a},ss={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some(function(t){return si(e,t,a)})||n.some(function(t){return si(e,t,a)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},sc=(0,o.forwardRef)(function(e,t){var n,a,l,r,i,s,c,u,d,p,h,f,m,g,v,b,x,y,w,C,j,S,_,k,N,E,P,D,O=(l=void 0!==(a=(n=oT(e)).allowCreateWhileLoading)&&a,i=void 0===(r=n.createOptionPosition)?"last":r,c=void 0===(s=n.formatCreateLabel)?ss.formatCreateLabel:s,d=void 0===(u=n.isValidNewOption)?ss.isValidNewOption:u,h=void 0===(p=n.getNewOptionData)?ss.getNewOptionData:p,f=n.onCreateOption,g=void 0===(m=n.options)?[]:m,v=n.onChange,y=void 0===(x=(b=oD(n,sr)).getOptionValue)?i$:x,C=void 0===(w=b.getOptionLabel)?iQ:w,j=b.inputValue,S=b.isLoading,_=b.isMulti,k=b.value,N=b.name,E=(0,o.useMemo)(function(){return d(j,rV(k),g,{getOptionValue:y,getOptionLabel:C})?h(j,c(j)):void 0},[c,h,C,y,j,d,g,k]),P=(0,o.useMemo)(function(){return(l||!S)&&E?"first"===i?[E].concat(oM(g)):[].concat(oM(g),[E]):g},[l,i,S,E,g]),D=(0,o.useCallback)(function(e,t){if("select-option"!==t.action)return v(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]===E){if(f)f(j);else{var a,l=h(j,j);v((a=[].concat(oM(rV(k)),[l]),_?a:l),{action:"create-option",name:N,option:l})}return}v(e,t)},[h,j,_,N,E,f,v,k]),ok(ok({},b),{},{options:P,onChange:D}));return o.createElement(sl,tz({ref:t},O))}),su="clear-indicator",sd=e=>{let{clearValue:t,innerProps:{ref:n,...a}}=e;return(0,u.jsx)("div",{className:su,ref:"string"==typeof n?null:n,...a,onKeyDown:e=>{"Enter"===e.key&&(t(),e.stopPropagation())},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{className:"".concat(su,"__icon")})})},sp=e=>{let{children:t,innerProps:n,selectProps:{customProps:{disableKeyDown:a,disableMouseDown:l}={}}={}}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(im.Control,{...e,innerProps:{...n,onKeyDown:e=>{if(a){e.stopPropagation();let t=new CustomEvent("bypassKeyDown",{detail:e});document.dispatchEvent(t)}},onMouseDown:e=>{l||n.onMouseDown(e)}},children:t})})},sh="dropdown-indicator",sf=e=>{let{innerProps:{ref:t,...n}}=e;return(0,u.jsx)("button",{className:sh,ref:t,...n,onKeyDown:e=>{"Enter"===e.key&&(e.key=" ")},type:"button",children:(0,u.jsx)(eW,{className:"".concat(sh,"__icon")})})},sm=e=>(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(im.Input,{...e,"aria-activedescendant":void 0})}),sg="multi-value";function sv(e,t){return"function"==typeof t?t(e):e.value}var sb=e=>{let t=(0,d.c)(26),{className:n,data:a,innerProps:l,isDisabled:r,selectProps:i}=e,s;t[0]!==i?(s=void 0===i?{}:i,t[0]=i,t[1]=s):s=t[1];let{customProps:c,getOptionValue:p,isSortable:h}=s,f;t[2]!==c?(f=void 0===c?{}:c,t[2]=c,t[3]=f):f=t[3];let{disableMouseDown:m}=f,g;t[4]!==a||t[5]!==p?(g=sv(a,p),t[4]=a,t[5]=p,t[6]=g):g=t[6];let v=!h,b;t[7]!==g||t[8]!==v?(b={id:g,disabled:v},t[7]=g,t[8]=v,t[9]=b):b=t[9];let{attributes:x,isDragging:y,listeners:w,setNodeRef:C,transform:j}=tE(b),S=!r&&h&&"draggable",_=y&&"".concat(sg,"--is-dragging"),k;t[10]!==n||t[11]!==S||t[12]!==_?(k=[sg,n,S,_].filter(Boolean),t[10]=n,t[11]=S,t[12]=_,t[13]=k):k=t[13];let N=k.join(" "),E;if(t[14]!==x||t[15]!==N||t[16]!==m||t[17]!==l||t[18]!==h||t[19]!==w||t[20]!==e||t[21]!==C||t[22]!==j){let n;t[24]!==m?(n=e=>{m||e.stopPropagation()},t[24]=m,t[25]=n):n=t[25],E=(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(im.MultiValue,{...e,className:N,innerProps:{...h?{...x,...w}:{},...l,onMouseDown:n,ref:C,style:h?{transform:j,...null==x?void 0:x.style}:{}}})}),t[14]=x,t[15]=N,t[16]=m,t[17]=l,t[18]=h,t[19]=w,t[20]=e,t[21]=C,t[22]=j,t[23]=E}else E=t[23];return E},sx="multi-value-label",sy=e=>{let{data:t,selectProps:{customProps:{draggableProps:n,editableProps:a}={}}={}}=e,l="".concat(sx,"__text");return(0,u.jsx)("div",{className:sx,children:(0,u.jsx)(im.MultiValueLabel,{...e,innerProps:{className:l,...a&&a(t,l,e.selectProps)||{},...n||{}}})})},sw="multi-value-remove",sC=e=>{let t=(0,d.c)(12),{innerProps:n}=e,{className:a,onClick:l,onTouchEnd:r}=n,[i,c]=o.useState(!1),{t:p}=(0,s.d)(),h;if(t[0]!==a||t[1]!==l||t[2]!==r||t[3]!==i||t[4]!==p){let e,n,o,d=p("general:remove"),f;t[6]!==a?(f=[sw,a].filter(Boolean),t[6]=a,t[7]=f):f=t[7],t[8]!==l?(e=e=>{c(!1),l(e)},t[8]=l,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(n=()=>c(!0),o=()=>c(!1),t[10]=n,t[11]=o):(n=t[10],o=t[11]),h=(0,u.jsxs)("button",{"aria-label":d,className:f.join(" "),onClick:e,onKeyDown:sj,onMouseDown:sS,onMouseEnter:n,onMouseLeave:o,onTouchEnd:r,type:"button",children:[(0,u.jsx)(tl,{className:"".concat(sw,"__tooltip"),show:i,children:p("general:remove")}),(0,u.jsx)(s.a,{className:"".concat(sw,"__icon")})]}),t[0]=a,t[1]=l,t[2]=r,t[3]=i,t[4]=p,t[5]=h}else h=t[5];return h};function sj(e){"Enter"===e.key&&e.stopPropagation()}function sS(e){return e.stopPropagation()}var s_=e=>{let{children:t,className:n}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(im.SingleValue,{...e,className:["react-select--single-value",n].filter(Boolean).join(" "),children:t})})},sk=e=>{let{selectProps:{customProps:t}={}}=e;return(0,u.jsx)("div",{className:"value-container",ref:null==t?void 0:t.droppableRef,children:(0,u.jsx)(im.ValueContainer,{...e})})},sN=e=>({label:e,value:e}),sE=e=>{let{i18n:t,t:n}=(0,s.d)(),[a,l]=o.useState(""),r=(0,o.useId)(),[c,d]=o.useState(!1);(0,o.useEffect)(()=>{d(!0)},[]);let{className:h,components:f,customProps:m,disabled:g=!1,filterOption:v,getOptionValue:b,isClearable:x=!0,isCreatable:y,isLoading:w,isSearchable:C=!0,noOptionsMessage:j=()=>n("general:noOptions"),numberOnly:S=!1,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:P=n("general:selectValue"),showError:D,value:O}=e,T=()=>n("general:loading")+"...",R=[h,"react-select",D&&"react-select--error"].filter(Boolean).join(" "),A={menu:e=>({...e,zIndex:void 0})};return c?y?(0,u.jsx)(sc,{captureMenuScroll:!0,isLoading:w,placeholder:(0,p.sC)(P,t),...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:sd,Control:sp,DropdownIndicator:sf,Input:sm,MultiValue:sb,MultiValueLabel:sy,MultiValueRemove:sC,SingleValue:s_,ValueContainer:sk,...f},filterOption:v,inputValue:a,instanceId:r,isClearable:x,isDisabled:g,isSearchable:C,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:j,onChange:_,onInputChange:e=>l(e),onKeyDown:e=>{if(!0===S){let t=!/\D/.test(e.key),n=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key);if(!t&&!n)return void e.preventDefault()}if(!(!O||!a||""===a.trim())&&!(v&&!v(null,a)))switch(e.key){case"Enter":case"Tab":_([...O,sN(a)]),l(""),e.preventDefault()}},onMenuClose:k,onMenuOpen:N,options:E,styles:A,unstyled:!0,value:O}):(0,u.jsx)(so,{captureMenuScroll:!0,customProps:m,isLoading:w,placeholder:(0,p.sC)(P,t),...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:sd,Control:sp,DropdownIndicator:sf,Input:sm,MultiValue:sb,MultiValueLabel:sy,MultiValueRemove:sC,SingleValue:s_,ValueContainer:sk,...f},filterOption:v,getOptionValue:b,instanceId:r,isClearable:x,isDisabled:g,isSearchable:C,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:j,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,styles:A,unstyled:!0,value:O}):(0,u.jsx)(i.d,{height:"calc(var(--base) * 2 + 2px)"})},sP=e=>{let{getOptionValue:t,onChange:n,value:a}=e,l=[];return a&&(l=(Array.isArray(a)?a:[a]).map(e=>sv(e,t))),(0,u.jsx)(tD,{className:"react-select-container",ids:l,onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:l}=e,o=a;a&&Array.isArray(a)&&(o=tp(a,t,l)),n(o)},children:(0,u.jsx)(sE,{...e})})},sD=e=>{let{isMulti:t,isSortable:n}=e;return t&&n?(0,u.jsx)(sP,{...e}):(0,u.jsx)(sE,{...e})},sO=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),sT=e=>{let{id:t,onChange:n,options:a,required:l,selectedTimezone:r}=e,{t:i}=(0,s.d)(),c=sO(a),d=(0,o.useMemo)(()=>c.find(e=>("string"==typeof e?e:e.value)===(r||"UTC")),[c,r]);return(0,u.jsxs)("div",{className:"timezone-picker-wrapper",children:[(0,u.jsx)(aw,{htmlFor:t,label:"".concat(i("general:timezone")," ").concat(l?"*":""),required:l,unstyled:!0}),(0,u.jsx)(sD,{className:"timezone-picker",inputId:t,isClearable:!0,isCreatable:!1,onChange:e=>{n&&n((null==e?void 0:e.value)||"")},options:c,value:d})]})},sR="date-time-field",sA=lj(e=>{let{field:t,field:{admin:{className:n,date:a,description:l,placeholder:r}={},label:c,localized:d,required:h,timezone:f},path:m,readOnly:g,validate:v}=e,b=(null==a?void 0:a.pickerAppearance)||"default",x=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:y}=(0,i.b)(),{i18n:w}=(0,s.d)(),{dispatchFields:C,setModified:j}=eC(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:P,setValue:D,showError:O,value:T}=ly({path:m,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof v)return v(e,{...t,required:h})},[v,h])}),R=m+"_tz",A=eD(e=>{let[t,n]=e;return null==t?void 0:t[R]}),L=y.admin.timezones.supportedTimezones,M=["dayOnly","default","monthOnly"].includes(b),I=null==A?void 0:A.value,F=(0,o.useMemo)(()=>{if(f&&I&&x&&T){let e=aD.tz(I),t=aD.tz(x),n=lt(new aD(T).withTimeZone(I),e);return lt(n,t).toISOString()}return T},[f,I,T,x]),B=(0,o.useMemo)(()=>lS(t),[t]),z=(0,o.useCallback)(e=>{if(!(g||P))if(f&&I&&e){let t=aD.tz(I);if(M){let n=e.getTimezoneOffset()/60,a=e.getHours()+n;e.setHours(a),D(lt(e,t).toISOString()||null)}else D(lt(new aD(e),t).toISOString()||null)}else D((null==e?void 0:e.toISOString())||null)},[g,P,f,I,M,D]),V=(0,o.useCallback)(e=>{R&&(C({type:"UPDATE",path:R,value:e}),j(!0))},[C,j,R]);return(0,u.jsxs)("div",{className:[l_,sR,n,O&&"".concat(sR,"--has-error"),(g||P)&&"read-only"].filter(Boolean).join(" "),style:B,children:[(0,u.jsx)(el,{CustomComponent:E,Fallback:(0,u.jsx)(aw,{label:c,localized:d,required:h})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),id:"field-".concat(m.replace(/\./g,"__")),children:[(0,u.jsx)(el,{CustomComponent:N,Fallback:(0,u.jsx)(tL,{path:m,showError:O})}),_,(0,u.jsx)(ow,{...a,onChange:z,overrides:{...null==a?void 0:a.overrides},placeholder:(0,p.sC)(r,w),readOnly:g||P,value:F}),f&&L.length>0&&(0,u.jsx)(sT,{id:"".concat(m,"-timezone-picker"),onChange:V,options:L,required:h,selectedTimezone:I}),S]}),(0,u.jsx)(el,{CustomComponent:k,Fallback:(0,u.jsx)(tA,{description:l,path:m})})]})}),sL=lj(e=>{let{field:t,field:{admin:{autoComplete:n,className:a,description:l,placeholder:r}={},label:i,localized:c,required:d}={},path:h,readOnly:f,validate:m}=e,{i18n:g}=(0,s.d)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:x,Error:y,Label:w}={},disabled:C,setValue:j,showError:S,value:_}=ly({path:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),k=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsxs)("div",{className:[l_,"email",a,S&&"error",(f||C)&&"read-only"].filter(Boolean).join(" "),style:k,children:[(0,u.jsx)(el,{CustomComponent:w,Fallback:(0,u.jsx)(aw,{label:i,localized:c,path:h,required:d})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:y,Fallback:(0,u.jsx)(tL,{path:h,showError:S})}),b,(0,u.jsx)("input",{autoComplete:n,disabled:f||C,id:"field-".concat(h.replace(/\./g,"__")),name:h,onChange:j,placeholder:(0,p.sC)(r,g),required:d,type:"email",value:_||""}),v]}),(0,u.jsx)(el,{CustomComponent:x,Fallback:(0,u.jsx)(tA,{description:l,path:h})})]})}),sM=(0,o.createContext)(!1),sI=e=>{let{children:t,withinRow:n=!0}=e;return(0,u.jsx)(sM,{value:n,children:t})},sF=()=>(0,o.use)(sM),sB=(0,o.createContext)(!1),sz=e=>{let{children:t,withinTab:n=!0}=e;return(0,u.jsx)(sB,{value:n,children:t})},sV=()=>(0,o.use)(sB),sU=(0,o.createContext)(!1),sH=e=>{let{children:t,withinGroup:n=!0}=e;return(0,u.jsx)(sU,{value:n,children:t})},sq=()=>(0,o.use)(sU),sW="group-field",sY=lj(e=>{let{field:t,field:{name:n,admin:{className:a,description:l,hideGutter:r}={},fields:i,label:c},path:d,permissions:h,readOnly:f,schemaPath:m}=e,{i18n:g}=(0,s.d)(),{isWithinCollapsible:v}=lq(),b=sq(),x=sF(),y=sV(),{customComponents:{AfterInput:w,BeforeInput:C,Description:j,Label:S}={},errorPaths:_}=ly({path:d}),k=e_(),N=_.length,E=k&&N>0,P=!(v||b||x),D=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsxs)("div",{className:[l_,sW,P&&"".concat(sW,"--top-level"),v&&"".concat(sW,"--within-collapsible"),b&&"".concat(sW,"--within-group"),x&&"".concat(sW,"--within-row"),y&&"".concat(sW,"--within-tab"),!r&&b&&"".concat(sW,"--gutter"),E&&"".concat(sW,"--has-error"),a].filter(Boolean).join(" "),id:"field-".concat(null==d?void 0:d.replace(/\./g,"__")),style:D,children:[(0,u.jsx)(sH,{children:(0,u.jsxs)("div",{className:"".concat(sW,"__wrap"),children:[!!(S||j||c||E)&&(0,u.jsxs)("div",{className:"".concat(sW,"__header"),children:[!!(S||j||c)&&(0,u.jsxs)("header",{children:[(0,u.jsx)(el,{CustomComponent:S,Fallback:(0,u.jsx)("h3",{className:"".concat(sW,"__title"),children:(0,u.jsx)(aw,{as:"span",label:(0,p.sC)(c,g),localized:!1,path:d,required:!1})})}),(0,u.jsx)(el,{CustomComponent:j,Fallback:(0,u.jsx)(tA,{description:l,path:d})})]}),E&&(0,u.jsx)(tT,{count:N,i18n:g,withMessage:!0})]}),C,(0,u.jsx)(pB,{fields:i,margins:"small",parentIndexPath:"",parentPath:d,parentSchemaPath:null!=m?m:n,permissions:!0===h?h:null==h?void 0:h.fields,readOnly:f})]})}),w]})}),sK=lj(e=>{let t=(0,d.c)(12),{disableModifyingForm:n,path:a,value:l}=e,r=void 0===n||n,i;t[0]!==a?(i={path:a},t[0]=a,t[1]=i):i=t[1];let{setValue:s,value:c}=ly(i),p,h;t[2]!==r||t[3]!==s||t[4]!==l?(p=()=>{void 0!==l&&s(l,r)},h=[l,s,r],t[2]=r,t[3]=s,t[4]=l,t[5]=p,t[6]=h):(p=t[5],h=t[6]),(0,o.useEffect)(p,h);let f="field-".concat(null==a?void 0:a.replace(/\./g,"__")),m=c||"",g;return t[7]!==a||t[8]!==s||t[9]!==f||t[10]!==m?(g=(0,u.jsx)("input",{id:f,name:a,onChange:s,type:"hidden",value:m}),t[7]=a,t[8]=s,t[9]=f,t[10]=m,t[11]=g):g=t[11],g}),sG=(0,c.e)(Z(),1);function sX(e){let t,n=(0,d.c)(4),a=(0,o.useRef)(e),l,r;return n[0]!==e?(l=()=>{a.current=e},r=[e],n[0]=e,n[1]=l,n[2]=r):(l=n[1],r=n[2]),(0,o.useInsertionEffect)(l,r),n[3]===Symbol.for("react.memo_cache_sentinel")?(t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.current)(...t)},n[3]=t):t=n[3],t}var sQ=(0,o.createContext)({}),s$=e=>{let{children:t,...n}=e;return(0,u.jsx)(sQ,{value:{isInDrawer:!!n.drawerSlug,...n},children:t})},sZ=()=>{let e=(0,o.use)(sQ);if(!e)throw Error("useListDrawerContext must be used within a ListDrawerContextProvider");return e};function sJ(e){let t=e.toString();return k.q(t,{depth:10,ignoreQueryPrefix:!0})}var s0=(0,o.createContext)({}),s1=()=>(0,o.use)(s0),s2=(0,o.createContext)(!1),s3=e=>{let{children:t,collectionSlug:n,columns:a,data:l,defaultLimit:r,defaultSort:i,listPreferences:s,modifySearchParams:c,onQueryChange:d,orderableFieldName:p}=e,h=(0,f.useRouter)(),m=(0,f.useSearchParams)(),{startRouteTransition:g}=eF(),[b,x]=(0,o.useState)(!1),y=(0,o.useMemo)(()=>sJ(m),[m]),w=(0,o.useRef)({});w.current.modified=b;let{onQueryChange:C}=sZ(),[j,k]=(0,o.useState)(()=>c?y:{}),N=(0,o.useCallback)(async(e,t)=>{var n,a;x(void 0===t||t);let l="page"in e?e.page:null==j?void 0:j.page;("where"in e||"search"in e)&&(l="1");let o={columns:"columns"in e?e.columns:j.columns,limit:"limit"in e?e.limit:null!=(n=null==j?void 0:j.limit)?n:String(r),page:l,preset:"preset"in e?e.preset:null==j?void 0:j.preset,search:"search"in e?e.search:null==j?void 0:j.search,sort:"sort"in e?e.sort:null!=(a=null==j?void 0:j.sort)?a:i,where:"where"in e?e.where:null==j?void 0:j.where};c?g(()=>h.replace("".concat(v.A({...o,columns:JSON.stringify(o.columns)},{addQueryPrefix:!0})))):("function"==typeof C||"function"==typeof d)&&(C||d)(o),k(o)},[null==j?void 0:j.columns,null==j?void 0:j.limit,null==j?void 0:j.page,null==j?void 0:j.search,null==j?void 0:j.sort,null==j?void 0:j.where,null==j?void 0:j.preset,g,r,i,c,C,d,h]),E=(0,o.useCallback)(async e=>{await N({page:String(e)})},[N]),P=o.useCallback(async e=>{await N({limit:String(e),page:"1"})},[N]),D=(0,o.useCallback)(async e=>{await N({search:""===e?void 0:e})},[N]),O=(0,o.useCallback)(async e=>{await N({sort:e})},[N]),T=(0,o.useCallback)(async e=>{await N({where:e})},[N]),R=sX(()=>{let e=!1,t={...j||{}};!(0,_.E)(r)||"limit"in j||(t.limit=String(r),e=!0),!i||"sort"in j||(t.sort=i,e=!0),a&&(null==s?void 0:s.columns)&&!("columns"in j)&&(t.columns=(0,S.F)(a),e=!0),e&&(k(t),window.history.replaceState(null,"","?".concat(v.A({...t,columns:JSON.stringify(t.columns)}))))});return(0,o.useEffect)(()=>{c&&R()},[i,r,c,a]),(0,u.jsx)(s0,{value:{collectionSlug:n,data:l,handlePageChange:E,handlePerPageChange:P,handleSearchChange:D,handleSortChange:O,handleWhereChange:T,orderableFieldName:p,query:j,refineListData:N,setModified:x,...w.current},children:(0,u.jsx)(s2,{value:b,children:t})})},s6=(0,o.createContext)(void 0),s5=()=>{let e=o.use(s6);if(void 0===e)throw Error("useServerFunctions must be used within a ServerFunctionsProvider");return e},s4=e=>{let{children:t,serverFunction:n}=e;if(!n)throw Error("ServerFunctionsProvider requires a serverFunction prop");let a=(0,o.useCallback)(async e=>await n({name:"render-document-slots",args:e}),[n]),l=(0,o.useCallback)(async e=>{let{signal:t,...a}=e;try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"schedule-publish",args:{...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}let l="Error scheduling ".concat(a.type);return a.doc&&(l+=" for document with ID ".concat(a.doc.value," in collection ").concat(a.doc.relationTo)),{error:""}},[n]),r=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"form-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}return{state:null}},[n]),i=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"table-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}},[n]),s=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{return await n({name:"render-document",args:{fallbackLocale:!1,...a}})}catch(e){console.error(e)}},[n]),c=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{let e=await n({name:"copy-data-from-locale",args:a});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]);return(0,u.jsx)(s6,{value:{copyDataFromLocale:c,getDocumentSlots:a,getFormState:r,getTableState:i,renderDocument:s,schedulePublish:l,serverFunction:n},children:t})},s8=(0,o.createContext)({}),s9=()=>(0,o.use)(s8),s7=e=>{let{children:t,collectionSlug:n,columnState:a,LinkedCellOverride:l}=e,{getEntityConfig:r}=(0,i.b)(),{query:s,refineListData:c}=s1(),{admin:{defaultColumns:d}={}}=r({collectionSlug:n}),[p,h]=o.useOptimistic(a,(e,t)=>t),f=(0,o.useRef)({}),m=(0,o.useCallback)(async e=>{let t=(p||[]).map(t=>t.accessor===e?{...t,active:!t.active}:t);(0,o.startTransition)(()=>{h(t)}),await c({columns:(0,S.F)(t)})},[c,p,h]),g=(0,o.useCallback)(async e=>{let{fromIndex:t,toIndex:n}=e,a=[...p||[]],[l]=a.splice(t,1);a.splice(n,0,l),(0,o.startTransition)(()=>{h(a)}),await c({columns:(0,S.F)(a)})},[p,c,h]),v=(0,o.useCallback)(async e=>{let t=s.columns;e.forEach(e=>{let n=t.findIndex(t=>e===t);void 0!==n&&"-"===t[n][0]&&(t[n]=e.slice(1))}),await c({columns:t})},[s,c]),b=o.useCallback(async()=>{await v(d)},[d,v]);return(0,u.jsx)(s8,{value:{columns:p,LinkedCellOverride:l,moveColumn:g,resetColumnsState:b,setActiveColumns:v,toggleColumn:m,...f.current},children:t})},ce="column-selector",ct=e=>{let{collectionSlug:t}=e,{columns:n,moveColumn:a,toggleColumn:l}=s9(),r=(0,o.useId)(),i=tF(),c=(0,o.useMemo)(()=>n.filter(e=>{var t,n;return!((0,x.I2)(e.field)&&!(0,x.uT)(e.field))&&!(null==e||null==(n=e.field)||null==(t=n.admin)?void 0:t.disableListColumn)}),[n]);return n?(0,u.jsx)(tD,{className:ce,ids:c.map(e=>null==e?void 0:e.accessor),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;a({fromIndex:t,toIndex:n})},children:c.map((e,n)=>{var a;let{accessor:o,active:c,field:d}=e;return(0,u.jsx)(l$,{alignIcon:"left","aria-checked":c,className:["".concat(ce,"__column"),c&&"".concat(ce,"__column--active")].filter(Boolean).join(" "),draggable:!0,icon:c?(0,u.jsx)(s.a,{}):(0,u.jsx)(eG,{}),id:o,onClick:()=>{l(o)},children:null!=(a=e.CustomLabel)?a:(0,u.jsx)(aw,{label:d&&"label"in d&&d.label,unstyled:!0})},"".concat(t,"-").concat(d&&"name"in d?null==d?void 0:d.name:n).concat(i?"-".concat(i,"-"):"").concat(r))})}):null},cn=e=>{let t=(0,d.c)(3),{getEntityConfig:n}=(0,i.b)(),a;t[0]!==n||t[1]!==e?(a=()=>e?("string"==typeof e?[e]:e).map(e=>n({collectionSlug:e})):[],t[0]=n,t[1]=e,t[2]=a):a=t[2];let[l]=(0,o.useState)(a);return l},ca=e=>{let t,n=(0,d.c)(13),{delayBeforeShow:a,inTimeout:l,minShowTime:r,outTimeout:s,show:c}=e,u=l+r+s,[p,h]=(0,i.c)(a),[f,m]=o.useState(!1),[g,v]=o.useState(!1),b=o.useRef(0),x=o.useRef(void 0),y;n[0]!==s?(y=()=>{v(!0),x.current=setTimeout(()=>{m(!1),v(!1)},s)},n[0]=s,n[1]=y):y=n[1];let w=y,C,j;return n[2]!==p||n[3]!==f||n[4]!==c||n[5]!==u||n[6]!==w?(C=()=>{let e=p&&!f&&c,t=f&&!c;if(e)b.current=Date.now(),m(!0);else if(t){let e=u-(Date.now()-b.current);clearTimeout(x.current),x.current=setTimeout(w,Math.max(0,e))}},j=[f,c,w,u,p],n[2]=p,n[3]=f,n[4]=c,n[5]=u,n[6]=w,n[7]=C,n[8]=j):(C=n[7],j=n[8]),o.useEffect(C,j),n[9]!==f||n[10]!==g||n[11]!==h?(t={isMounted:f,isUnmounting:g,triggerDelayedRender:h},n[9]=f,n[10]=g,n[11]=h,n[12]=t):t=n[12],t},cl={isLoading:!1,loaders:[],loadingText:"",overlayType:null},co=(e,t)=>{let n=[...e.loaders],{type:a="fullscreen",key:l="user",loadingText:o}=t.payload;if("add"===t.type)n.push({type:a,key:l,loadingText:o});else if("remove"===t.type){let e=n.findIndex(e=>e.key===l&&e.type===a);n.splice(e,1)}let r=(null==n?void 0:n.length)>0?n[n.length-1]:null;return{isLoading:!!r,loaders:n,loadingText:(null==r?void 0:r.loadingText)||(null==e?void 0:e.loadingText),overlayType:(null==r?void 0:r.type)||(null==e?void 0:e.overlayType)}},cr=(0,o.createContext)({isOnScreen:!1,toggleLoadingOverlay:void 0}),ci=e=>{let t=(0,d.c)(21),{children:n}=e,{t:a}=(0,s.d)(),l;t[0]!==a?(l=a("general:loading"),t[0]=a,t[1]=l):l=t[1];let r=l,[i,c]=o.useReducer(co,cl),p;t[2]!==i.isLoading?(p={delayBeforeShow:1e3,inTimeout:250,minShowTime:500,outTimeout:250,show:i.isLoading},t[2]=i.isLoading,t[3]=p):p=t[3];let{isMounted:h,isUnmounting:f,triggerDelayedRender:m}=ca(p),g;t[4]!==r||t[5]!==m?(g=e=>{let{type:t,isLoading:n,key:a,loadingText:l}=e,o=void 0===l?r:l;n?(m(),c({type:"add",payload:{type:t,key:a,loadingText:o}})):c({type:"remove",payload:{type:t,key:a}})},t[4]=r,t[5]=m,t[6]=g):g=t[6];let v=g,b;if(t[7]!==n||t[8]!==r||t[9]!==h||t[10]!==f||t[11]!==i.loadingText||t[12]!==i.overlayType||t[13]!==v){let e;t[15]!==r||t[16]!==h||t[17]!==f||t[18]!==i.loadingText||t[19]!==i.overlayType?(e=h&&(0,u.jsx)(cu,{animationDuration:"".concat(250,"ms"),loadingText:i.loadingText||r,overlayType:i.overlayType,show:!f}),t[15]=r,t[16]=h,t[17]=f,t[18]=i.loadingText,t[19]=i.overlayType,t[20]=e):e=t[20],b=(0,u.jsxs)(cr,{value:{isOnScreen:h,toggleLoadingOverlay:v},children:[e,n]}),t[7]=n,t[8]=r,t[9]=h,t[10]=f,t[11]=i.loadingText,t[12]=i.overlayType,t[13]=v,t[14]=b}else b=t[14];return b},cs=()=>{let e=o.use(cr);if(void 0===e)throw Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return e},cc="loading-overlay",cu=e=>{let t=(0,d.c)(11),{animationDuration:n,loadingText:a,overlayType:l,show:o}=e,{t:r}=(0,s.d)(),i=void 0===o||o?"".concat(cc,"--entering"):"".concat(cc,"--exiting"),c=l?"".concat(cc,"--").concat(l):"",p;t[0]!==i||t[1]!==c?(p=[cc,i,c].filter(Boolean),t[0]=i,t[1]=c,t[2]=p):p=t[2];let h=p.join(" "),f=n||"500ms",m;if(t[3]!==a||t[4]!==r||t[5]!==h||t[6]!==f){let e;t[8]!==a||t[9]!==r?(e=a||r("general:loading"),t[8]=a,t[9]=r,t[10]=e):e=t[10],m=(0,u.jsxs)("div",{className:h,style:{animationDuration:f},children:[(0,u.jsxs)("div",{className:"".concat(cc,"__bars"),children:[(0,u.jsx)("div",{className:"".concat(cc,"__bar")}),(0,u.jsx)("div",{className:"".concat(cc,"__bar")}),(0,u.jsx)("div",{className:"".concat(cc,"__bar")}),(0,u.jsx)("div",{className:"".concat(cc,"__bar")}),(0,u.jsx)("div",{className:"".concat(cc,"__bar")})]}),(0,u.jsx)("span",{className:"".concat(cc,"__text"),children:e})]}),t[3]=a,t[4]=r,t[5]=h,t[6]=f,t[7]=m}else m=t[7];return m},cd=e=>{let t=(0,d.c)(7),{name:n,type:a,loadingText:l,show:r}=e,i=void 0===a?"fullscreen":a,{toggleLoadingOverlay:s}=cs(),c,u;return t[0]!==n||t[1]!==l||t[2]!==r||t[3]!==s||t[4]!==i?(c=()=>(s({type:i,isLoading:r,key:n,loadingText:l||void 0}),()=>{s({type:i,isLoading:!1,key:n})}),u=[r,s,n,i,l],t[0]=n,t[1]=l,t[2]=r,t[3]=s,t[4]=i,t[5]=c,t[6]=u):(c=t[5],u=t[6]),o.useEffect(c,u),null},cp=e=>{let t=(0,d.c)(6),{name:n,type:a,action:l,formIsLoading:o,loadingSuffix:r}=e,i=void 0===a?"fullscreen":a,c=void 0!==o&&o,h=ek(),{i18n:f,t:m}=(0,s.d)(),g="".concat({create:m("general:creating"),loading:m("general:loading"),update:m("general:updating")}[l]," ").concat(r?(0,p.sC)(r,f):""),v;return t[0]!==c||t[1]!==h||t[2]!==n||t[3]!==g||t[4]!==i?(v=(0,u.jsx)(cd,{loadingText:g.trim(),name:n,show:c||h,type:i}),t[0]=c,t[1]=h,t[2]=n,t[3]=g,t[4]=i,t[5]=v):v=t[5],v};function ch(e){if(e)try{e.abort()}catch(e){}}function cf(e){let t=new AbortController;if(e.current)try{e.current.abort()}catch(e){}return e.current=t,t}var cm=(0,o.createContext)({}),cg=e=>{let{children:t,...n}=e;return(0,u.jsx)(cm,{value:n,children:t})},cv=()=>{let e=(0,o.use)(cm);if(!e)throw Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return e},cb=e=>{let{id:t,AfterFields:n,collectionSlug:a,disableActions:l,drawerSlug:r,Header:c,initialData:d,onDelete:p,onDuplicate:h,onSave:f,overrideEntityVisibility:m=!0,redirectAfterCreate:g,redirectAfterDelete:v,redirectAfterDuplicate:b}=e,{getEntityConfig:x}=(0,i.b)(),y=ab(),[w]=(0,o.useState)(()=>x({collectionSlug:a})),C=o.useRef(null),{closeModal:j}=t6(),{t:S}=(0,s.d)(),{renderDocument:_}=s5(),[k,N]=(0,o.useState)(void 0),[E,P]=(0,o.useState)(!0),D=(0,o.useRef)(!1),O=(0,o.useCallback)(e=>{let t=cf(C);(async()=>{P(!0);try{let n=await _({collectionSlug:a,disableActions:l,docID:e,drawerSlug:r,initialData:d,locale:y,overrideEntityVisibility:m,redirectAfterCreate:g,redirectAfterDelete:void 0!==v&&v,redirectAfterDuplicate:void 0!==b&&b,signal:t.signal});(null==n?void 0:n.Document)&&(N(n.Document),P(!1))}catch(e){nG.error((null==e?void 0:e.message)||S("error:unspecific")),j(r)}C.current=null})()},[a,l,r,d,v,b,_,j,m,S,y]),T=(0,o.useCallback)(e=>{O(e.doc.id),"function"==typeof f&&f({...e,collectionConfig:w})},[f,w,O]),R=(0,o.useCallback)(e=>{O(e.doc.id),"function"==typeof h&&h({...e,collectionConfig:w})},[h,w,O]),A=(0,o.useCallback)(e=>{"function"==typeof p&&p({...e,collectionConfig:w}),j(r)},[p,j,r,w]),L=(0,o.useCallback)(()=>{O()},[O]);return(0,o.useEffect)(()=>{k||D.current||(O(t),D.current=!0)},[k,O,t]),(0,o.useEffect)(()=>{let e=C.current;return()=>{ch(e)}},[]),E?(0,u.jsx)(cu,{}):(0,u.jsx)(cg,{clearDoc:L,drawerSlug:r,onDelete:A,onDuplicate:R,onSave:T,children:k})},cx="doc-drawer",cy=e=>{let{id:t,collectionSlug:n,depth:a,uuid:l}=e;return"doc-drawer_".concat(n,"_").concat(a).concat(t?"_".concat(t):"","_").concat(l)},cw=e=>{let t=(0,d.c)(21),n,a,l,o,r,i,c,p;t[0]!==e?({id:i,children:n,className:a,collectionSlug:l,disabled:o,drawerSlug:r,onClick:c,...p}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o,t[5]=r,t[6]=i,t[7]=c,t[8]=p):(n=t[1],a=t[2],l=t[3],o=t[4],r=t[5],i=t[6],c=t[7],p=t[8]);let{t:h}=(0,s.d)(),[f]=cn(l),m=i?"general:editLabel":"fields:addNewLabel",g=null==f?void 0:f.labels.singular,v;if(t[9]!==n||t[10]!==a||t[11]!==o||t[12]!==r||t[13]!==c||t[14]!==p||t[15]!==h||t[16]!==m||t[17]!==g){let e=h(m,{label:g}),l;t[19]!==a?(l=[a,"".concat(cx,"__toggler")].filter(Boolean),t[19]=a,t[20]=l):l=t[20],v=(0,u.jsx)(n5,{"aria-label":e,className:l.join(" "),disabled:o,onClick:c,slug:r,...p,children:n}),t[9]=n,t[10]=a,t[11]=o,t[12]=r,t[13]=c,t[14]=p,t[15]=h,t[16]=m,t[17]=g,t[18]=v}else v=t[18];return v},cC=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(n4,{className:cx,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(cb,{...e})})},cj=e=>{let t,n,a,l,r,i,s=(0,d.c)(38),{id:c,collectionSlug:p,overrideEntityVisibility:h}=e,f=tF(),m=(0,o.useId)(),{closeModal:g,modalState:v,openModal:b,toggleModal:x}=t6(),[y,w]=(0,o.useState)(!1),C;s[0]!==p||s[1]!==f||s[2]!==c||s[3]!==m?(C=cy({id:c,collectionSlug:p,depth:f,uuid:m}),s[0]=p,s[1]=f,s[2]=c,s[3]=m,s[4]=C):C=s[4];let j=C,S,_;s[5]!==j||s[6]!==v?(S=()=>{var e;w(!!(null==(e=v[j])?void 0:e.isOpen))},_=[v,j],s[5]=j,s[6]=v,s[7]=S,s[8]=_):(S=s[7],_=s[8]),(0,o.useEffect)(S,_),s[9]!==j||s[10]!==x?(i=()=>{x(j)},s[9]=j,s[10]=x,s[11]=i):i=s[11];let k=i,N;s[12]!==g||s[13]!==j?(N=()=>{g(j)},s[12]=g,s[13]=j,s[14]=N):N=s[14];let E=N,P;s[15]!==j||s[16]!==b?(P=()=>{b(j)},s[15]=j,s[16]=b,s[17]=P):P=s[17];let D=P,O,T;return s[18]!==p||s[19]!==j||s[20]!==c||s[21]!==h?(T=e=>(0,o.createElement)(cC,{...e,collectionSlug:p,drawerSlug:j,id:c,key:j,overrideEntityVisibility:h}),s[18]=p,s[19]=j,s[20]=c,s[21]=h,s[22]=T):T=s[22],O=T,s[23]!==p||s[24]!==j||s[25]!==c?(n=e=>(0,u.jsx)(cw,{...e,collectionSlug:p,drawerSlug:j,id:c}),s[23]=p,s[24]=j,s[25]=c,s[26]=n):n=s[26],t=n,s[27]!==E||s[28]!==j||s[29]!==f||s[30]!==y||s[31]!==D||s[32]!==k?(l={closeDrawer:E,drawerDepth:f,drawerSlug:j,isDrawerOpen:y,openDrawer:D,toggleDrawer:k},s[27]=E,s[28]=j,s[29]=f,s[30]=y,s[31]=D,s[32]=k,s[33]=l):l=s[33],a=l,s[34]!==O||s[35]!==a||s[36]!==t?(r=[O,t,a],s[34]=O,s[35]=a,s[36]=t,s[37]=r):r=s[37],r};function cS(e,t){switch(t.type){case"ADD_LOADED":{let n={...e};"object"!=typeof n[t.relationTo]&&(n[t.relationTo]={});let a=[...t.idsToLoad];return Array.isArray(t.docs)&&t.docs.forEach(e=>{a.splice(a.indexOf(e.id),1),n[t.relationTo][e.id]=e}),a.forEach(e=>{n[t.relationTo][e]=!1}),n}case"REQUEST":{let n={...e};return t.docs.forEach(e=>{let{relationTo:t,value:a}=e;"object"!=typeof n[t]&&(n[t]={}),n[t][a]=null}),n}default:return e}}var c_=(0,o.createContext)({}),ck=e=>{let t,n=(0,d.c)(15),{children:a}=e,l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={},n[0]=l):l=n[0];let[r,c]=(0,o.useReducer)(cS,l),p=al(r,100),{config:h}=(0,i.b)(),{routes:f,serverURL:m}=h,{api:g}=f,{i18n:v}=(0,s.d)(),{code:b}=ab(),x=(0,o.useRef)(b),y;n[1]!==g||n[2]!==p||n[3]!==v||n[4]!==b||n[5]!==m?(y=e=>{let t=void 0!==e&&e;Object.entries(p).forEach(async e=>{let[n,a]=e,l=[];if(Object.entries(a).forEach(e=>{let[n,a]=e;(null===a||t)&&l.push(n)}),l.length>0){let e="".concat(m).concat(g,"/").concat(n),t=new URLSearchParams;if(t.append("depth","0"),t.append("limit","250"),b&&t.append("locale",b),l&&l.length>0){let e=l.map(cE);t.append("where[id][in]",e.join(","))}let a="?".concat(t.toString()),o=await fetch("".concat(e).concat(a),{credentials:"include",headers:{"Accept-Language":v.language}});if(o.ok){let e=await o.json();e.docs&&c({type:"ADD_LOADED",docs:e.docs,idsToLoad:l,relationTo:n})}else c({type:"ADD_LOADED",docs:[],idsToLoad:l,relationTo:n})}})},n[1]=g,n[2]=p,n[3]=v,n[4]=b,n[5]=m,n[6]=y):y=n[6];let w=y,C,j;n[7]!==w||n[8]!==b?(C=()=>{w(b&&x.current!==b),x.current=b},j=[b,w],n[7]=w,n[8]=b,n[9]=C,n[10]=j):(C=n[9],j=n[10]),(0,o.useEffect)(C,j),n[11]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{c({type:"REQUEST",docs:e})},n[11]=t):t=n[11];let S=t,_;return n[12]!==a||n[13]!==r?(_=(0,u.jsx)(c_,{value:{documents:r,getRelationships:S},children:a}),n[12]=a,n[13]=r,n[14]=_):_=n[14],_},cN=()=>(0,o.use)(c_);function cE(e){return String(e)}var cP=(e,t,n)=>{if(((null==t?void 0:t.type)==="select"||(null==t?void 0:t.type)==="radio")&&Array.isArray(t.options)){let a=t.options.find(t=>"object"==typeof t?t.value===e:t===e);if(a)return"object"==typeof a&&"label"in a?o.isValidElement(a.label)?a.label:(0,p.sC)(a.label,n)||a.value:a}return e},cD=e=>{let{cellData:t,nowrap:n}=e,a=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"code-cell",style:n?{whiteSpace:"nowrap"}:{},children:(0,u.jsx)("span",{children:a})})};function cO(e){let{blockType:t}=e;return t}var cT=e=>{let{sizes:t,targetSizeMax:n=180,targetSizeMin:a=40,thumbnailURL:l,url:o,width:r}=e;return l||t&&Object.values(t).reduce((e,t)=>!t.width||t.width<a?e:t.width>=a&&t.width<=n?!e.width||t.width<e.width||e.width<a||e.width>n?t:e:!e.width||!e.original&&e.width<a&&t.width>e.width||e.width>n&&t.width<e.width?t:e,{original:!0,url:o,width:r}).url||o},cR=()=>(0,u.jsxs)("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),(0,u.jsx)("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),(0,u.jsx)("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]}),cA="thumbnail",cL=e=>{let t,n=(0,d.c)(18),{className:a,doc:l,fileSrc:r,imageCacheTag:s,size:c}=e,p=void 0===a?"":a,h;n[0]!==l?(h=void 0===l?{}:l,n[0]=l,n[1]=h):h=n[1];let{filename:f,mimeType:m}=h,[g,v]=o.useState(void 0),b="".concat(cA,"--size-").concat(c||"medium"),x;n[2]!==p||n[3]!==b?(x=[cA,b,p],n[2]=p,n[3]=b,n[4]=x):x=n[4];let y=x.join(" "),w,C;n[5]!==r||n[6]!==m?(w=()=>{if(!r||"string"==typeof m&&!m.startsWith("image"))return void v(!1);v(void 0);let e=new Image;e.src=r,e.onload=()=>{v(!0)},e.onerror=()=>{v(!1)}},C=[r,m],n[5]=r,n[6]=m,n[7]=w,n[8]=C):(w=n[7],C=n[8]),o.useEffect(w,C);let j=null;if(r){let e=(null==r?void 0:r.includes("?"))?"&":"?";j=s?"".concat(r).concat(e).concat(encodeURIComponent(s)):r}if(n[9]!==y||n[10]!==g||n[11]!==f||n[12]!==j){let e;n[14]!==g||n[15]!==f||n[16]!==j?(e=g&&(0,u.jsx)("img",{alt:f,src:j}),n[14]=g,n[15]=f,n[16]=j,n[17]=e):e=n[17],t=(0,u.jsxs)("div",{className:y,children:[void 0===g&&(0,u.jsx)(i.d,{height:"100%"}),e,!1===g&&(0,u.jsx)(cR,{})]}),n[9]=y,n[10]=g,n[11]=f,n[12]=j,n[13]=t}else t=n[13];return t};function cM(e){let t,n=(0,d.c)(17),{alt:a,className:l,filename:r,fileSrc:s,imageCacheTag:c,size:p}=e,h=void 0===l?"":l,[f,m]=o.useState(void 0),g="".concat(cA,"--size-").concat(p||"medium"),v;n[0]!==h||n[1]!==g?(v=[cA,g,h],n[0]=h,n[1]=g,n[2]=v):v=n[2];let b=v.join(" "),x,y;n[3]!==s?(x=()=>{if(!s)return void m(!1);m(void 0);let e=new Image;e.src=s,e.onload=()=>{m(!0)},e.onerror=()=>{m(!1)}},y=[s],n[3]=s,n[4]=x,n[5]=y):(x=n[4],y=n[5]),o.useEffect(x,y);let w="";if(s){let e=(null==s?void 0:s.includes("?"))?"&":"?";w=c?"".concat(s).concat(e).concat(encodeURIComponent(c)):s}if(n[6]!==a||n[7]!==b||n[8]!==f||n[9]!==r||n[10]!==w){let e;n[12]!==a||n[13]!==f||n[14]!==r||n[15]!==w?(e=f&&(0,u.jsx)("img",{alt:a||r,src:w}),n[12]=a,n[13]=f,n[14]=r,n[15]=w,n[16]=e):e=n[16],t=(0,u.jsxs)("div",{className:b,children:[void 0===f&&(0,u.jsx)(i.d,{height:"100%"}),e,!1===f&&(0,u.jsx)(cR,{})]}),n[6]=a,n[7]=b,n[8]=f,n[9]=r,n[10]=w,n[11]=t}else t=n[11];return t}var cI="file",cF=e=>{var t,n,a,l;let{cellData:o,collectionConfig:r,field:i,rowData:s}=e;if(null!=(a=null!=(n="displayPreview"in i?i.displayPreview:void 0)?n:null==(t=r.upload)?void 0:t.displayPreview)&&!a)return(0,u.jsx)(u.Fragment,{children:String(o)});{let e=null!=(l=null==s?void 0:s.thumbnailURL)?l:null==s?void 0:s.url;return(0,N.w)(null==s?void 0:s.mimeType)&&(e=cT({sizes:null==s?void 0:s.sizes,thumbnailURL:null==s?void 0:s.thumbnailURL,url:null==s?void 0:s.url,width:null==s?void 0:s.width})),(0,u.jsxs)("div",{className:cI,children:[(0,u.jsx)(cL,{className:"".concat(cI,"__thumbnail"),collectionSlug:null==r?void 0:r.slug,doc:{...s,filename:o},fileSrc:e,size:"small",uploadConfig:null==r?void 0:r.upload}),(0,u.jsx)("span",{className:"".concat(cI,"__filename"),children:String(o)})]})}},cB=!!("u">typeof window&&window.document&&window.document.createElement),cz=e=>{var t;let n,a,l,r,c=(0,d.c)(40),{cellData:h,customCellProps:f,field:m,field:g}=e,{label:v}=g,b="relationTo"in m&&m.relationTo||"collection"in m&&m.collection,x;x="collection"in m?null==h?void 0:h.docs:h;let{config:y,getEntityConfig:w}=(0,i.b)(),{collections:C,routes:j}=y,[S,_]=e7(),k;c[0]===Symbol.for("react.memo_cache_sentinel")?(k=[],c[0]=k):k=c[0];let[N,E]=(0,o.useState)(k),{documents:P,getRelationships:D}=cN(),[O,T]=(0,o.useState)(!1),{i18n:R,t:A}=(0,s.d)(),L=!!cB&&(null==_||null==(t=_.boundingClientRect)?void 0:t.top)<window.innerHeight,M;if(c[1]!==x||c[2]!==D||c[3]!==O||c[4]!==L||c[5]!==b?(M=()=>{if((x||"number"==typeof x)&&L&&!O){let e=[],t=Array.isArray(x)?x:[x];t.slice(0,t.length<3?t.length:3).forEach(t=>{"object"==typeof t&&"relationTo"in t&&"value"in t&&e.push(t),("number"==typeof t||"string"==typeof t)&&"string"==typeof b&&e.push({relationTo:b,value:t})}),D(e),T(!0),E(e)}},c[1]=x,c[2]=D,c[3]=O,c[4]=L,c[5]=b,c[6]=M):M=c[6],c[7]!==x||c[8]!==C||c[9]!==D||c[10]!==O||c[11]!==L||c[12]!==b||c[13]!==j.api?(n=[x,b,C,L,j.api,O,D],c[7]=x,c[8]=C,c[9]=D,c[10]=O,c[11]=L,c[12]=b,c[13]=j.api,c[14]=n):n=c[14],(0,o.useEffect)(M,n),c[15]!==O?(a=()=>{O&&T(!1)},c[15]=O,c[16]=a):a=c[16],c[17]!==x?(l=[x],c[17]=x,c[18]=l):l=c[18],(0,o.useEffect)(a,l),c[19]!==x||c[20]!==y.admin.dateFormat||c[21]!==f||c[22]!==P||c[23]!==m||c[24]!==w||c[25]!==R||c[26]!==S||c[27]!==v||c[28]!==A||c[29]!==N){let e;c[31]!==y.admin.dateFormat||c[32]!==f||c[33]!==P||c[34]!==m||c[35]!==w||c[36]!==R||c[37]!==A||c[38]!==N.length?(e=(e,t)=>{var n,a,l;let{relationTo:r,value:i}=e,s=P[r][i],c=w({collectionSlug:r}),d=lr({collectionConfig:c,data:s||null,dateFormat:y.admin.dateFormat,fallback:"".concat(A("general:untitled")," - ID: ").concat(i),i18n:R}),p=null;return"upload"===m.type&&(null==(l=null!=(a="displayPreview"in m?m.displayPreview:void 0)?a:null==(n=c.upload)?void 0:n.displayPreview)||l)&&s&&(p=(0,u.jsx)(cF,{cellData:d,collectionConfig:c,collectionSlug:c.slug,customCellProps:f,field:m,rowData:s})),(0,u.jsxs)(o.Fragment,{children:[!1===s&&"".concat(A("general:untitled")," - ID: ").concat(i),null===s&&"".concat(A("general:loading"),"..."),s?p||d:null,N.length>t+1&&", "]},t)},c[31]=y.admin.dateFormat,c[32]=f,c[33]=P,c[34]=m,c[35]=w,c[36]=R,c[37]=A,c[38]=N.length,c[39]=e):e=c[39],r=(0,u.jsxs)("div",{className:"relationship-cell",ref:S,children:[N.map(e),Array.isArray(x)&&x.length>3&&A("fields:itemsAndMore",{count:x.length-3,items:""}),0===N.length&&A("general:noLabel",{label:(0,p.sC)(v||"",R)})]}),c[19]=x,c[20]=y.admin.dateFormat,c[21]=f,c[22]=P,c[23]=m,c[24]=w,c[25]=R,c[26]=S,c[27]=v,c[28]=A,c[29]=N,c[30]=r}else r=c[30];return r},cV=e=>{let t,n=(0,d.c)(10),{cellData:a,field:l}=e,{options:o}=l,{i18n:r}=(0,s.d)(),i;n[0]!==r||n[1]!==o?(i=e=>e.map(e=>{var t,n;let a=null==(n=o.filter(t=>t.value===e))||null==(t=n[0])?void 0:t.label;return(0,p.sC)(a,r)}).join(", "),n[0]=r,n[1]=o,n[2]=i):i=n[2];let c=i,h;if((0,x.Vh)(o)){let e;n[3]!==a||n[4]!==c?(e=c(Array.isArray(a)?a:[a]),n[3]=a,n[4]=c,n[5]=e):e=n[5],h=e}else{let e;n[6]!==a?(e=Array.isArray(a)?a.join(", "):a,n[6]=a,n[7]=e):e=n[7],h=e}return n[8]!==h?(t=(0,u.jsx)("span",{children:h}),n[8]=h,n[9]=t):t=n[9],t},cU={array:e=>{let t=(0,d.c)(2),{cellData:n,field:a}=e,{labels:l}=a,{i18n:o}=(0,s.d)(),r=null!=n?n:[],i=1===r.length?"".concat(r.length," ").concat((0,p.sC)((null==l?void 0:l.singular)||o.t("general:rows"),o)):"".concat(r.length," ").concat((0,p.sC)((null==l?void 0:l.plural)||o.t("general:rows"),o)),c;return t[0]!==i?(c=(0,u.jsx)("span",{children:i}),t[0]=i,t[1]=c):c=t[1],c},blocks:e=>{var t;let n,a=(0,d.c)(2),{cellData:l,field:o}=e,{blockReferences:r,blocks:c,labels:h}=o,{i18n:f}=(0,s.d)(),{config:m}=(0,i.b)(),g=Array.isArray(l)?l.map(cO):[],v=null==(t=null!=r?r:c)?void 0:t.map(e=>{let t="string"==typeof e?m.blocksMap[e]:e;return{slug:t.slug,label:(0,p.sC)(t.labels.singular,f)}}),b="0 ".concat((0,p.sC)(null==h?void 0:h.plural,f)),x=e=>e.map(e=>{var t,n;return null==(n=v.filter(t=>t.slug===e))||null==(t=n[0])?void 0:t.label}).join(", ");if(g.length>5){let e=g.length-5;b="".concat(g.length," ").concat((0,p.sC)(null==h?void 0:h.plural,f)," - ").concat(f.t("fields:itemsAndMore",{count:e,items:x(g.slice(0,5))}))}else g.length>0&&(b="".concat(g.length," ").concat((0,p.sC)(1===g.length?null==h?void 0:h.singular:null==h?void 0:h.plural,f)," - ").concat(x(g)));return a[0]!==b?(n=(0,u.jsx)("span",{children:b}),a[0]=b,a[1]=n):n=a[1],n},checkbox:e=>{let t=(0,d.c)(3),{cellData:n}=e,{t:a}=(0,s.d)(),l="general:".concat(n),o;return t[0]!==a||t[1]!==l?(o=(0,u.jsx)("code",{className:"bool-cell",children:(0,u.jsx)("span",{children:a(l).toLowerCase()})}),t[0]=a,t[1]=l,t[2]=o):o=t[2],o},code:cD,date:e=>{let t,n=(0,d.c)(8),{cellData:a,field:l}=e,{admin:o}=l,r;n[0]!==o?(r=void 0===o?{}:o,n[0]=o,n[1]=r):r=n[1];let{date:c}=r,{config:p}=(0,i.b)(),{admin:h}=p,{dateFormat:f}=h,m=(null==c?void 0:c.displayFormat)||f,{i18n:g}=(0,s.d)(),v;return n[2]!==a||n[3]!==m||n[4]!==g?(v=a&&ln({date:a,i18n:g,pattern:m}),n[2]=a,n[3]=m,n[4]=g,n[5]=v):v=n[5],n[6]!==v?(t=(0,u.jsx)("span",{children:v}),n[6]=v,n[7]=t):t=n[7],t},File:cF,join:cz,json:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"json-cell",children:(0,u.jsx)("span",{children:JSON.stringify(n)})})},radio:cV,relationship:cz,select:cV,textarea:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("span",{children:n})},upload:cz},cH=e=>{let t=(0,d.c)(14),{cellData:n,className:a,collectionSlug:l,field:r,field:c,link:h,onClick:f,rowData:m}=e,{admin:v}=c,{i18n:b}=(0,s.d)(),{config:y,getEntityConfig:w}=(0,i.b)(),{routes:C}=y,{admin:j}=C,S,_;if(t[0]!==v||t[1]!==j||t[2]!==n||t[3]!==a||t[4]!==l||t[5]!==r||t[6]!==w||t[7]!==b||t[8]!==h||t[9]!==f||t[10]!==e||t[11]!==m){_=Symbol.for("react.early_return_sentinel");e:{let t=w({collectionSlug:l}),i=v&&"className"in v?v.className:void 0,s=a||(r.admin&&"className"in r.admin?r.admin.className:null)||i,c="span",d={className:s};if(h&&(d.prefetch=!1,c=eU,d.href=(null==t?void 0:t.slug)?(0,g.Q)({adminRoute:j,path:"/collections/".concat(null==t?void 0:t.slug,"/").concat(encodeURIComponent(m.id))}):""),"function"==typeof f&&(c="button",d.type="button",d.onClick=()=>{f({cellData:n,collectionSlug:null==t?void 0:t.slug,rowData:m})}),(0,x.uT)(r)){_=(0,u.jsx)(c,{...d,children:(0,u.jsx)(cD,{cellData:"ID: ".concat(n),collectionConfig:t,collectionSlug:l,field:{...r,type:"code"},nowrap:!0,rowData:m})});break e}let y=cP(n,r,b),C="u">typeof n&&cU[r.type],k=null;if(o.isValidElement(y))k=y;else if(C)k=(0,u.jsx)(C,{cellData:n,rowData:m,...e});else if(!C)if((null==t?void 0:t.upload)&&(0,x.Z7)(r)&&"filename"===r.name&&"text"===r.type){let a=cU.File;k=(0,u.jsx)(a,{cellData:n,rowData:m,...e,collectionConfig:t,field:r})}else{_=(0,u.jsxs)(c,{...d,children:[(""===y||typeof y>"u"||null===y)&&b.t("general:noLabel",{label:(0,p.sC)(("label"in r?r.label:null)||"data",b)}),"string"==typeof y&&y,"number"==typeof y&&y,"object"==typeof y&&null!==y&&JSON.stringify(y)]});break e}if(("select"===r.type||"radio"===r.type)&&r.options.length&&n){let e=Array.isArray(n)?n.map(cq).join(" "):"selected--".concat(n),t=[d.className,e].filter(Boolean).join(" ");_=(0,u.jsx)(c,{...d,className:t,children:k});break e}S=(0,u.jsx)(c,{...d,children:k})}t[0]=v,t[1]=j,t[2]=n,t[3]=a,t[4]=l,t[5]=r,t[6]=w,t[7]=b,t[8]=h,t[9]=f,t[10]=e,t[11]=m,t[12]=S,t[13]=_}else S=t[12],_=t[13];return _!==Symbol.for("react.early_return_sentinel")?_:S};function cq(e){return"selected--".concat(e)}var cW=o.createContext(null),cY=()=>o.use(cW),cK=e=>{let t=(0,d.c)(9),{clientProps:n,columnIndex:a,isLinkedColumn:l}=e,{drawerSlug:o,onSelect:r}=sZ(),{LinkedCellOverride:i}=s9(),s;if(t[0]!==i||t[1]!==n||t[2]!==a||t[3]!==o||t[4]!==l||t[5]!==r){let e={...n,columnIndex:a};if(l&&o){let n;e.className="".concat("default-cell","__first-cell"),e.link=!1,t[7]!==r?(n=e=>{let{collectionSlug:t,rowData:n}=e;"function"==typeof r&&r({collectionSlug:t,doc:n,docID:n.id})},t[7]=r,t[8]=n):n=t[8],e.onClick=n}s=(0,u.jsx)(cW,{value:e,children:l&&i?i:(0,u.jsx)(cH,{...e})}),t[0]=i,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=r,t[6]=s}else s=t[6];return s},cG=e=>{let t=(0,d.c)(15),{onDrawerDelete:n,onDrawerSave:a}=e,l=cY(),o=null==l?void 0:l.rowData.id,r=null==l?void 0:l.collectionSlug,i;t[0]!==o||t[1]!==r?(i={id:o,collectionSlug:r},t[0]=o,t[1]=r,t[2]=i):i=t[2];let[s,c,p]=cj(i),{closeDrawer:h}=p,f;t[3]!==h||t[4]!==a?(f=e=>{h(),"function"==typeof a&&a(e)},t[3]=h,t[4]=a,t[5]=f):f=t[5];let m=f,g;t[6]!==h||t[7]!==n?(g=e=>{h(),"function"==typeof n&&n(e)},t[6]=h,t[7]=n,t[8]=g):g=t[8];let v=g,b;return t[9]!==s||t[10]!==c||t[11]!==l||t[12]!==v||t[13]!==m?(b=(0,u.jsxs)("div",{className:"drawer-link",children:[(0,u.jsx)(cH,{...l,className:"drawer-link__cell",link:!1,onClick:null}),(0,u.jsx)(c,{children:(0,u.jsx)(eY,{})}),(0,u.jsx)(s,{onDelete:v,onSave:m})]}),t[9]=s,t[10]=c,t[11]=l,t[12]=v,t[13]=m,t[14]=b):b=t[14],b},cX="clickable-arrow",cQ="paginator__page",c$=e=>{let{isCurrent:t,isFirstPage:n=!1,isLastPage:a=!1,page:l=1,updatePage:o}=e,r=[cQ,t&&"".concat(cQ,"--is-current"),n&&"".concat(cQ,"--is-first-page"),a&&"".concat(cQ,"--is-last-page")].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:r,onClick:()=>o(l),type:"button",children:l})},cZ={ClickableArrow:e=>{let{direction:t="right",isDisabled:n=!1,updatePage:a}=e,l=[cX,n&&"".concat(cX,"--is-disabled"),t&&"".concat(cX,"--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:l,disabled:n,onClick:n?void 0:a,type:"button",children:(0,u.jsx)(eW,{})})},Page:c$,Separator:()=>(0,u.jsx)("span",{className:"paginator__separator",children:""})},cJ=e=>{let{hasNextPage:t=!1,hasPrevPage:n=!1,nextPage:a=null,numberOfNeighbors:l=1,onChange:o,page:r,prevPage:i=null,totalPages:s=null}=e;if(!t&&!n)return null;let c=e=>{"function"==typeof o&&o(e)},d=Array.from({length:s},(e,t)=>t+1),p=r-1-l;p<=0&&(p=0);let h=r-1+l+1,f=d.slice(p,h);return r-l-1>=2&&f.unshift({type:"Separator"}),r>l+1&&f.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),r+l+1<s&&f.push({type:"Separator"}),h<s&&f.push({type:"Page",props:{isLastPage:!0,page:s,updatePage:c}}),f.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!t,updatePage:()=>c(a)}}),f.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!n,updatePage:()=>c(i)}}),(0,u.jsx)("div",{className:"paginator",children:f.map((e,t)=>{if("number"==typeof e)return(0,u.jsx)(c$,{isCurrent:r===e,page:e,updatePage:c},t);let n=cZ[e.type];return(0,u.jsx)(n,{...e.props},t)})})},c0=()=>{let e=(0,d.c)(11),{data:t,handlePageChange:n}=s1(),a=t.nextPage||2,l;e[0]!==n?(l=e=>{n(e)},e[0]=n,e[1]=l):l=e[1];let o=t.page||1,r=t.prevPage||void 0,i;return e[2]!==t.hasNextPage||e[3]!==t.hasPrevPage||e[4]!==t.limit||e[5]!==t.totalPages||e[6]!==a||e[7]!==l||e[8]!==o||e[9]!==r?(i=(0,u.jsx)(cJ,{hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,limit:t.limit,nextPage:a,numberOfNeighbors:1,onChange:l,page:o,prevPage:r,totalPages:t.totalPages}),e[2]=t.hasNextPage,e[3]=t.hasPrevPage,e[4]=t.limit,e[5]=t.totalPages,e[6]=a,e[7]=l,e[8]=o,e[9]=r,e[10]=i):i=e[10],i},c1="relationship-table",c2=e=>{var t,n,a,l,r,c,d,h,f;let{AfterInput:m,allowCreate:g=!0,BeforeInput:v,disableTable:b=!1,field:x,filterOptions:y,initialData:w,initialDrawerData:C,Label:_,parent:k,relationTo:N}=e,[E,P]=(0,o.useState)(null),{config:D,getEntityConfig:O}=(0,i.b)(),{permissions:T}=as(),[R]=(0,o.useState)(()=>{if(w)return{...w,docs:Array.isArray(w.docs)?w.docs.reduce((e,t)=>"string"==typeof t?[...e,{id:t}]:[...e,t],[]):[]}}),{i18n:A,t:L}=(0,s.d)(),[M,I]=(0,o.useState)(),[F,B]=(0,o.useState)(!1),[z]=(0,o.useState)(()=>O({collectionSlug:N})),[V,U]=(0,o.useState)(Array.isArray(N)?void 0:N),[H,q]=(0,o.useState)(!b),[W,Y]=(0,o.useState)(R),[K,G]=(0,o.useState)(),{getTableState:X}=s5(),Q=(0,o.useCallback)(async e=>{var t,n;let a={limit:String((null==x?void 0:x.defaultLimit)||(null==z||null==(n=z.admin)||null==(t=n.pagination)?void 0:t.defaultLimit)),sort:x.defaultSort||(null==z?void 0:z.defaultSort),...M||{},where:{...(null==M?void 0:M.where)||{}}};y&&(a.where=(0,j.Y)(a.where,y));let l=x.admin.defaultColumns?x.admin.defaultColumns.map(e=>({accessor:e,active:!0})):void 0,{data:o,state:r,Table:i}=await X({collectionSlug:N,columns:(0,S.l)(null==M?void 0:M.columns)||l,docs:e,enableRowSelections:!1,orderableFieldName:!x.orderable||Array.isArray(x.collection)?void 0:"_".concat(x.collection,"_").concat(x.name,"_order"),parent:k,query:a,renderRowTypes:!0,tableAppearance:"condensed"});Y(o),P(i),G(r),q(!1)},[x.defaultLimit,x.defaultSort,x.admin.defaultColumns,x.collection,x.name,x.orderable,null==z||null==(n=z.admin)||null==(t=n.pagination)?void 0:t.defaultLimit,null==z?void 0:z.defaultSort,M,y,X,N,k]),$=sX((e,t)=>{t||E&&!e||Q()});(0,o.useEffect)(()=>{$(M,b)},[M,b]);let[Z,J,{closeDrawer:ee,isDrawerOpen:et,openDrawer:en}]=cj({collectionSlug:V}),ea=(0,o.useCallback)(e=>{var t;let n=null==W||null==(t=W.docs)?void 0:t.findIndex(t=>t.id===e.doc.id),a;if(-1!==n){let t=[...W.docs];t[n]=e.doc,a=t}else a=[e.doc,...W.docs];Q(a)},[null==W?void 0:W.docs,Q]),el=(0,o.useCallback)(e=>{ee(),ea(e)},[ee,ea]),eo=(0,o.useCallback)(e=>{Q(W.docs.filter(t=>t.id!==e.id))},[null==W?void 0:W.docs,Q]),er=!1!==g&&(null==T||null==(l=T.collections)||null==(a=l[Array.isArray(N)?N[0]:N])?void 0:a.create);return(0,o.useEffect)(()=>{Array.isArray(N)&&V&&en()},[V,en,N]),(0,o.useEffect)(()=>{Array.isArray(N)&&!et&&V&&U(void 0)},[et]),(0,u.jsxs)("div",{className:c1,children:[(0,u.jsxs)("div",{className:"".concat(c1,"__header"),children:[_,(0,u.jsxs)("div",{className:"".concat(c1,"__actions"),children:[!Array.isArray(N)&&er&&(0,u.jsx)(J,{className:"".concat(c1,"__add-new"),children:A.t("fields:addNew")}),Array.isArray(N)&&(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(ta,{button:(0,u.jsxs)(ti,{buttonStyle:"none",className:"".concat(c1,"__add-new-polymorphic"),children:[A.t("fields:addNew"),(0,u.jsx)(eG,{})]}),buttonType:"custom",horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsx)(eQ.ButtonGroup,{children:N.map(e=>T.collections[e].create?(0,u.jsx)(eQ.Button,{className:"".concat(c1,"__relation-button--").concat(e),onClick:()=>{t(),U(e)},children:(0,p.sC)(D.collections.find(t=>t.slug===e).labels.singular,A)},e):null)})},size:"medium"})}),(0,u.jsx)(l$,{"aria-controls":"".concat(c1,"-columns"),"aria-expanded":F,className:"".concat(c1,"__toggle-columns ").concat(F?"".concat(c1,"__buttons-active"):""),icon:(0,u.jsx)(eW,{direction:F?"up":"down"}),onClick:()=>B(!F),pillStyle:"light",children:L("general:columns")})]})]}),v,H?(0,u.jsx)("p",{children:L("general:loading")}):(0,u.jsxs)(o.Fragment,{children:[(null==W?void 0:W.docs)&&0===W.docs.length&&(0,u.jsxs)("div",{className:"".concat(c1,"__no-results"),children:[(0,u.jsx)("p",{children:A.t("general:noResults",{label:Array.isArray(N)?A.t("general:documents"):(0,p.sC)(null==z||null==(r=z.labels)?void 0:r.plural,A)})}),er&&(0,u.jsx)(ti,{onClick:en,children:A.t("general:createNewLabel",{label:(0,p.sC)(null==z||null==(c=z.labels)?void 0:c.singular,A)})})]}),(null==W?void 0:W.docs)&&W.docs.length>0&&(0,u.jsx)(ck,{children:(0,u.jsx)(s3,{columns:(0,S.l)(K),data:W,defaultLimit:null!=(f=x.defaultLimit)?f:null==z||null==(h=z.admin)||null==(d=h.pagination)?void 0:d.defaultLimit,modifySearchParams:!1,onQueryChange:I,orderableFieldName:!x.orderable||Array.isArray(x.collection)?void 0:"_".concat(x.collection,"_").concat(x.name,"_order"),children:(0,u.jsxs)(s7,{collectionSlug:Array.isArray(N)?N[0]:N,columnState:K,LinkedCellOverride:(0,u.jsx)(cG,{onDrawerDelete:eo,onDrawerSave:ea}),children:[(0,u.jsx)(lV,{className:"".concat(c1,"__columns"),height:F?"auto":0,id:"".concat(c1,"-columns"),children:(0,u.jsx)("div",{className:"".concat(c1,"__columns-inner"),children:z&&(0,u.jsx)(ct,{collectionSlug:z.slug})})}),E,(0,u.jsx)(c0,{})]})})})]}),m,(0,u.jsx)(Z,{initialData:C,onSave:el})]})},c3=sG.default.default||sG.default,c6=e=>{var t;let{collectionSlug:n,config:a,docID:l,fields:o,segments:r}=e,i=(0,C.A)(o),s=r[0],c=i.find(e=>e.name===s);if(!c)return null;if("relationship"===c.type||"upload"===c.type){let e=l;return Array.isArray(c.relationTo)&&(e={relationTo:n,value:l}),{[c.name]:c.hasMany?[e]:e}}let u=r.slice(1,r.length);if("tab"===c.type||"group"===c.type)return{[c.name]:c6({collectionSlug:n,config:a,docID:l,fields:c.fields,segments:u})};if("array"===c.type){let e=c6({collectionSlug:n,config:a,docID:l,fields:c.fields,segments:u});return e.id=c3().toHexString(),{[c.name]:[e]}}if("blocks"===c.type)for(let e of null!=(t=c.blockReferences)?t:c.blocks){let t="string"==typeof e?a.blocksMap[e]:e,o=c6({collectionSlug:n,config:a,docID:l,fields:t.fields,segments:u});if(o)return o.id=c3().toHexString(),o.blockType=t.slug,{[c.name]:[o]}}},c5=lj(e=>{let{field:t,field:{admin:{allowCreate:n,description:a},collection:l,label:r,localized:s,on:c,required:d},path:p}=e,{id:h,docConfig:f}=lf(),{config:m,getEntityConfig:g}=(0,i.b)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:x,Error:y,Label:w}={},showError:C,value:j}=ly({path:p}),S=(0,o.useMemo)(()=>{if(!h)return null;let e=h;Array.isArray(t.targetField.relationTo)&&(e={relationTo:f.slug,value:e});let n=Array.isArray(l)?{}:{[c]:{equals:e}};return t.where?{and:[n,t.where]}:n},[h,l,t.targetField.relationTo,t.where,c,null==f?void 0:f.slug]),_=(0,o.useMemo)(()=>{let e=g({collectionSlug:Array.isArray(t.collection)?t.collection[0]:t.collection});return c6({collectionSlug:null==f?void 0:f.slug,config:m,docID:h,fields:e.fields,segments:t.on.split(".")})},[g,t.collection,t.on,null==f?void 0:f.slug,h,m]);return f?(0,u.jsxs)("div",{className:[l_,C&&"error","join"].filter(Boolean).join(" "),id:"field-".concat(null==p?void 0:p.replace(/\./g,"__")),children:[(0,u.jsx)(el,{CustomComponent:y,Fallback:(0,u.jsx)(tL,{path:p,showError:C})}),(0,u.jsx)(c2,{AfterInput:v,allowCreate:"u">typeof h&&n,BeforeInput:b,disableTable:null===S,field:t,filterOptions:S,initialData:h&&j?j:{docs:[]},initialDrawerData:_,Label:(0,u.jsx)("h4",{style:{margin:0},children:w||(0,u.jsx)(aw,{label:r,localized:s,path:p,required:d})}),parent:Array.isArray(l)?{id:h,collectionSlug:f.slug,joinPath:p}:void 0,relationTo:l}),(0,u.jsx)(el,{CustomComponent:x,Fallback:(0,u.jsx)(tA,{description:a,path:p})})]}):null}),c4=lj(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:l,maxHeight:r}={},jsonSchema:i,label:s,localized:c,required:d},path:p,readOnly:h,validate:f}=e,[m,g]=(0,o.useState)(),v=o.useRef("system"),[b,x]=(0,o.useState)(""),{customComponents:{AfterInput:y,BeforeInput:w,Description:C,Error:j,Label:S}={},disabled:_,initialValue:k,setValue:N,showError:E,value:P}=ly({path:p,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof f)return f(e,{...t,jsonError:m,required:d})},[f,d,m])}),[D,O]=(0,o.useState)(()=>(P||k)!==void 0?JSON.stringify(null!=P?P:k,null,2):void 0),T=(0,o.useCallback)((e,t)=>{if(!i)return;t.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...t.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let n=i.uri,a=n.includes("?")?"".concat(n,"&").concat(crypto.randomUUID?crypto.randomUUID():l4()):"".concat(n,"?").concat(crypto.randomUUID?crypto.randomUUID():l4());e.setModel(t.editor.createModel(JSON.stringify(P,null,2),"json",t.Uri.parse(a)))},[i,P]),R=(0,o.useCallback)(e=>{if(!(h||_)){v.current="user";try{N(e?JSON.parse(e):null),g(void 0)}catch(t){N(e||null),g(t)}}},[h,_,N]);(0,o.useEffect)(()=>{"system"===v.current&&(O((P||k)!==void 0?JSON.stringify(null!=P?P:k,null,2):void 0),x(new Date().toString())),v.current="system"},[k,P]);let A=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsxs)("div",{className:[l_,"json-field",n,E&&"error",(h||_)&&"read-only"].filter(Boolean).join(" "),style:A,children:[(0,u.jsx)(el,{CustomComponent:S,Fallback:(0,u.jsx)(aw,{label:s,localized:c,path:p,required:d})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:j,Fallback:(0,u.jsx)(tL,{message:m,path:p,showError:E})}),w,(0,u.jsx)(oh,{defaultLanguage:"json",maxHeight:r,onChange:R,onMount:T,options:l,readOnly:h||_,value:D,wrapperProps:{id:"field-".concat(null==p?void 0:p.replace(/\./g,"__"))}},b),y]}),(0,u.jsx)(el,{CustomComponent:C,Fallback:(0,u.jsx)(tA,{description:a,path:p})})]})}),c8=lj(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,step:r=1}={},hasMany:i=!1,label:c,localized:d,max:h=1/0,maxRows:f=1/0,min:m=-1/0,required:g},onChange:v,path:b,readOnly:x,validate:y}=e,{i18n:w,t:C}=(0,s.d)(),{customComponents:{AfterInput:j,BeforeInput:S,Description:k,Error:N,Label:E}={},disabled:P,setValue:D,showError:O,value:T}=ly({path:b,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,max:h,min:m,required:g})},[y,m,h,g])}),R=(0,o.useCallback)(e=>{let t=parseFloat(e.target.value),n=t;Number.isNaN(t)&&(n=null),"function"==typeof v&&v(n),D(n)},[v,D]),[A,L]=(0,o.useState)([]),M=(0,o.useCallback)(e=>{if(!(x||P)){var t;let n;D(e?Array.isArray(e)?e.map(e=>{var t;return Number((null==(t=e.value)?void 0:t.value)||e.value)}):[Number((null==(t=e.value)?void 0:t.value)||e.value)]:[])}},[x,P,D]);(0,o.useEffect)(()=>{i&&Array.isArray(T)&&L(T.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[T,i]);let I=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsxs)("div",{className:[l_,"number",n,O&&"error",(x||P)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:I,children:[(0,u.jsx)(el,{CustomComponent:E,Fallback:(0,u.jsx)(aw,{label:c,localized:d,path:b,required:g})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:N,Fallback:(0,u.jsx)(tL,{path:b,showError:O})}),S,i?(0,u.jsx)(sD,{className:"field-".concat(b.replace(/\./g,"__")),disabled:x||P,filterOption:(e,t)=>{let n=Array.isArray(T)&&T.length>=f;return(0,_.E)(t)&&!n},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(T)&&T.length>=f?C("validation:limitReached",{max:f,value:T.length+1}):null,onChange:M,options:[],placeholder:C("general:enterAValue"),showError:O,value:A}):(0,u.jsx)("div",{children:(0,u.jsx)("input",{disabled:x||P,id:"field-".concat(b.replace(/\./g,"__")),max:h,min:m,name:b,onChange:R,onWheel:e=>{e.target.blur()},placeholder:(0,p.sC)(l,w),step:r,type:"number",value:"number"==typeof T?T:""})}),j,(0,u.jsx)(el,{CustomComponent:k,Fallback:(0,u.jsx)(tA,{description:a,path:b})})]})]})}),c9="point",c7=lj(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,step:r}={},label:i,localized:c,required:d},path:h,readOnly:f,validate:m}=e,{i18n:g,t:v}=(0,s.d)(),{customComponents:{AfterInput:b,BeforeInput:x,Description:y,Error:w,Label:C}={},disabled:j,setValue:S,showError:_,value:k=[null,null]}=ly({path:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),N=(0,o.useCallback)((e,t)=>{let n=parseFloat(e.target.value);Number.isNaN(n)&&(n=e.target.value);let a=[...k];a[t]=n,S(a)},[S,k]),E=e=>{let t=v("longitude"===e?"fields:longitude":"fields:latitude"),n=i?(0,p.sC)(i,g):"";return"".concat(n).concat(n?" - ":"").concat(t)},P=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsxs)("div",{className:[l_,c9,n,_&&"error",(f||j)&&"read-only"].filter(Boolean).join(" "),style:P,children:[(0,u.jsxs)("ul",{className:"".concat(c9,"__wrap"),children:[(0,u.jsxs)("li",{children:[(0,u.jsx)(el,{CustomComponent:C,Fallback:(0,u.jsx)(aw,{label:E("longitude"),localized:c,path:h,required:d})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[x,(0,u.jsx)("input",{disabled:f||j,id:"field-longitude-".concat(null==h?void 0:h.replace(/\./g,"__")),name:"".concat(h,".longitude"),onChange:e=>N(e,0),placeholder:(0,p.sC)(l,g),step:r,type:"number",value:k&&"number"==typeof k[0]?k[0]:""}),b]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)(el,{CustomComponent:C,Fallback:(0,u.jsx)(aw,{label:E("latitude"),localized:c,path:h,required:d})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[(0,u.jsx)(el,{CustomComponent:w,Fallback:(0,u.jsx)(tL,{path:h,showError:_})}),x,(0,u.jsx)("input",{disabled:f||j,id:"field-latitude-".concat(null==h?void 0:h.replace(/\./g,"__")),name:"".concat(h,".latitude"),onChange:e=>N(e,1),placeholder:(0,p.sC)(l,g),step:r,type:"number",value:k&&"number"==typeof k[1]?k[1]:""}),b]})]})]}),(0,u.jsx)(el,{CustomComponent:y,Fallback:(0,u.jsx)(tA,{description:a,path:h})})]})}),ue="radio-input",ut=e=>{let t,n=(0,d.c)(16),{isSelected:a,onChange:l,option:o,path:r,readOnly:i,uuid:c}=e,{i18n:h}=(0,s.d)(),f=tF(),m="field-".concat(r,"-").concat(o.value).concat(f>1?"-".concat(f):"").concat(c?"-".concat(c):""),g=a&&"".concat(ue,"--is-selected"),v;n[0]!==g?(v=[ue,g].filter(Boolean),n[0]=g,n[1]=v):v=n[1];let b=v.join(" "),x;if(n[2]!==l||n[3]!==o.value?(x=()=>"function"==typeof l?l(o.value):null,n[2]=l,n[3]=o.value,n[4]=x):x=n[4],n[5]!==h||n[6]!==m||n[7]!==a||n[8]!==o.label||n[9]!==r||n[10]!==i||n[11]!==b||n[12]!==x){let e=(0,u.jsx)("input",{checked:a,disabled:i,id:m,name:r,onChange:x,type:"radio"}),l=i&&"".concat(ue,"__styled-radio--disabled"),s;n[14]!==l?(s=["".concat(ue,"__styled-radio"),l].filter(Boolean),n[14]=l,n[15]=s):s=n[15],t=(0,u.jsx)("label",{htmlFor:m,children:(0,u.jsxs)("div",{className:b,children:[e,(0,u.jsx)("span",{className:s.join(" ")}),(0,u.jsx)("span",{className:"".concat(ue,"__label"),children:(0,p.sC)(o.label,h)})]})}),n[5]=h,n[6]=m,n[7]=a,n[8]=o.label,n[9]=r,n[10]=i,n[11]=b,n[12]=x,n[13]=t}else t=n[13];return t},un="radio-group",ua=lj(e=>{let{disableModifyingForm:t,field:n,field:{admin:{className:a,description:l,layout:r="horizontal"}={},label:i,localized:s,options:c=[],required:d}={},onChange:p,path:h,readOnly:f,validate:m,value:g}=e,{uuid:v}=eC(),{customComponents:{AfterInput:b,BeforeInput:y,Description:w,Error:C,Label:j}={},disabled:S,setValue:_,showError:k,value:N}=ly({path:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,options:c,required:d})},[m,c,d])}),E=N||g,P=(0,o.useMemo)(()=>lS(n),[n]);return(0,u.jsxs)("div",{className:[l_,un,a,"".concat(un,"--layout-").concat(r),k&&"error",(f||S)&&"".concat(un,"--read-only")].filter(Boolean).join(" "),style:P,children:[(0,u.jsx)(el,{CustomComponent:C,Fallback:(0,u.jsx)(tL,{path:h,showError:k})}),(0,u.jsx)(el,{CustomComponent:j,Fallback:(0,u.jsx)(aw,{label:i,localized:s,path:h,required:d})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[y,(0,u.jsx)("ul",{className:"".concat(un,"--group"),id:"field-".concat(h.replace(/\./g,"__")),children:c.map(e=>{let n="",a=String(n=(0,x.vs)(e)?e.value:e)===String(E),l="field-".concat(h,"-").concat(n).concat(v?"-".concat(v):"");return(0,u.jsx)("li",{children:(0,u.jsx)(ut,{id:l,isSelected:a,onChange:()=>{"function"==typeof p&&p(n),f||S||_(n,!!t)},option:(0,x.vs)(e)?e:{label:e,value:e},path:h,readOnly:f||S,uuid:v})},"".concat(h," - ").concat(n))})}),b,(0,u.jsx)(el,{CustomComponent:w,Fallback:(0,u.jsx)(tA,{description:l,path:h})})]})]})}),ul="relationship-add-new",uo=e=>{let t,n,a,l,r,i,c=(0,d.c)(46),{Button:h,hasMany:f,path:m,relationTo:g,setValue:v,unstyled:b,value:x}=e,y=cn(g),{permissions:w}=as(),[C,j]=(0,o.useState)(!1),[S,_]=(0,o.useState)(),k=y.length>1,N;c[0]!==y||c[1]!==k?(N=()=>k?void 0:y[0],c[0]=y,c[1]=k,c[2]=N):N=c[2];let[E,P]=(0,o.useState)(N),[D,O]=(0,o.useState)(!1),{i18n:T,t:R}=(0,s.d)(),[A,L]=(0,o.useState)(!1),M=null==E?void 0:E.slug,I;c[3]!==M?(I={collectionSlug:M},c[3]=M,c[4]=I):I=c[4];let[F,B,z]=cj(I),{isDrawerOpen:V,toggleDrawer:U}=z,H;c[5]!==(null==E?void 0:E.slug)||c[6]!==f||c[7]!==g||c[8]!==v||c[9]!==x?(H=e=>{let{doc:t,operation:n}=e;if("create"===n){let e=Array.isArray(g)?{relationTo:null==E?void 0:E.slug,value:t.id}:t.id;(Array.isArray(g)&&Array.isArray(x)?x.some(e=>e&&"object"==typeof e&&e.value===t.id):x===t.id)||v(f?[...Array.isArray(x)?x:[],e]:e),_(void 0)}},c[5]=null==E?void 0:E.slug,c[6]=f,c[7]=g,c[8]=v,c[9]=x,c[10]=H):H=c[10];let q=H,W;c[11]===Symbol.for("react.memo_cache_sentinel")?(W=e=>{O(e)},c[11]=W):W=c[11];let Y=W,K,G;c[12]!==w||c[13]!==y?(K=()=>{var e,t;w&&(1===y.length?j(null==(e=w.collections[null==(t=y[0])?void 0:t.slug])?void 0:e.create):j(y.some(e=>{var t;return null==(t=w.collections[null==e?void 0:e.slug])?void 0:t.create})))},G=[w,y],c[12]=w,c[13]=y,c[14]=K,c[15]=G):(K=c[14],G=c[15]),(0,o.useEffect)(K,G),c[16]!==y||c[17]!==k||c[18]!==S?(n=()=>{k&&S&&P(y.find(e=>(null==e?void 0:e.slug)===S))},t=[S,k,y],c[16]=y,c[17]=k,c[18]=S,c[19]=t,c[20]=n):(t=c[19],n=c[20]),(0,o.useEffect)(n,t),c[21]!==E||c[22]!==k||c[23]!==U?(a=()=>{k&&E&&(U(),_(void 0))},l=[U,k,E],c[21]=E,c[22]=k,c[23]=U,c[24]=a,c[25]=l):(a=c[24],l=c[25]),(0,o.useEffect)(a,l),c[26]!==V||c[27]!==k?(r=()=>{k&&!V&&P(void 0)},i=[V,k],c[26]=V,c[27]=k,c[28]=r,c[29]=i):(r=c[28],i=c[29]),(0,o.useEffect)(r,i);let X=y[0],Q=X.labels.singular,$;if(c[30]!==h||c[31]!==F||c[32]!==B||c[33]!==E||c[34]!==T||c[35]!==q||c[36]!==m||c[37]!==w||c[38]!==D||c[39]!==y||c[40]!==C||c[41]!==A||c[42]!==R||c[43]!==X.labels.singular||c[44]!==b){$=Symbol.for("react.early_return_sentinel");e:{let e=R("fields:addNewLabel",{label:(0,p.sC)(Q,T)});if(C){var Z;$=(0,u.jsxs)("div",{className:ul,id:"".concat(m,"-add-new"),children:[1===y.length&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(B,{className:["".concat(ul,"__add-button"),b&&"".concat(ul,"__add-button--unstyled")].filter(Boolean).join(" "),onClick:()=>L(!1),onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:h||(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tl,{className:"".concat(ul,"__tooltip"),show:A,children:e}),(0,u.jsx)(eG,{})]})}),(0,u.jsx)(F,{onSave:q})]}),y.length>1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ta,{button:h||(0,u.jsx)(ti,{buttonStyle:"none",className:"".concat(ul,"__add-button"),tooltip:D?void 0:R("fields:addNew"),children:(0,u.jsx)(eG,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:Y,render:e=>{let{close:t}=e;return(0,u.jsx)(e0,{children:y.map(e=>{var n;return w.collections[null==e?void 0:e.slug].create?(0,u.jsx)(e1,{className:"".concat(ul,"__relation-button--").concat(null==e?void 0:e.slug),onClick:()=>{t(),_(null==e?void 0:e.slug)},children:(0,p.sC)(null==e||null==(n=e.labels)?void 0:n.singular,T)},null==e?void 0:e.slug):null})})},size:"medium"}),E&&(null==(Z=w.collections[null==E?void 0:E.slug])?void 0:Z.create)&&(0,u.jsx)(F,{onSave:q})]})]});break e}}c[30]=h,c[31]=F,c[32]=B,c[33]=E,c[34]=T,c[35]=q,c[36]=m,c[37]=w,c[38]=D,c[39]=y,c[40]=C,c[41]=A,c[42]=R,c[43]=X.labels.singular,c[44]=b,c[45]=$}else $=c[45];return $!==Symbol.for("react.early_return_sentinel")?$:null},ur=(e,t)=>{let n=(0,d.c)(3),a=(0,o.useRef)(void 0),l;return n[0]!==e||n[1]!==t?(l=function(){for(var n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];clearTimeout(a.current),a.current=setTimeout(()=>{clearTimeout(a.current),e(...l)},t)},n[0]=e,n[1]=t,n[2]=l):l=n[2],l},ui=e=>{let{hasMany:t,relationTo:n,value:a}=e,l=Array.isArray(n),o;if(o=Array.isArray(n)?n.reduce((e,t)=>({...e,[t]:[]}),{}):{[n]:[]},null===a)return o;let r=(e,t)=>{("string"==typeof t||"number"==typeof t)&&"string"==typeof e&&(o[e]?o[e].push(t):o[e]=[t])};return t&&Array.isArray(a)?a.forEach(e=>{l&&"object"==typeof e&&"relationTo"in e&&"value"in e&&r(e.relationTo,e.value),l||"string"!=typeof n||r(n,e)}):l&&Array.isArray(n)?"object"==typeof a&&"relationTo"in a&&"value"in a&&r(a.relationTo,a.value):r(n,a),o},us=e=>{let{allowEdit:t,options:n,value:a}=e;if(a||"number"==typeof a){let e;return Array.isArray(a)?a.map(e=>{let a;return n.forEach(t=>{a||(a=t.options.find(t=>"object"==typeof e?t.value===e.value&&t.relationTo===e.relationTo:e===t.value))}),a?{allowEdit:t,...a}:void 0}):(n.forEach(t=>{e||(e=t.options.find(e=>"object"==typeof a?e.value===a.value&&e.relationTo===a.relationTo:a===e.value))}),e?{allowEdit:t,...e}:void 0)}},uc=e=>e.reduce((e,t)=>t.options?[...e,...uc(t.options)]:[...e,{id:t.value,relationTo:t.relationTo}],[]),uu=e=>e.sort((e,t)=>{var n,a;return"function"==typeof(null==e||null==(n=e.label)?void 0:n.localeCompare)&&"function"==typeof(null==t||null==(a=t.label)?void 0:a.localeCompare)?e.label.localeCompare(t.label):0}),ud=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,config:a,docs:l,i18n:o,ids:r=[],sort:i}=t,s=n.slug,c=uc(e),u=[...e],d=u.find(e=>e.label===n.labels.plural),h=l.reduce((e,t)=>0===c.filter(e=>e.id===t.id&&e.relationTo===s).length?(c.push({id:t.id,relationTo:s}),[...e,{label:lr({collectionConfig:n,data:t,dateFormat:a.admin.dateFormat,fallback:"".concat(o.t("general:untitled")," - ID: ").concat(t.id),i18n:o}),relationTo:s,value:t.id}]):e,[]);if(r.forEach(e=>{0===c.filter(t=>t.id===e&&t.relationTo===s).length&&(c.push({id:e,relationTo:s}),h.push({allowEdit:!1,label:"".concat(o.t("general:untitled")," - ID: ").concat(e),relationTo:s,value:e}))}),d){let e=[...d.options,...h];d.options=i?uu(e):e}else u.push({label:(0,p.sC)(n.labels.plural,o),options:i?uu(h):h});return u}case"CLEAR":{let n=t.exemptValues?Array.isArray(t.exemptValues)?t.exemptValues:[t.exemptValues]:[];return e.filter(e=>{let t=e.options.filter(e=>!!n&&n.some(t=>t&&e.value===("object"==typeof t?t.value:t)));return e.options=t,t.length>0})}case"REMOVE":{let{id:n,collection:a}=t,l=[...e],o=l.findIndex(e=>e.label===a.labels.plural);return -1===o||(l[o]={...l[o],options:l[o].options.filter(e=>e.value!==n)}),l}case"UPDATE":{var n,a;let{collection:l,config:o,doc:r,i18n:i}=t,s=l.slug,c=[...e],u=lr({collectionConfig:l,data:r,dateFormat:o.admin.dateFormat,fallback:"".concat(i.t("general:untitled")," - ID: ").concat(r.id),i18n:i}),d=null==(a=c.find(e=>e.label===l.labels.plural))||null==(n=a.options)?void 0:n.find(e=>e.value===r.id);return d&&(d.label=u,d.relationTo=s),c}default:return e}},up="relationship--multi-value-label",uh=e=>{var t,n;let a,l=(0,d.c)(26),{data:r,selectProps:i}=e,{allowEdit:c,label:p,relationTo:h,value:f}=r,m;l[0]!==i?(m=void 0===i?{}:i,l[0]=i,l[1]=m):m=l[1];let{customProps:g}=m,v;l[2]!==g?(v=void 0===g?{}:g,l[2]=g,l[3]=v):v=l[3];let{draggableProps:b,onDocumentDrawerOpen:x}=v,{permissions:y}=as(),[w,C]=(0,o.useState)(!1),{t:j}=(0,s.d)(),S=!!(null==y||null==(n=y.collections)||null==(t=n[h])?void 0:t.read),_;if(l[4]!==b?(_=b||{},l[4]=b,l[5]=_):_=l[5],l[6]!==c||l[7]!==S||l[8]!==p||l[9]!==x||l[10]!==e||l[11]!==h||l[12]!==w||l[13]!==j||l[14]!==_||l[15]!==f){let t;l[17]!==c||l[18]!==S||l[19]!==p||l[20]!==x||l[21]!==h||l[22]!==w||l[23]!==j||l[24]!==f?(t=h&&S&&!1!==c&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":"Edit ".concat(p),className:"".concat(up,"__drawer-toggler"),onClick:()=>{C(!1),x({id:f,collectionSlug:h,hasReadPermission:S})},onKeyDown:uf,onMouseDown:um,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onTouchEnd:ug,type:"button",children:[(0,u.jsx)(tl,{className:"".concat(up,"__tooltip"),show:w,children:j("general:editLabel",{label:""})}),(0,u.jsx)(eY,{className:"".concat(up,"__icon")})]})}),l[17]=c,l[18]=S,l[19]=p,l[20]=x,l[21]=h,l[22]=w,l[23]=j,l[24]=f,l[25]=t):t=l[25],a=(0,u.jsxs)("div",{className:up,children:[(0,u.jsx)("div",{className:"".concat(up,"__content"),children:(0,u.jsx)(im.MultiValueLabel,{...e,innerProps:{className:"".concat(up,"__text"),..._}})}),t]}),l[6]=c,l[7]=S,l[8]=p,l[9]=x,l[10]=e,l[11]=h,l[12]=w,l[13]=j,l[14]=_,l[15]=f,l[16]=a}else a=l[16];return a};function uf(e){"Enter"===e.key&&e.stopPropagation()}function um(e){return e.stopPropagation()}function ug(e){return e.stopPropagation()}var uv="relationship--single-value",ub=e=>{var t,n;let a=(0,d.c)(24),{children:l,data:r,selectProps:i}=e,{allowEdit:c,label:p,relationTo:h,value:f}=r,m;a[0]!==i?(m=void 0===i?{}:i,a[0]=i,a[1]=m):m=a[1];let{customProps:g}=m,v;a[2]!==g?(v=void 0===g?{}:g,a[2]=g,a[3]=v):v=a[3];let{onDocumentDrawerOpen:b}=v,[x,y]=(0,o.useState)(!1),{t:w}=(0,s.d)(),{permissions:C}=as(),j=!!(null==C||null==(n=C.collections)||null==(t=n[h])?void 0:t.read),S;if(a[4]!==c||a[5]!==l||a[6]!==j||a[7]!==p||a[8]!==b||a[9]!==e||a[10]!==h||a[11]!==x||a[12]!==w||a[13]!==f){let t;a[15]!==c||a[16]!==j||a[17]!==p||a[18]!==b||a[19]!==h||a[20]!==x||a[21]!==w||a[22]!==f?(t=h&&j&&!1!==c&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":w("general:editLabel",{label:p}),className:"".concat(uv,"__drawer-toggler"),onClick:()=>{y(!1),b({id:f,collectionSlug:h,hasReadPermission:j})},onKeyDown:ux,onMouseDown:uy,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onTouchEnd:uw,type:"button",children:[(0,u.jsx)(tl,{className:"".concat(uv,"__tooltip"),show:x,children:w("general:edit")}),(0,u.jsx)(eY,{})]})}),a[15]=c,a[16]=j,a[17]=p,a[18]=b,a[19]=h,a[20]=x,a[21]=w,a[22]=f,a[23]=t):t=a[23],S=(0,u.jsx)(im.SingleValue,{...e,className:uv,children:(0,u.jsx)("div",{className:"".concat(uv,"__label"),children:(0,u.jsxs)("div",{className:"".concat(uv,"__label-text"),children:[(0,u.jsx)("div",{className:"".concat(uv,"__text"),children:l}),t]})})}),a[4]=c,a[5]=l,a[6]=j,a[7]=p,a[8]=b,a[9]=e,a[10]=h,a[11]=x,a[12]=w,a[13]=f,a[14]=S}else S=a[14];return S};function ux(e){"Enter"===e.key&&e.stopPropagation()}function uy(e){return e.stopPropagation()}function uw(e){return e.stopPropagation()}var uC="relationship",uj=lj(e=>{let{field:t,field:{admin:{allowCreate:n=!0,allowEdit:a=!0,className:l,description:r,isSortable:c=!0,sortOptions:d}={},hasMany:p,label:h,localized:f,relationTo:m,required:g},path:x,readOnly:y,validate:w}=e,{config:C,getEntityConfig:j}=(0,i.b)(),{routes:{api:S},serverURL:_}=C,{i18n:k,t:N}=(0,s.d)(),{permissions:P}=as(),{code:D}=ab(),O=Array.isArray(m),[T,R]=(0,o.useState)({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[A,L]=(0,o.useState)(-1),[M,I]=(0,o.useState)({}),[F,B]=(0,o.useState)(""),[z,V]=(0,o.useState)(""),[U,H]=(0,o.useState)(!1),[q,W]=(0,o.useState)(!1),[Y,K]=(0,o.useState)(!1),G=(0,o.useRef)(!1),{customComponents:{AfterInput:X,BeforeInput:Q,Description:$,Error:Z,Label:J}={},disabled:ee,filterOptions:et,initialValue:en,setValue:ea,showError:eo,value:er}=ly({path:x,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof w)return w(e,{...t,required:g})},[w,g])}),[ei,es]=(0,o.useReducer)(ud,[]),ec=(0,o.useRef)(er);ec.current=er;let[eu,,{isDrawerOpen:ed,openDrawer:ep}]=cj({id:T.id,collectionSlug:T.collectionSlug}),eh=(0,o.useRef)(!1),ef=(0,o.useCallback)(async e=>{let{filterOptions:t,lastFullyLoadedRelation:n,lastLoadedPage:a,onSuccess:l,search:o,sort:r,value:i}=e;if(!P)return;let s="u">typeof n?n:-1,c=Array.isArray(m)?m:[m],u=-1===s?c:c.slice(s+1),h=0,f=ui({hasMany:p,relationTo:m,value:i});F||(await u.reduce(async(e,n)=>{let l=null==t?void 0:t[n],i;if(i=z!==o?1:a[n]+1,await e,!1===l)return L(c.indexOf(n)),Promise.resolve();if(h<10){var s;let e=j({collectionSlug:n}),t=(null==e||null==(s=e.admin)?void 0:s.useAsTitle)||"id",a=(null==e?void 0:e.defaultSort)||"id";"string"==typeof d?a=d:(null==d?void 0:d[n])&&(a=d[n]);let u={depth:0,draft:!0,limit:10,locale:D,page:i,sort:a,where:{and:[{id:{not_in:f[n]}}]}};o&&u.where.and.push({[t]:{like:o}}),l&&"boolean"!=typeof l&&u.where.and.push(l);let p=await fetch("".concat(_).concat(S,"/").concat(n),{body:v.A(u),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"});if(p.ok){let t=await p.json();I(e=>({...e,[n]:i})),t.nextPage||L(c.indexOf(n)),t.docs.length>0&&(h+=t.docs.length,es({type:"ADD",collection:e,config:C,docs:t.docs,i18n:k,sort:r}))}else 403===p.status?(L(c.indexOf(n)),es({type:"ADD",collection:e,config:C,docs:[],i18n:k,ids:f[n],sort:r})):B(N("error:unspecific"))}},Promise.resolve()),"function"==typeof l&&l())},[P,m,p,F,z,j,D,_,d,S,k,C,N]),em=ur((e,t)=>{ef({filterOptions:et,lastLoadedPage:{},search:e,sort:!0,value:t}),V(e)},300),eg=(0,o.useCallback)((e,t)=>{z!==e&&(I({}),em(e,t,""!==e))},[z,em]),ev=sX(e=>{Object.entries(ui({hasMany:p,relationTo:m,value:e})).reduce(async(e,t)=>{let[n,a]=t;await e;let l=a.filter(e=>!ei.find(t=>{var a;return null==t||null==(a=t.options)?void 0:a.find(t=>t.value===e&&t.relationTo===n)}));if(l.length>0){let e={depth:0,draft:!0,limit:l.length,locale:D,where:{id:{in:l}}};if(!F){let t=await fetch("".concat(_).concat(S,"/").concat(n),{body:v.A(e),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"}),a=j({collectionSlug:n}),o=[];t.ok&&(o=(await t.json()).docs),es({type:"ADD",collection:a,config:C,docs:o,i18n:k,ids:l,sort:!0})}}},Promise.resolve())}),eb=(0,o.useRef)(er),ex=(0,o.useRef)(!0);(0,o.useEffect)(()=>{(ex.current||!(0,b.j)(er,eb.current))&&ev(er),ex.current=!1,eb.current=er},[er]),(0,o.useEffect)(()=>{W(!(Array.isArray(m)?m:[m]).reduce((e,t)=>{var n,a;return"id"===((null==(a=j({collectionSlug:t}))||null==(n=a.admin)?void 0:n.useAsTitle)||"id")&&e},!0))},[m,j]);let ey=sX(async e=>await ef(e));(0,o.useEffect)(()=>{G.current&&Y&&(H(!0),ey({filterOptions:et,lastLoadedPage:{},onSuccess:()=>{G.current=!0,H(!1)},value:ec.current})),es({type:"CLEAR",exemptValues:ec.current}),L(-1),I({})},[m,et,D,x,Y]);let ew=(0,o.useCallback)(e=>{es({type:"UPDATE",collection:e.collectionConfig,config:C,doc:e.doc,i18n:k});let t=ec.current,n=e.doc.id;if(p){let a=t.some(e=>"string"==typeof e?e===n:e.value===n);ea(t.map(t=>t.value===n?{relationTo:e.collectionConfig.slug,value:n}:t),a)}else{let a=t===n;ea({relationTo:e.collectionConfig.slug,value:n},a)}},[k,C,p,ea]),eC=(0,o.useCallback)(e=>{es({type:"ADD",collection:e.collectionConfig,config:C,docs:[e.doc],i18n:k,sort:!0}),ea(p?ec.current?ec.current.concat({relationTo:e.collectionConfig.slug,value:e.doc.id}):null:{relationTo:e.collectionConfig.slug,value:e.doc.id})},[k,C,p,ea]),ej=(0,o.useCallback)(e=>{es({id:e.id,type:"REMOVE",collection:e.collectionConfig,config:C,i18n:k}),ea(p&&ec.current?ec.current.filter(t=>t.value!==e.id):null)},[k,C,p,ea]),eS=(0,o.useCallback)((e,t)=>{if(!t)return!0;let n=(0,E.A)(t||""),a=String(e.label);for(;a.length>250;){let e=a.indexOf(" ",t.length);if(n.test(a.slice(0,-1===e?t.length:e+1)))return!0;a=a.slice(-1===e?t.length:e+1)}return n.test(a.slice(-250))},[]),e_=(0,o.useCallback)(e=>{let{id:t,collectionSlug:n,hasReadPermission:a}=e;eh.current=!0,R({id:t,collectionSlug:n,hasReadPermission:a})},[]);(0,o.useEffect)(()=>{eh.current&&(ep(),eh.current=!1)},[ep,T]);let ek=us({allowEdit:a,options:ei,value:er});Array.isArray(ek)||(null==ek?void 0:ek.value)!=="null"||(ek.value=null);let eN=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsxs)("div",{className:[l_,uC,l,eo&&"error",F&&"error-loading",(y||ee)&&"".concat(uC,"--read-only"),!(y||ee)&&n&&"".concat(uC,"--allow-create")].filter(Boolean).join(" "),id:"field-".concat(x.replace(/\./g,"__")),style:eN,children:[(0,u.jsx)(el,{CustomComponent:J,Fallback:(0,u.jsx)(aw,{label:h,localized:f,path:x,required:g})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:Z,Fallback:(0,u.jsx)(tL,{path:x,showError:eo})}),Q,!F&&(0,u.jsxs)("div",{className:"".concat(uC,"__wrap"),children:[(0,u.jsx)(sD,{backspaceRemovesValue:!ed,components:{MultiValueLabel:uh,SingleValue:ub},customProps:{disableKeyDown:ed,disableMouseDown:ed,onDocumentDrawerOpen:e_,onSave:ew},disabled:y||ee||ed,filterOption:q?eS:void 0,getOptionValue:e=>{if(e)return p&&Array.isArray(m)?"".concat(e.relationTo,"_").concat(e.value):e.value},isLoading:U,isMulti:p,isSortable:c,onChange:y||ee?void 0:e=>{null===e?ea(p?[]:null):p&&Array.isArray(e)?ea(e?e.map(e=>O?{relationTo:e.relationTo,value:e.value}:e.value):null):O&&!Array.isArray(e)?ea({relationTo:e.relationTo,value:e.value}):Array.isArray(e)||ea(e.value)},onInputChange:e=>eg(e,er),onMenuClose:()=>{K(!1)},onMenuOpen:()=>{K(!0),G.current||(H(!0),ef({filterOptions:et,lastLoadedPage:{},onSuccess:()=>{G.current=!0,H(!1)},value:en}))},onMenuScrollToBottom:()=>{ef({filterOptions:et,lastFullyLoadedRelation:A,lastLoadedPage:M,search:z,sort:!1,value:en})},options:ei,showError:eo,value:null!=ek?ek:null}),!(y||ee)&&n&&(0,u.jsx)(uo,{hasMany:p,path:x,relationTo:m,setValue:ea,value:er})]}),F&&(0,u.jsx)("div",{className:"".concat(uC,"__error-loading"),children:F}),X,(0,u.jsx)(el,{CustomComponent:$,Fallback:(0,u.jsx)(tA,{description:r,path:x})})]}),T.collectionSlug&&T.hasReadPermission&&(0,u.jsx)(eu,{onDelete:ej,onDuplicate:eC,onSave:ew})]})}),uS=()=>null,u_=lj(e=>{let{field:{admin:{className:t,style:n}={},fields:a},forceRender:l=!1,indexPath:o="",parentPath:r="",parentSchemaPath:i="",permissions:s,readOnly:c}=e;return(0,u.jsx)(sI,{children:(0,u.jsx)("div",{className:[l_,"row",t].filter(Boolean).join(" "),style:n||void 0,children:(0,u.jsx)(pB,{className:"".concat("row","__fields"),fields:a,forceRender:l,margins:!1,parentIndexPath:o,parentPath:r,parentSchemaPath:i,permissions:s,readOnly:c})})})}),uk=e=>{let t=(0,d.c)(39),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,hasMany:c,isClearable:h,isSortable:f,label:m,Label:g,localized:v,onChange:b,onInputChange:x,options:y,path:w,readOnly:C,required:j,showError:S,style:_,value:k}=e,N=void 0!==c&&c,E=void 0===h||h,P=void 0===f||f,{i18n:D}=(0,s.d)(),O;if(t[0]!==n||t[1]!==a||t[2]!==o||t[3]!==i||t[4]!==g||t[5]!==l||t[6]!==r||t[7]!==N||t[8]!==D||t[9]!==E||t[10]!==P||t[11]!==m||t[12]!==v||t[13]!==b||t[14]!==x||t[15]!==y||t[16]!==w||t[17]!==C||t[18]!==j||t[19]!==S||t[20]!==_||t[21]!==k){let e,s;if(N&&Array.isArray(k)){let n;t[23]!==D||t[24]!==y?(n=e=>{var t;let n=y.find(t=>t.value===e);return{label:n?(0,p.sC)(n.label,D):e,value:null!=(t=null==n?void 0:n.value)?t:e}},t[23]=D,t[24]=y,t[25]=n):n=t[25],e=k.map(n)}else if(k){var T;let n,a;if(t[26]!==D||t[27]!==y||t[28]!==k){let e;t[31]!==k?(e=e=>e.value===k,t[31]=k,t[32]=e):e=t[32],a=(n=y.find(e))?(0,p.sC)(n.label,D):k,t[26]=D,t[27]=y,t[28]=k,t[29]=n,t[30]=a}else n=t[29],a=t[30];e={label:a,value:null!=(T=null==n?void 0:n.value)?T:k}}else e=null;let c=S&&"error",d=C&&"read-only",h;t[33]!==l||t[34]!==c||t[35]!==d?(h=[l_,"select",l,c,d].filter(Boolean),t[33]=l,t[34]=c,t[35]=d,t[36]=h):h=t[36],t[37]!==D?(s=e=>({...e,label:(0,p.sC)(e.label,D)}),t[37]=D,t[38]=s):s=t[38],O=(0,u.jsxs)("div",{className:h.join(" "),id:"field-".concat(w.replace(/\./g,"__")),style:_,children:[(0,u.jsx)(el,{CustomComponent:g,Fallback:(0,u.jsx)(aw,{label:m,localized:v,path:w,required:j})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:i,Fallback:(0,u.jsx)(tL,{path:w,showError:S})}),a,(0,u.jsx)(sD,{disabled:C,isClearable:E,isMulti:N,isSortable:P,onChange:b,onInputChange:x,options:y.map(s),showError:S,value:e}),n]}),(0,u.jsx)(el,{CustomComponent:o,Fallback:(0,u.jsx)(tA,{description:r,path:w})})]}),t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=g,t[5]=l,t[6]=r,t[7]=N,t[8]=D,t[9]=E,t[10]=P,t[11]=m,t[12]=v,t[13]=b,t[14]=x,t[15]=y,t[16]=w,t[17]=C,t[18]=j,t[19]=S,t[20]=_,t[21]=k,t[22]=O}else O=t[22];return O},uN=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),uE=lj(e=>{let{field:t,field:{name:n,admin:{className:a,description:l,isClearable:r=!0,isSortable:i=!0}={},hasMany:s=!1,label:c,localized:d,options:p=[],required:h},onChange:f,path:m,readOnly:g,validate:v}=e,b=o.useMemo(()=>uN(p),[p]),{customComponents:{AfterInput:x,BeforeInput:y,Description:w,Error:C,Label:j}={},disabled:S,setValue:_,showError:k,value:N}=ly({path:m,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof v)return v(e,{...t,hasMany:s,options:b,required:h})},[v,h,s,b])}),E=(0,o.useCallback)(e=>{if(!g||S){let t=null;e&&s?t=Array.isArray(e)?e.map(e=>e.value):[]:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof f&&f(t),_(t)}},[g,S,s,_,f]),P=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsx)(uk,{AfterInput:x,BeforeInput:y,className:a,Description:w,description:l,Error:C,hasMany:s,isClearable:r,isSortable:i,Label:j,label:c,localized:d,name:n,onChange:E,options:b,path:m,readOnly:g||S,required:h,showError:k,style:P,value:N})}),uP=(0,c.e)(J(),1);function uD(e){let t=(0,d.c)(5),{errorMessage:n}=e,a;t[0]!==n?(a=()=>(function(e){let[t,n]=e.split(":");if(!n)return{message:t};let a=n.split(",").map(e=>e.replaceAll(" > ","  ").trim());return 1===a.length?{errors:a,message:"".concat(t,":")}:{errors:function(e){let t=[];for(let n of e)if(n){let e=n.split("  "),a=!1;for(let l=0;l<t.length;l++)if(t[l].startsWith(e[0])){t.splice(l+1,0,n),a=!0;break}a||t.push(n)}return t}(a),message:"".concat(t," (").concat(a.length,"):")}})(n),t[0]=n,t[1]=a):a=t[1];let[l]=o.useState(a),{errors:r,message:i}=l,s;return t[2]!==r||t[3]!==i?(s=(0,u.jsxs)("div",{children:[i,Array.isArray(r)&&r.length>0?(0,u.jsx)("ul",{"data-testid":"field-errors",children:r.map(uO)}):null]}),t[2]=r,t[3]=i,t[4]=s):s=t[4],s}function uO(e,t){return(0,u.jsx)("li",{children:e},t)}function uT(e,t,n){let a,l,r,i=(0,d.c)(11),s;i[0]!==e?(s=()=>e,i[0]=e,i[1]=s):s=i[1];let[c,u]=(0,o.useState)(s),p;i[2]!==n||i[3]!==e?(p=()=>{let t=setTimeout(()=>{u(()=>e)},n);return()=>{clearTimeout(t)}},i[2]=n,i[3]=e,i[4]=p):p=i[4],i[5]!==n||i[6]!==t?(a=[...t,n],i[5]=n,i[6]=t,i[7]=a):a=i[7],(0,o.useEffect)(p,a),i[8]!==c?(l=()=>{c()},r=[c],i[8]=c,i[9]=l,i[10]=r):(l=i[9],r=i[10]),(0,o.useEffect)(l,r)}function uR(){let e=(0,o.useRef)([]),t=(0,o.useRef)(!1);return{queueTask:(0,o.useCallback)((n,a)=>{e.current.push(n),async function(){if(!t.current&&("function"!=typeof(null==a?void 0:a.beforeProcess)||!1!==a.beforeProcess()))for(;e.current.length>0;){let n=e.current.pop();e.current=[],t.current=!0;try{await n()}catch(e){console.error("Error in queued function:",e)}finally{t.current=!1,"function"==typeof(null==a?void 0:a.afterProcess)&&a.afterProcess()}}}()},[])}}var uA=o.createContext(null),uL=e=>{let t=(0,d.c)(6),{children:n}=e,[a,l]=(0,o.useState)(uI),r;t[0]!==a?(r=e=>{let{collectionSlug:t}=e;return a.get(t)},t[0]=a,t[1]=r):r=t[1];let i=r,s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{let{collectionSlug:t,handler:n}=e;l(e=>{let a=new Map(e);return a.set(t,n),a})},t[2]=s):s=t[2];let c=s,p;return t[3]!==n||t[4]!==i?(p=(0,u.jsx)(uA,{value:{getUploadHandler:i,setUploadHandler:c},children:n}),t[3]=n,t[4]=i,t[5]=p):p=t[5],p},uM=()=>{let e=o.use(uA);if(null===e)throw Error("useUploadHandlers must be used within UploadHandlersProvider");return e};function uI(){return new Map}var uF={413:"Your request was too large to submit successfully."},uB=(0,c.e)(Z(),1),uz=(e,t)=>{let n={},a=Object.entries(t).reduce((t,a)=>{let[l,o]=a;if(0===l.indexOf("".concat(e,"."))){let[n]=l.replace("".concat(e,"."),"").split(".");t[n]||(t[n]={}),t[n][l.replace("".concat(e,".").concat(String(n),"."),"")]={...o}}else n[l]=o;return t},[]);return{remainingFields:n,rows:a}},uV=(e,t)=>t.reduce((t,n,a)=>({...t,...Object.entries(n).reduce((t,n)=>{let[l,o]=n;return{...t,["".concat(e,".").concat(a,".").concat(l)]:{...o}}},{})}),{}),uU=uB.default.default||uB.default;function uH(e,t){var n,a,l,o,r,i,s;switch(t.type){case"ADD_ROW":{let{blockType:r,path:i,rowIndex:s,subFieldState:c={}}=t,u="number"==typeof s?s:(null==(a=e[i])||null==(n=a.rows)?void 0:n.length)||0,d=[...(null==(l=e[i])?void 0:l.rows)||[]],p={id:(null==c||null==(o=c.id)?void 0:o.value)||new uU().toHexString(),blockType:r||void 0,collapsed:!1,isLoading:!0};d.splice(u,0,p),r&&(c.blockType={initialValue:r,valid:!0,value:r});let{remainingFields:h,rows:f}=uz(i,e);return f.splice(u,0,c),{...h,...uV(i,f),["".concat(i,".").concat(u,".id")]:{initialValue:p.id,passesCondition:!0,valid:!0,value:p.id},[i]:{...e[i],disableFormData:!0,rows:d,value:f.length}}}case"ADD_SERVER_ERRORS":{let n={...e},a=[];return t.errors.forEach(e=>{let{message:t,path:l}=e;n[l]={...n[l]||{initialValue:null,value:null},errorMessage:t,valid:!1};let o=l.split(".");o.length>1&&a.push({fieldErrorPath:l,parentPath:o.slice(0,o.length-1).join(".")})}),n=Object.entries(n).reduce((e,t)=>{let[n,l]=t,o=a.reduce((e,t)=>{let{fieldErrorPath:a,parentPath:l}=t;return l.startsWith(n)&&e.push(a),e},[]),r=!1;if(o.length>0){let t=Array.isArray(l.errorPaths)?l.errorPaths:[];o.forEach(e=>{t.includes(e)||(t.push(e),r=!0)}),r&&(e[n]={...l,errorPaths:t})}return r||(e[n]=l),e},{})}case"DUPLICATE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:l,rows:o}=uz(n,e),r=[...e[n].rows||[]],i=(0,O.KS)(r[a]);i.id&&(i.id=new uU().toHexString());let s=(0,O.KS)(o[a]);for(let e of(s.id&&(s.id.value=new uU().toHexString(),s.id.initialValue=new uU().toHexString()),Object.keys(s).filter(e=>e.endsWith(".id")))){let t=s[e];t&&"string"==typeof t.value&&uU.isValid(t.value)&&(s[e].value=new uU().toHexString(),s[e].initialValue=new uU().toHexString())}return Object.keys(s).length>0&&(o.splice(a+1,0,s),r.splice(a+1,0,i)),{...l,...uV(n,o),[n]:{...e[n],disableFormData:!0,rows:r,value:o.length}}}case"MOVE_ROW":{let{moveFromIndex:n,moveToIndex:a,path:l}=t,{remainingFields:o,rows:i}=uz(l,e),s=i[n];i.splice(n,1),i.splice(a,0,s);let c=[...(null==(r=e[l])?void 0:r.rows)||[]],u={...c[n]};return c.splice(n,1),c.splice(a,0,u),{...o,...uV(l,i),[l]:{...e[l],rows:c}}}case"REMOVE":{let n={...e};return n[t.path]&&delete n[t.path],n}case"REMOVE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:l,rows:o}=uz(n,e),r=[...(null==(i=e[n])?void 0:i.rows)||[]];return o.splice(a,1),r.splice(a,1),{...l,[n]:{...e[n],disableFormData:o.length>0,rows:r,value:o.length},...uV(n,o)}}case"REPLACE_ROW":{let{blockType:n,path:a,rowIndex:l,subFieldState:o={}}=t,{remainingFields:r,rows:i}=uz(a,e),c=Math.max(0,Math.min(l,(null==i?void 0:i.length)-1||0)),u=[...(null==(s=e[a])?void 0:s.rows)||[]];return u[c]={id:new uU().toHexString(),blockType:n||void 0,collapsed:!1},n&&(o.blockType={initialValue:n,valid:!0,value:n}),i[c]=o,{...r,...uV(a,i),[a]:{...e[a],disableFormData:!0,rows:u,value:i.length}}}case"REPLACE_STATE":if(!1!==t.optimize){let n={};for(let[a,l]of Object.entries(t.state)){let t=e[a];!1!==l.valid&&(l.valid=!0),!1!==l.passesCondition&&(l.passesCondition=!0),(0,b.j)(t,l)?t&&(n[a]=t):n[a]=l}return n}if(t.sanitize)for(let e of Object.values(t.state))!1!==e.valid&&(e.valid=!0),!1!==e.passesCondition&&(e.passesCondition=!0);return t.state;case"SET_ALL_ROWS_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"SET_ROW_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"UPDATE":{let n=Object.entries(t).reduce((e,t)=>{let[n,a]=t;return["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(n)?{...e,[n]:a}:e},(null==e?void 0:e[t.path])||{});return{...e,[t.path]:n}}case"UPDATE_MANY":{let n={...e};return Object.entries(t.formState).forEach(e=>{let[t,a]=e;n[t]=a}),n}default:return e}}var uq={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setBackgroundProcessing:()=>{},setDisabled:()=>{},setIsValid:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}},uW=(e,t)=>{if(!e)return{changed:!1,result:void 0};let n=[],a=[];return Array.isArray(t)&&(null==t?void 0:t.length)&&t.forEach(e=>a.push(e)),Array.isArray(e)&&(null==e?void 0:e.length)&&e.forEach(e=>n.push(e)),!function(e,t){if(e.length!==t.length)return!1;let n=e.slice().sort(),a=t.slice().sort();for(let e=0;e<n.length;e++)if(n[e]!==a[e])return!1;return!0}(n,a)?{changed:!0,result:a}:{changed:!1,result:e}},uY=e=>{let{acceptValues:t,existingState:n,incomingState:a}=e,l=!1,o={};if(n){let e=["passesCondition","valid","errorMessage","errorPaths","customComponents"];for(let[s,c]of(t&&(e.push("value"),e.push("initialValue")),Object.entries(n))){var r,i;if(!a[s])continue;let t=!1,n=uW(c.errorPaths,a[s].errorPaths);n.result&&(n.changed&&(l=n.changed),c.errorPaths=n.result),((null==(r=a[s])?void 0:r.filterOptions)||c.filterOptions)&&((0,b.j)(null==(i=a[s])?void 0:i.filterOptions,c.filterOptions)||(l=!0,t=!0,c.filterOptions=a[s].filterOptions)),Array.isArray(a[s].rows)&&a[s].rows.forEach(e=>{let t=c.rows.findIndex(t=>t.id===e.id);t>-1&&(c.rows[t]={...c.rows[t],...e})}),e.forEach(e=>{var n,o;if(!(0,b.j)(null==(n=a[s])?void 0:n[e],c[e])){if(l=!0,t=!0,null==c||null==(o=c.serverPropsToIgnore)?void 0:o.includes(e)){c.serverPropsToIgnore=c.serverPropsToIgnore.filter(t=>t!==e),c.serverPropsToIgnore.length||delete c.serverPropsToIgnore;return}e in a[s]?c[e]=a[s][e]:"customComponents"!==e&&delete c[e]}}),!1!==c.valid&&(c.valid=!0),!1!==c.passesCondition&&(c.passesCondition=!0),o[s]=t?{...c}:c}for(let[e,t]of Object.entries(a))n[e]||(l=!0,o[e]=t)}return{changed:l,newState:o}},uK=e=>{let{id:t,collectionSlug:n,docPermissions:a,getDocPreferences:l,globalSlug:r}=lf(),{action:c,beforeSubmit:d,children:p,className:h,disabled:m,disableSuccessStatus:g,disableValidationOnSubmit:v,el:x,handleResponse:y,initialState:w,isDocumentForm:C,isInitializing:j,onChange:S,onSubmit:_,onSuccess:k,redirect:N,submitted:E,uuid:P,waitForAutocomplete:L}=e,M="method"in e?null==e?void 0:e.method:void 0,I=(0,f.useRouter)(),F=ej(),{code:B}=ab(),{i18n:z,t:V}=(0,s.d)(),{refreshCookie:U,user:H}=as(),q=lx(),{queueTask:W}=uR(),{getFormState:Y}=s5(),{startRouteTransition:K}=eF(),{getUploadHandler:G}=uM(),{config:X}=(0,i.b)(),[Q,$]=(0,o.useState)(m||!1),[Z,J]=(0,o.useState)(!1),[ee,et]=(0,o.useState)(!1),[en,ea]=(0,o.useState)(!0),[el,eo]=(0,o.useState)(j),[er,ei]=(0,o.useState)(!1),[es,ec]=(0,o.useState)(!1),[eu,ed]=(0,o.useState)(!1),ep=(0,o.useRef)(null),eC=(0,o.useRef)({}),eS=(0,o.useRef)(null),e_=(0,o.useRef)(!0),ek=(0,o.useReducer)(uH,{},()=>w),[eN,eE]=ek;eC.current.fields=eN;let eP=(0,o.useRef)(eN),eD=(0,o.useCallback)(async()=>{let e={},a=!0,l=eC.current.getData(),o=Object.entries(eC.current.fields).map(async o=>{let[r,i]=o,s=r?r.split("."):[];if(!1!==i.passesCondition){let e=i.valid;if("validate"in i&&"function"==typeof i.validate){let a=i.value;(null==i?void 0:i.rows)&&Array.isArray(i.rows)&&(a=eC.current.getDataByPath(r)),"string"==typeof(e=await i.validate(a,{...i,id:t,collectionSlug:n,blockData:void 0,data:(null==F?void 0:F.getData)?F.getData():l,event:"submit",operation:q,path:s,preferences:{},req:{payload:{config:X},t:V,user:H},siblingData:eC.current.getSiblingData(r)}))?(i.errorMessage=e,i.valid=!1):(i.valid=!0,i.errorMessage=void 0)}!1===i.valid&&(a=!1)}e[r]=i});return await Promise.all(o),(0,b.j)(eC.current.fields,e)||eE({type:"REPLACE_STATE",state:e}),ea(a),a},[n,X,eE,t,q,V,H,F]),eO=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{action:n=c,method:a=M,overrides:l={},skipValidation:o}=e;if(Q){t&&t.preventDefault();return}let r,i,s=new Promise((e,t)=>{i=e,r=t}),p=n||"string"==typeof c||"function"==typeof c;if(N||g||!p?(i=e=>nG.success(e),r=e=>nG.error(e)):nG.promise(s,{error:e=>e,loading:V("general:submitting"),success:e=>e}),t&&(t.stopPropagation(),t.preventDefault()),ei(!0),$(!0),L&&await (0,D.u)(100),Array.isArray(d)){let e,t=(0,O.KS)(eC.current.fields);await d.reduce(async(n,a)=>{await n,e=await a({formState:t})},Promise.resolve());let n=Object.entries(e).every(e=>{let[,t]=e;return!1!==t.valid});if(ea(n),!n)return ei(!1),ed(!0),$(!1),eE({type:"REPLACE_STATE",state:e})}let h=!!o||!!v||await eC.current.validateForm();if(ea(h),!h){r(V("error:correctInvalidFields")),ei(!1),ed(!0),$(!1);return}let f={};if("function"==typeof l?f=l(eC.current.fields):"object"==typeof l&&(f=l),_){let e=(0,O.KS)(eC.current.fields),t=(0,T.r)(e,!0);for(let[e,n]of Object.entries(f))t[e]=n;_(e,t)}if(!p){ei(!1),ed(!0),$(!1);return}let m=await eC.current.createFormData(f,{mergeOverrideData:"function"!=typeof l});try{let e;if("string"==typeof n?e=await ao[a.toLowerCase()](n,{body:m,headers:{"Accept-Language":z.language}}):"function"==typeof c&&(e=await c(m)),et(!1),$(!1),"function"==typeof y)return void y(e,i,r);let t=e.headers.get("content-type"),l=t&&-1!==t.indexOf("application/json"),o={};if(l&&(o=await e.json()),e.status<400){if("function"==typeof k){let e=await k(o);if(e){let{newState:t}=uY({acceptValues:!0,existingState:eC.current.fields||{},incomingState:e});eE({type:"REPLACE_STATE",optimize:!1,state:t})}}ed(!1),ei(!1),N?K(()=>I.push(N)):g||i(o.message||V("general:submissionSuccessful"))}else{if(ei(!1),ed(!0),eC.current={...eC.current},o.message)return void r(o.message);if(Array.isArray(o.errors)){let[e,t]=o.errors.reduce((e,t)=>{var n,a;let[l,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(a=t.data)||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...l,...r],[...o,...i]]},[[],[]]);ea(!1),eE({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{r((0,u.jsx)(uD,{errorMessage:e.message||V("error:unknown")}))});return}let t=(null==uF?void 0:uF[e.status])||(null==e?void 0:e.statusText)||V("error:unknown");r(t)}}catch(e){console.error("Error submitting form",e),ei(!1),ed(!0),$(!1),r(e.message)}},[d,K,c,g,v,Q,eE,y,M,_,k,N,I,V,z,L]),eT=(0,o.useCallback)(()=>eC.current.fields,[]),eR=(0,o.useCallback)(e=>eC.current.fields[e],[]),eA=(0,o.useCallback)(()=>(0,T.r)(eC.current.fields,!0),[]),eL=(0,o.useCallback)(e=>(0,R.d)(eC.current.fields,e),[]),eM=(0,o.useCallback)(e=>(0,A.Z)(eC.current.fields,e),[]),eI=(0,o.useCallback)(async(e,t)=>{let{mergeOverrideData:a=!0}=t,l=(0,T.r)(eC.current.fields,!0),o=null==l?void 0:l.file;o&&delete l.file,l=a?{...l,...e}:e;let r=G({collectionSlug:n});if(o&&"function"==typeof r){let e=o.name;o=JSON.stringify({clientUploadContext:await r({file:o,updateFilename:t=>{e=t}}),collectionSlug:n,filename:e,mimeType:o.type,size:o.size})}let i={_payload:JSON.stringify(l),file:o};return(0,uP.serialize)(i,{indices:!0,nullsAsUndefineds:!1})},[n,G]),eB=(0,o.useCallback)(async e=>{let o=cf(eS),i=await l(),{state:s}=await Y({id:t,collectionSlug:n,data:e,docPermissions:a,docPreferences:i,globalSlug:r,locale:B,operation:q,renderAllFields:!0,schemaPath:n||r,signal:o.signal,skipValidation:!0});eC.current={...uq},et(!1),eE({type:"REPLACE_STATE",state:s}),eS.current=null},[n,eE,r,t,q,Y,a,l,B]),ez=(0,o.useCallback)(e=>{eC.current={...uq},et(!1),eE({type:"REPLACE_STATE",state:e})},[eE]),eV=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:l}=e,o=eM(n)||[];eE({type:"ADD_ROW",blockType:t,path:n,rowIndex:void 0===a?o.length:a,subFieldState:l}),et(!0)},[eE,eM]),eU=(0,o.useCallback)(e=>{let{moveFromIndex:t,moveToIndex:n,path:a}=e;eE({type:"MOVE_ROW",moveFromIndex:t,moveToIndex:n,path:a}),et(!0)},[eE]),eH=(0,o.useCallback)(e=>{let{path:t,rowIndex:n}=e;eE({type:"REMOVE_ROW",path:t,rowIndex:n}),et(!0)},[eE]),eq=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:l}=e,o=eM(n);eE({type:"REPLACE_ROW",blockType:t,path:n,rowIndex:void 0===a?o.length:a,subFieldState:l}),et(!0)},[eE,eM]);(0,o.useEffect)(()=>{let e=eS.current;return()=>{ch(e)}},[]),(0,o.useEffect)(()=>{void 0!==j&&eo(j)},[j]),eC.current.submit=eO,eC.current.getFields=eT,eC.current.getField=eR,eC.current.getData=eA,eC.current.getSiblingData=eL,eC.current.getDataByPath=eM,eC.current.validateForm=eD,eC.current.createFormData=eI,eC.current.setModified=et,eC.current.setProcessing=ei,eC.current.setBackgroundProcessing=ec,eC.current.setSubmitted=ed,eC.current.setIsValid=ea,eC.current.disabled=Q,eC.current.setDisabled=$,eC.current.formRef=ep,eC.current.reset=eB,eC.current.replaceState=ez,eC.current.dispatchFields=eE,eC.current.addFieldRow=eV,eC.current.removeFieldRow=eH,eC.current.moveFieldRow=eU,eC.current.replaceFieldRow=eq,eC.current.uuid=P,eC.current.initializing=el,eC.current.isValid=en,(0,o.useEffect)(()=>{J(!0)},[]),(0,o.useEffect)(()=>{"boolean"==typeof m&&$(m)},[m]),(0,o.useEffect)(()=>{"boolean"==typeof E&&ed(E)},[E]),(0,o.useEffect)(()=>{w&&(eC.current={...uq},eE({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:w}))},[w,eE]),aS(()=>{U()},15e3,[eN]),(0,o.useEffect)(()=>{eC.current={...eC.current},et(!1)},[B]);let eW=[h,"form"].filter(Boolean).join(" "),eY=sX(e=>{W(async()=>{if(Array.isArray(S)){let t=eC.current.fields;for(let n of S)t=await n({formState:(0,O.KS)(eC.current.fields),submitted:e});if(!t)return;let{changed:n,newState:a}=uY({existingState:eC.current.fields||{},incomingState:t});n&&(eP.current=a,eE({type:"REPLACE_STATE",optimize:!1,state:a}))}})});uT(()=>{(e_.current||!(0,b.j)(eN,eP.current))&&ee&&eY(eu),eP.current=eN,e_.current=!1},[ee,eu,eN],250);let eK=C?ef:o.Fragment,eG=C?{value:eC.current}:{};return(0,u.jsx)(x||"form",{action:"function"==typeof c?void 0:c,className:eW,method:M,noValidate:!0,onSubmit:e=>void eC.current.submit({},e),ref:ep,children:(0,u.jsx)(eK,{...eG,children:(0,u.jsx)(eh,{value:eC.current,children:(0,u.jsx)(em,{value:{fields:eN,...eC.current},children:(0,u.jsx)(eg,{value:eu,children:(0,u.jsx)(ey,{value:!Z||Z&&el,children:(0,u.jsx)(ev,{value:er,children:(0,u.jsx)(eb,{value:es,children:(0,u.jsx)(ex,{value:ee,children:(0,u.jsx)(ew.Provider,{value:ek,children:p})})})})})})})})})})},uG="tabs-field__tab-button",uX=e=>{let t=(0,d.c)(15),{hidden:n,isActive:a,parentPath:l,setIsActive:r,tab:i}=e,{i18n:c}=(0,s.d)(),[h,f]=(0,o.useState)(void 0),m;if(t[0]!==h||t[1]!==n||t[2]!==c||t[3]!==a||t[4]!==l||t[5]!==r||t[6]!==i){let e,s=[...l?l.split(".").slice(0,-1):[],...(0,x.pz)(i)?[i.name]:[]],d=h>0,g=(0,u.jsx)(ov,{fields:i.fields,path:s,setErrorCount:f}),v=d&&"".concat(uG,"--has-error"),b=a&&"".concat(uG,"--active"),y=n&&"".concat(uG,"--hidden"),w;t[8]!==v||t[9]!==b||t[10]!==y?(w=[uG,v,b,y].filter(Boolean),t[8]=v,t[9]=b,t[10]=y,t[11]=w):w=t[11],t[12]!==c||t[13]!==i?(e=i.label?(0,p.sC)(i.label,c):(0,x.pz)(i)?i.name:"",t[12]=c,t[13]=i,t[14]=e):e=t[14],m=(0,u.jsxs)(o.Fragment,{children:[g,(0,u.jsxs)("button",{className:w.join(" "),onClick:r,type:"button",children:[e,d&&(0,u.jsx)(tT,{count:h,i18n:c})]})]}),t[0]=h,t[1]=n,t[2]=c,t[3]=a,t[4]=l,t[5]=r,t[6]=i,t[7]=m}else m=t[7];return m},uQ="tabs-field";function u$(e){let{activeTabConfig:t,path:n}=e,a=n;return(0,x.pz)(t)&&t.name&&(a=n?"".concat(n,".").concat(t.name):t.name),a}var uZ=lj(e=>{var t,n;let a,l,r=(0,d.c)(89),{field:i,forceRender:c,indexPath:p,parentPath:h,parentSchemaPath:f,path:m,permissions:g,readOnly:v}=e,{admin:b,tabs:y}=i,w;r[0]!==b?(w=void 0===b?{}:b,r[0]=b,r[1]=w):w=r[1];let{className:C}=w,j;r[2]!==y?(j=void 0===y?[]:y,r[2]=y,r[3]=j):j=r[3];let S=j,_=void 0!==c&&c,k=void 0===p?"":p,N=void 0===h?"":h,E=void 0===f?"":f,P=void 0===m?"":m,{getPreference:D,setPreference:O}=ap(),{preferencesKey:T}=lf(),{i18n:R}=(0,s.d)(),{isWithinCollapsible:A}=lq(),L;r[4]!==S?(L=e=>{let[t]=e;return S.map((e,n)=>{var a,l;let o=null==e?void 0:e.id;return{index:n,passesCondition:null==(l=null==t||null==(a=t[o])?void 0:a.passesCondition)||l,tab:e}})},r[4]=S,r[5]=L):L=r[5];let M=eD(L),I;r[6]!==M?(I=()=>{var e,t,n;return null!=(n=null==(t=M.filter(u0))||null==(e=t[0])?void 0:e.index)?n:0},r[6]=M,r[7]=I):I=r[7];let[F,B]=(0,o.useState)(I),z="tabs-".concat(k),V;r[8]!==F||r[9]!==N||r[10]!==S?(V=()=>u$({activeTabConfig:S[F],path:N}),r[8]=F,r[9]=N,r[10]=S,r[11]=V):V=r[11];let[U,H]=(0,o.useState)(V),q;r[12]!==E||r[13]!==S?(q=()=>u$({activeTabConfig:S[0],path:E}),r[12]=E,r[13]=S,r[14]=q):q=r[14];let[W,Y]=(0,o.useState)(q),K;r[15]!==F||r[16]!==U||r[17]!==N||r[18]!==S?(K=(0,x.pz)(S[F])?U:N,r[15]=F,r[16]=U,r[17]=N,r[18]=S,r[19]=K):K=r[19];let G=K,X=M[F],Q=null==X?void 0:X.tab,$;r[20]!==F||r[21]!==W||r[22]!==E||r[23]!==S?($=(0,x.pz)(S[F])?W:E,r[20]=F,r[21]=W,r[22]=E,r[23]=S,r[24]=$):$=r[24];let Z=$,J=null!=(n=null==(t=Q.admin)?void 0:t.description)?n:Q.description,ee;r[25]!==J||r[26]!==R?(ee="function"==typeof J?J({i18n:R,t:R.t}):J,r[25]=J,r[26]=R,r[27]=ee):ee=r[27];let et=ee,en=M.some(u1),ea;r[28]!==D||r[29]!==N||r[30]!==E||r[31]!==P||r[32]!==T||r[33]!==O||r[34]!==S||r[35]!==z?(ea=async e=>{var t,n;B(e),H(u$({activeTabConfig:S[e],path:N})),Y(u$({activeTabConfig:S[e],path:E}));let a=await D(T);T&&O(T,{...a,...P?{fields:{...(null==a?void 0:a.fields)||{},[P]:{...null==a||null==(t=a.fields)?void 0:t[P],tabIndex:e}}}:{fields:{...null==a?void 0:a.fields,[z]:{...null==a||null==(n=a.fields)?void 0:n[z],tabIndex:e}}}})},r[28]=D,r[29]=N,r[30]=E,r[31]=P,r[32]=T,r[33]=O,r[34]=S,r[35]=z,r[36]=ea):ea=r[36];let el=ea,eo,er;r[37]!==D||r[38]!==N||r[39]!==E||r[40]!==P||r[41]!==T||r[42]!==S||r[43]!==z?(eo=()=>{T&&(async()=>{var e,t,n,a;let l=await D(T),o=(P?null==l||null==(t=l.fields)||null==(e=t[P])?void 0:e.tabIndex:null==l||null==(a=l.fields)||null==(n=a[z])?void 0:n.tabIndex)||0;B(o),H(u$({activeTabConfig:S[o],path:N})),Y(u$({activeTabConfig:S[o],path:E}))})()},er=[P,D,T,z,S,N,E],r[37]=D,r[38]=N,r[39]=E,r[40]=P,r[41]=T,r[42]=S,r[43]=z,r[44]=eo,r[45]=er):(eo=r[44],er=r[45]),(0,o.useEffect)(eo,er),r[46]!==(null==X?void 0:X.passesCondition)||r[47]!==el||r[48]!==M?(a=()=>{if((null==X?void 0:X.passesCondition)===!1){let e=M.find(u2);e&&el(e.index)}},r[46]=null==X?void 0:X.passesCondition,r[47]=el,r[48]=M,r[49]=a):a=r[49],r[50]!==X||r[51]!==el||r[52]!==M?(l=[X,M,el],r[50]=X,r[51]=el,r[52]=M,r[53]=l):l=r[53],(0,o.useEffect)(a,l);let ei=A&&"".concat(uQ,"--within-collapsible"),es=!en&&"".concat(uQ,"--hidden"),ec;r[54]!==C||r[55]!==ei||r[56]!==es?(ec=[l_,C,uQ,ei,es].filter(Boolean),r[54]=C,r[55]=ei,r[56]=es,r[57]=ec):ec=r[57];let eu=ec.join(" "),ed;if(r[58]!==G||r[59]!==Z||r[60]!==Q||r[61]!==F||r[62]!==X||r[63]!==U||r[64]!==et||r[65]!==_||r[66]!==el||r[67]!==k||r[68]!==P||r[69]!==g||r[70]!==v||r[71]!==eu||r[72]!==M){let e,t;r[74]!==F||r[75]!==el||r[76]!==P?(e=e=>{let{index:t,passesCondition:n,tab:a}=e;return(0,u.jsx)(uX,{hidden:!n,isActive:F===t,parentPath:P,setIsActive:()=>{el(t)},tab:a},t)},r[74]=F,r[75]=el,r[76]=P,r[77]=e):e=r[77],r[78]!==G||r[79]!==Z||r[80]!==Q||r[81]!==X||r[82]!==U||r[83]!==et||r[84]!==_||r[85]!==k||r[86]!==g||r[87]!==v?(t=Q&&(0,u.jsx)(uJ,{description:et,fields:Q.fields,forceRender:_,hidden:!1,parentIndexPath:(0,x.pz)(Q)?"":"".concat(k?k+"-":"")+String(X.index),parentPath:G,parentSchemaPath:Z,path:U,permissions:g&&"object"==typeof g&&"name"in Q?g[Q.name]&&"object"==typeof g[Q.name]&&"fields"in g[Q.name]?g[Q.name].fields:g[Q.name]:g,readOnly:v}),r[78]=G,r[79]=Z,r[80]=Q,r[81]=X,r[82]=U,r[83]=et,r[84]=_,r[85]=k,r[86]=g,r[87]=v,r[88]=t):t=r[88],ed=(0,u.jsx)("div",{className:eu,children:(0,u.jsxs)(sz,{children:[(0,u.jsx)("div",{className:"".concat(uQ,"__tabs-wrap"),children:(0,u.jsx)("div",{className:"".concat(uQ,"__tabs"),children:M.map(e)})}),(0,u.jsx)("div",{className:"".concat(uQ,"__content-wrap"),children:t})]})}),r[58]=G,r[59]=Z,r[60]=Q,r[61]=F,r[62]=X,r[63]=U,r[64]=et,r[65]=_,r[66]=el,r[67]=k,r[68]=P,r[69]=g,r[70]=v,r[71]=eu,r[72]=M,r[73]=ed}else ed=r[73];return ed});function uJ(e){let t=(0,d.c)(21),{description:n,fields:a,forceRender:l,hidden:o,label:r,parentIndexPath:i,parentPath:c,parentSchemaPath:h,path:f,permissions:m,readOnly:g}=e,{i18n:v}=(0,s.d)(),b;t[0]!==f?(b={path:f},t[0]=f,t[1]=b):b=t[1];let{customComponents:x}=ly(b),y;t[2]!==x?(y=void 0===x?{}:x,t[2]=x,t[3]=y):y=t[3];let{AfterInput:w,BeforeInput:C,Description:j,Field:S}=y;if(S)return S;let _=o&&"".concat(uQ,"__tab--hidden"),k=r&&"".concat(uQ,"__tabConfigLabel-").concat((0,P.A)((0,p.sC)(r,v))),N;t[4]!==_||t[5]!==k?(N=[_,"".concat(uQ,"__tab"),k].filter(Boolean),t[4]=_,t[5]=k,t[6]=N):N=t[6];let E=N.join(" "),D;return t[7]!==w||t[8]!==C||t[9]!==j||t[10]!==n||t[11]!==a||t[12]!==l||t[13]!==i||t[14]!==c||t[15]!==h||t[16]!==f||t[17]!==m||t[18]!==g||t[19]!==E?(D=(0,u.jsxs)("div",{className:E,children:[(0,u.jsx)(el,{CustomComponent:j,Fallback:(0,u.jsx)(tA,{description:n,marginPlacement:"bottom",path:f})}),C,(0,u.jsx)(pB,{fields:a,forceRender:l,parentIndexPath:i,parentPath:c,parentSchemaPath:h,permissions:m,readOnly:g}),w]}),t[7]=w,t[8]=C,t[9]=j,t[10]=n,t[11]=a,t[12]=l,t[13]=i,t[14]=c,t[15]=h,t[16]=f,t[17]=m,t[18]=g,t[19]=E,t[20]=D):D=t[20],D}function u0(e){let{passesCondition:t}=e;return t}function u1(e){let{passesCondition:t}=e;return t}function u2(e){let{passesCondition:t}=e;return t}var u3=e=>{let t=(0,d.c)(31),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,hasMany:c,inputRef:h,Label:f,label:m,localized:g,maxRows:v,onChange:b,onKeyDown:x,path:y,placeholder:w,readOnly:C,required:j,rtl:S,showError:_,style:k,value:N,valueToRender:E}=e,{i18n:P,t:D}=(0,s.d)(),O=_&&"error",T=C&&"read-only",R=c&&"has-many",A;t[0]!==l||t[1]!==O||t[2]!==T||t[3]!==R?(A=[l_,"text",l,O,T,R].filter(Boolean),t[0]=l,t[1]=O,t[2]=T,t[3]=R,t[4]=A):A=t[4];let L=A.join(" "),M;return t[5]!==n||t[6]!==a||t[7]!==o||t[8]!==i||t[9]!==f||t[10]!==r||t[11]!==c||t[12]!==P||t[13]!==h||t[14]!==m||t[15]!==g||t[16]!==v||t[17]!==b||t[18]!==x||t[19]!==y||t[20]!==w||t[21]!==C||t[22]!==j||t[23]!==S||t[24]!==_||t[25]!==k||t[26]!==D||t[27]!==L||t[28]!==N||t[29]!==E?(M=(0,u.jsxs)("div",{className:L,style:k,children:[(0,u.jsx)(el,{CustomComponent:f,Fallback:(0,u.jsx)(aw,{label:m,localized:g,path:y,required:j})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:i,Fallback:(0,u.jsx)(tL,{path:y,showError:_})}),a,c?(0,u.jsx)(sD,{className:"field-".concat(y.replace(/\./g,"__")),components:{DropdownIndicator:null},customProps:{editableProps:u5},disabled:C,filterOption:()=>!v||!(Array.isArray(N)&&v&&N.length>=v),isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(N)&&N.length>=v?D("validation:limitReached",{max:v,value:N.length+1}):null,onChange:b,options:[],placeholder:D("general:enterAValue"),showError:_,value:E}):(0,u.jsx)("input",{"data-rtl":S,disabled:C,id:"field-".concat(null==y?void 0:y.replace(/\./g,"__")),name:y,onChange:b,onKeyDown:x,placeholder:(0,p.sC)(w,P),ref:h,type:"text",value:N||""}),n,(0,u.jsx)(el,{CustomComponent:o,Fallback:(0,u.jsx)(tA,{description:r,path:y})})]})]}),t[5]=n,t[6]=a,t[7]=o,t[8]=i,t[9]=f,t[10]=r,t[11]=c,t[12]=P,t[13]=h,t[14]=m,t[15]=g,t[16]=v,t[17]=b,t[18]=x,t[19]=y,t[20]=w,t[21]=C,t[22]=j,t[23]=S,t[24]=_,t[25]=k,t[26]=D,t[27]=L,t[28]=N,t[29]=E,t[30]=M):M=t[30],M};function u6(e){e.currentTarget.contentEditable="false"}function u5(e,t,n){let a="".concat(t,"--editable");return{onBlur:u6,onClick:e=>{e.currentTarget.contentEditable="true",e.currentTarget.classList.add(a),e.currentTarget.focus()},onKeyDown:t=>{if("Enter"===t.key||"Tab"===t.key||"Escape"===t.key){if(t.currentTarget.contentEditable="false",t.currentTarget.classList.remove(a),e.value.value=t.currentTarget.innerText,e.label=t.currentTarget.innerText,e.value.value.replaceAll("\n",""))n.onChange(n.value,{action:"create-option",option:e});else if(Array.isArray(n.value)){let t=n.value.filter(t=>t.id!==e.id);n.onChange(t,{action:"pop-value",removedValue:e})}t.preventDefault()}t.stopPropagation()}}}var u4=lj(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,rtl:r}={},hasMany:s,label:c,localized:d,maxLength:p,maxRows:h,minLength:f,minRows:m,required:g},inputRef:v,path:b,readOnly:x,validate:y}=e,w=ab(),{config:{localization:C}}=(0,i.b)(),{customComponents:{AfterInput:j,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,setValue:P,showError:D,value:O}=ly({path:b,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,maxLength:p,minLength:f,required:g})},[y,f,p,g])}),T=lk({fieldLocalized:d,fieldRTL:r,locale:w,localizationConfig:C||void 0}),[R,A]=(0,o.useState)([]),L=(0,o.useCallback)(e=>{if(!(x||E)){var t;let n;P(e?Array.isArray(e)?e.map(e=>{var t;return(null==(t=e.value)?void 0:t.value)||e.value}):[(null==(t=e.value)?void 0:t.value)||e.value]:[])}},[x,P,E]);(0,o.useEffect)(()=>{s&&Array.isArray(O)&&A(O.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[O,s]);let M=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsx)(u3,{AfterInput:j,BeforeInput:S,className:n,Description:_,description:a,Error:k,hasMany:s,inputRef:v,Label:N,label:c,localized:d,maxRows:h,minRows:m,onChange:s?L:e=>{P(e.target.value)},path:b,placeholder:l,readOnly:x||E,required:g,rtl:T,showError:D,style:M,value:O||"",valueToRender:R})}),u8=e=>{let t=(0,d.c)(25),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,Label:c,label:h,localized:f,onChange:m,path:g,placeholder:v,readOnly:b,required:x,rows:y,rtl:w,showError:C,style:j,value:S}=e,{i18n:_}=(0,s.d)(),k=C&&"error",N=b&&"read-only",E;t[0]!==l||t[1]!==k||t[2]!==N?(E=[l_,"textarea",l,k,N].filter(Boolean),t[0]=l,t[1]=k,t[2]=N,t[3]=E):E=t[3];let P=E.join(" "),D;return t[4]!==n||t[5]!==a||t[6]!==o||t[7]!==i||t[8]!==c||t[9]!==r||t[10]!==_||t[11]!==h||t[12]!==f||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==x||t[18]!==y||t[19]!==w||t[20]!==C||t[21]!==j||t[22]!==P||t[23]!==S?(D=(0,u.jsxs)("div",{className:P,style:j,children:[(0,u.jsx)(el,{CustomComponent:c,Fallback:(0,u.jsx)(aw,{label:h,localized:f,path:g,required:x})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:i,Fallback:(0,u.jsx)(tL,{path:g,showError:C})}),a,(0,u.jsx)("label",{className:"textarea-outer",htmlFor:"field-".concat(g.replace(/\./g,"__")),children:(0,u.jsx)("textarea",{"data-rtl":w,disabled:b,id:"field-".concat(g.replace(/\./g,"__")),name:g,onChange:m,placeholder:(0,p.sC)(v,_),rows:y,value:S||""})}),n,(0,u.jsx)(el,{CustomComponent:o,Fallback:(0,u.jsx)(tA,{description:r,path:g})})]})]}),t[4]=n,t[5]=a,t[6]=o,t[7]=i,t[8]=c,t[9]=r,t[10]=_,t[11]=h,t[12]=f,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=x,t[18]=y,t[19]=w,t[20]=C,t[21]=j,t[22]=P,t[23]=S,t[24]=D):D=t[24],D},u9=lj(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,rows:r,rtl:c}={},label:d,localized:h,maxLength:f,minLength:m,required:g},path:v,readOnly:b,validate:x}=e,{i18n:y}=(0,s.d)(),{config:{localization:w}}=(0,i.b)(),C=lk({fieldLocalized:h,fieldRTL:c,locale:ab(),localizationConfig:w||void 0}),{customComponents:{AfterInput:j,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,setValue:P,showError:D,value:O}=ly({path:v,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,maxLength:f,minLength:m,required:g})},[x,g,f,m])}),T=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsx)(u8,{AfterInput:j,BeforeInput:S,className:n,Description:_,description:a,Error:k,Label:N,label:d,localized:h,onChange:e=>{P(e.target.value)},path:v,placeholder:(0,p.sC)(l,y),readOnly:b||E,required:g,rows:r,rtl:C,showError:D,style:T,value:O})}),u7=()=>null,de=e=>{e.preventDefault(),e.stopPropagation()};function dt(e){let{children:t,className:n,disabled:a=!1,dropzoneStyle:l="default",multipleFiles:r,onChange:i}=e,s=o.useRef(null),[c,d]=o.useState(!1),p=o.useCallback(e=>{if(!r&&e.length>1){let t=new DataTransfer;t.items.add(e[0]),i(t.files)}else i(e)},[r,i]),h=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&p(e.clipboardData.files)},[p]),f=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!0)},[]),m=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1)},[]),g=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(p(e.dataTransfer.files),d(!1),e.dataTransfer.clearData())},[p]);o.useEffect(()=>{let e=s.current;return e&&!a?(e.addEventListener("dragenter",f),e.addEventListener("dragleave",m),e.addEventListener("dragover",de),e.addEventListener("drop",g),e.addEventListener("paste",h),()=>{e.removeEventListener("dragenter",f),e.removeEventListener("dragleave",m),e.removeEventListener("dragover",de),e.removeEventListener("drop",g),e.removeEventListener("paste",h)}):()=>null},[a,f,m,g,h]);let v=["dropzone",n,c?"dragging":"","dropzoneStyle--".concat(l)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:v,ref:s,children:t})}function dn(e){let t=(0,d.c)(3),{onClick:n}=e,{t:a}=(0,s.d)(),l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)("button",{"aria-label":a("general:close"),className:"drawer-close-button",onClick:n,type:"button",children:(0,u.jsx)(s.a,{})}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}function da(e){let{onClose:t,title:n}=e;return(0,u.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,u.jsx)("h2",{title:n,children:n}),(0,u.jsx)(dn,{onClick:t})]})}var dl="bulk-upload--add-files";function dr(e){let{acceptMimeTypes:t,onCancel:n,onDrop:a}=e,{t:l}=(0,s.d)(),r=o.useRef(null);return(0,u.jsxs)("div",{className:dl,children:[(0,u.jsx)(da,{onClose:n,title:l("upload:addFiles")}),(0,u.jsx)("div",{className:"".concat(dl,"__dropArea"),children:(0,u.jsxs)(dt,{multipleFiles:!0,onChange:a,children:[(0,u.jsx)(ti,{buttonStyle:"pill",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:l("upload:selectFile")}),(0,u.jsx)("input",{accept:t,"aria-hidden":"true",className:"".concat(dl,"__hidden-input"),hidden:!0,multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&a(e.target.files)},ref:r,type:"file"}),(0,u.jsxs)("p",{className:"".concat(dl,"__dragAndDropText"),children:[l("general:or")," ",l("upload:dragAndDrop")]})]})})]})}var di=e=>new Promise((t,n)=>{let a=new Image;a.src=URL.createObjectURL(e),a.onload=()=>{let e,l,o=a.width/a.height;o>1?(l=280,e=280/o):(l=280*o,e=280);let r=new OffscreenCanvas(l,e);r.getContext("2d").drawImage(a,0,0,l,e),r.convertToBlob({type:"image/jpeg",quality:.25}).then(e=>{URL.revokeObjectURL(a.src);let l=new FileReader;l.onload=()=>t(l.result),l.onerror=n,l.readAsDataURL(e)}).catch(n)},a.onerror=e=>{URL.revokeObjectURL(a.src),n(e)}}),ds=(0,c.e)(J(),1);async function dc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=(0,T.r)(e,!0),o=null==l?void 0:l.file;if(o&&delete l.file,o&&"function"==typeof a){let e=o.name;o=JSON.stringify({clientUploadContext:await a({file:o,updateFilename:t=>{e=t}}),collectionSlug:n,filename:e,mimeType:o.type,size:o.size})}let r={_payload:JSON.stringify({...l,...t}),file:o};return(0,ds.serialize)(r,{indices:!0,nullsAsUndefineds:!1})}function du(e,t){switch(t.type){case"ADD_FORMS":{let n=[];for(let e=0;e<t.files.length;e++)n[e]={errorCount:0,formState:{...t.initialState||{},file:{initialValue:t.files[e],valid:!0,value:t.files[e]}}};return{...e,activeIndex:0,forms:[...n,...e.forms]}}case"REMOVE_FORM":{let n=[...e.forms],[a]=n.splice(t.index,1),l=e.activeIndex>=t.index,o=Math.min(n.length-1,e.activeIndex===t.index?t.index:l?e.activeIndex-1:e.activeIndex);return{...e,activeIndex:l?o:e.activeIndex,forms:n,totalErrorCount:e.totalErrorCount-a.errorCount}}case"REPLACE":return{...e,...t.state};case"SET_ACTIVE_INDEX":return{...e,activeIndex:t.index};case"UPDATE_ERROR_COUNT":{let n=[...e.forms];return n[t.index].errorCount=t.count,{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}case"UPDATE_FORM":{let n=[...e.forms];return n[t.index].errorCount=t.errorCount,n[t.index]={...n[t.index],formState:{...n[t.index].formState,...t.formState}},{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}default:return e}}var dd=o.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},thumbnailUrls:[],totalErrorCount:0}),dp={activeIndex:0,forms:[],totalErrorCount:0};function dh(e){let{children:t}=e,{config:n}=(0,i.b)(),{routes:{api:a},serverURL:l}=n,{code:r}=ab(),{i18n:c,t:d}=(0,s.d)(),{getDocumentSlots:p,getFormState:h}=s5(),{getUploadHandler:f}=uM(),[m,g]=o.useState({}),[b,x]=o.useState(!1),[y,w]=o.useState(),[C,j]=o.useState(!1),[S,_]=o.useState(!1),[k,E]=o.useState(!1),[P,D]=o.useState(!1),[O,T]=o.useState(!1),[R,A]=o.useReducer(du,dp),{activeIndex:L,forms:M,totalErrorCount:I}=R,F=o.useRef(M);F.current=M;let B=M.length,z=o.useRef([]),V=o.useRef(new Set),[U,H]=o.useState([]);o.useEffect(()=>{(async()=>{let e=[...z.current];for(let t=0;t<B;t++){let n=F.current[t].formState.file.value;if(V.current.has(n)||!n||!(0,N.w)(n.type))continue;V.current.add(n);let a=await di(n);e[t]=a,z.current=e,H([...e]),await new Promise(e=>setTimeout(e,100))}})()},[B]);let{toggleLoadingOverlay:q}=cs(),{closeModal:W}=t6(),{collectionSlug:Y,drawerSlug:K,initialFiles:G,onSuccess:X}=pv(),[Q,$]=o.useState(!1),[Z,J]=o.useState(""),ee=o.useRef(!1),et=o.useRef(null),en=o.useRef(()=>({})),ea="".concat(a,"/").concat(Y),el=o.useCallback(async()=>{let e={locale:r||void 0},t="/".concat(Y,"/access"),n=await (await fetch("".concat(l).concat(a).concat(t,"?").concat(v.A(e)),{credentials:"include",headers:{"Accept-Language":c.language,"Content-Type":"application/json"},method:"post"})).json(),o=await fetch("".concat(l).concat(a).concat(t,"?").concat(v.A(e)),{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":c.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());w(n),j(lu({collectionSlug:Y,docPermissions:n,isEditing:!1})),_(null==o?void 0:o.update),D(!0)},[a,r,Y,c.language,l]),eo=o.useCallback(async e=>{(null==e?void 0:e.signal)&&e.abort("aborting previous fetch for initial form state without files"),g(await p({collectionSlug:Y}));try{let{state:e}=await h({collectionSlug:Y,docPermissions:y,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:Y,skipValidation:!0});et.current=e,E(!0)}catch(e){}},[p,Y,h,y,r]),er=o.useCallback(e=>{let t=en.current();A({type:"REPLACE",state:{activeIndex:e,forms:M.map((e,n)=>n===L?{errorCount:e.errorCount,formState:t}:e)}})},[M,L]),ei=o.useCallback(async e=>{q({isLoading:!0,key:"addingDocs"}),k||await eo(),A({type:"ADD_FORMS",files:e,initialState:et.current}),q({isLoading:!1,key:"addingDocs"})},[eo,k,q]),es=o.useCallback(e=>{z.current=z.current.filter((t,n)=>!e.includes(n)),H([...z.current])},[]),ec=o.useCallback(e=>{A({type:"REMOVE_FORM",index:e}),es([e])},[es]),eu=o.useCallback(e=>{let{errorCount:t,index:n}=e;A({type:"UPDATE_ERROR_COUNT",count:t,index:n})},[]),ed=o.useCallback(async function(){let{overrides:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=en.current(),n=[...M];n[L]={errorCount:n[L].errorCount,formState:t};let a=[];$(!0);for(let t=0;t<n.length;t++)try{var l;let o=n[t];J(d("general:uploadingBulk",{current:t+1,total:n.length}));let r=await fetch(ea,{body:await dc(o.formState,e,Y,f({collectionSlug:Y})),method:"POST"}),i=await r.json();201===r.status&&(null==i?void 0:i.doc)&&a.push(i.doc);let[s,c]=((null==i?void 0:i.errors)||[]).reduce((e,t)=>{var n,a;let[l,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(a=t.data)||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...l,...r],[...o,...i]]},[[],[]]);n[t]={errorCount:s.length,formState:uH(n[t].formState,{type:"ADD_SERVER_ERRORS",errors:s})},(413===r.status||400===r.status)&&(n[t]={...n[t],errorCount:n[t].errorCount+1},nG.error(null==(l=c[0])?void 0:l.message))}catch(e){}x(!0),J(""),$(!1);let o=[],r=[];n.forEach((e,t)=>{let{errorCount:a}=e;a?o.push(n[t]):r.push(t)});let i=Math.max(0,n.length-o.length),s=n.length-i;i&&(nG.success("Successfully saved ".concat(i," files")),"function"==typeof X&&X(a,s),o.length&&r.length&&es(r)),s?nG.error("Failed to save ".concat(s," files")):W(K),A({type:"REPLACE",state:{activeIndex:0,forms:o,totalErrorCount:o.reduce((e,t)=>{let{errorCount:n}=t;return e+n},0)}})},[ea,L,M,es,X,Y,f,d,W,K]),ep=o.useCallback(async(e,t)=>{for(let n=0;n<M.length;n++)if(Object.entries(e).forEach(e=>{let[t,a]=e;M[n].formState[t]&&(M[n].formState[t].value=a,A({type:"UPDATE_FORM",errorCount:M[n].errorCount,formState:M[n].formState,index:n}))}),"function"==typeof t&&t(),b){let{state:e}=await h({collectionSlug:Y,docPermissions:y,docPreferences:null,formState:M[n].formState,operation:"create",schemaPath:Y});A({type:"UPDATE_FORM",errorCount:Object.values(e).reduce((e,t)=>(null==t?void 0:t.valid)===!1?e+1:e,0),formState:e,index:n})}},[Y,y,M,h,b]);return o.useEffect(()=>{Y&&(k||eo(),P||el(),G&&T(!k||!P),k&&G&&!ee.current&&(ei(G),ee.current=!0))},[ei,G,eo,el,Y,k,P]),(0,u.jsxs)(dd,{value:{activeIndex:R.activeIndex,addFiles:ei,bulkUpdateForm:ep,collectionSlug:Y,docPermissions:y,documentSlots:m,forms:M,getFormDataRef:en,hasPublishPermission:S,hasSavePermission:C,hasSubmitted:b,isInitializing:O,removeFile:ec,saveAllDocs:ed,setActiveIndex:er,setFormTotalErrorCount:eu,thumbnailUrls:U,totalErrorCount:I},children:[Q&&(0,u.jsx)(cu,{animationDuration:"250ms",loadingText:Z,overlayType:"fullscreen",show:!0}),t]})}function df(){return o.use(dd)}var dm=e=>{let t=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return e.filter(e=>!t.includes("name"in e&&e.name))},dg=(e,t)=>e?(0,x.Z7)(t)?"".concat(e,".").concat(t.name):e:(0,x.Z7)(t)?t.name:"",dv=e=>{let{CustomLabel:t,field:n,prefix:a}=e;return(0,u.jsxs)(o.Fragment,{children:[a?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{style:{display:"inline-block"},children:a})," > "]}):null,(0,u.jsx)("span",{style:{display:"inline-block"},children:(0,u.jsx)(el,{CustomComponent:t,Fallback:(0,u.jsx)(aw,{label:"label"in n&&n.label})})})]})},db=e=>{var t,n;let{fields:a,formState:l,labelPrefix:o=null,parentPath:r="",path:i="",permissions:s}=e;if(!a)return[];let c=null==l||null==(n=l[i])||null==(t=n.customComponents)?void 0:t.Label;return null==a?void 0:a.reduce((e,t)=>{var n;let{operation:a,permissions:l,read:u}=(0,y.P)({field:t,operation:"update",parentName:(null==r?void 0:r.includes("."))?r.split(".")[r.split(".").length-1]:r,permissions:s});return((0,x.Z7)(t)||"ui"===t.type)&&((null==(n=t.admin)?void 0:n.disableBulkEdit)||t.unique||(0,x.I2)(t)||"readOnly"in t&&t.readOnly||!a||!u)?e:"array"!==t.type&&"blocks"!==t.type&&(0,x.sd)(t)?[...e,...db({fields:t.fields,labelPrefix:dv({CustomLabel:c,field:t,prefix:o}),parentPath:i,path:dg(i,t),permissions:l})]:"tabs"===t.type&&"tabs"in t?[...e,...t.tabs.reduce((e,n)=>{if("fields"in n){let a="name"in n&&n.name;return[...e,...db({fields:n.fields,labelPrefix:o,parentPath:i,path:a?dg(i,t):i,permissions:l})]}},[])]:[...e,{label:dv({CustomLabel:c,field:t,prefix:o}),value:{field:t,fieldPermissions:l,path:dg(i,t)}}]},[])},dx=e=>{let t=(0,d.c)(14),{fields:n,onChange:a,permissions:l}=e,{t:r}=(0,s.d)(),{dispatchFields:i,getFields:c}=eC(),p;t[0]!==n||t[1]!==c||t[2]!==l?(p=()=>db({fields:dm(n),formState:c(),permissions:l}),t[0]=n,t[1]=c,t[2]=l,t[3]=p):p=t[3];let[h]=(0,o.useState)(p),f;if(t[4]!==i||t[5]!==c||t[6]!==a||t[7]!==h||t[8]!==r){let e;t[10]!==i||t[11]!==c||t[12]!==a?(e=e=>a({dispatchFields:i,formState:c(),selected:e}),t[10]=i,t[11]=c,t[12]=a,t[13]=e):e=t[13],f=(0,u.jsxs)("div",{className:"field-select",children:[(0,u.jsx)(aw,{label:r("fields:selectFieldsToEdit")}),(0,u.jsx)(sD,{getOptionValue:dy,isMulti:!0,onChange:e,options:h})]}),t[4]=i,t[5]=c,t[6]=a,t[7]=h,t[8]=r,t[9]=f}else f=t[9];return f};function dy(e){return"object"==typeof e.value&&"path"in e.value?String(e.value.path):String(e.value)}var dw=e=>{var t;let{collection:{fields:n,labels:{plural:a,singular:l}}={},collection:r,drawerSlug:i,forms:c}=e,[d,h]=(0,o.useState)(!1),{permissions:f}=as(),{i18n:m,t:g}=(0,s.d)(),{closeModal:v}=t6(),{bulkUpdateForm:b}=df(),{getFormState:x}=s5(),y=o.useRef(null),[w,C]=(0,o.useState)([]),j=null==f||null==(t=f.collections)?void 0:t[r.slug],S=(0,o.useMemo)(()=>(0,M.s)(w.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[w]),_=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cf(y),{state:l}=await x({collectionSlug:r.slug,docPermissions:j,docPreferences:null,formState:t,operation:"update",schemaPath:r.slug,select:S,signal:a.signal,skipValidation:!n});return y.current=null,l},[x,r,j,S]);(0,o.useEffect)(()=>{let e=y.current;return()=>{ch(e)}},[]);let k=(0,o.useCallback)(e=>{b(w.reduce((t,n)=>(e[n.value.path]&&(t[n.value.path]=e[n.value.path].value),t),{}),()=>v(i))},[v,i,b,w]),N=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:a}=e;h(!0),C(a||[]);let{state:l}=await x({collectionSlug:r.slug,docPermissions:j,docPreferences:null,formState:n,operation:"update",schemaPath:r.slug,select:(0,M.s)(a.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:l}),h(!1)},[x,r,j]);return(0,u.jsxs)("div",{className:"".concat(dC,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(dC,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(dC,"__header__title"),children:g("general:editingLabel",{count:c.length,label:(0,p.sC)(c.length>1?a:l,m)})}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(dC,"__header__close"),id:"close-drawer__".concat(i),onClick:()=>v(i),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(uK,{className:"".concat(dC,"__form"),isInitializing:d,onChange:[_],onSubmit:k,children:[(0,u.jsx)(dx,{fields:n,onChange:N,permissions:j.fields}),0===w.length?null:(0,u.jsx)("div",{className:"render-fields",children:w.map((e,t)=>{let{value:{field:n,fieldPermissions:a,path:l}}=e;return(0,u.jsx)(pI,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:l,permissions:a},"".concat(l,"-").concat(t))})}),(0,u.jsx)("div",{className:"".concat(dC,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(dC,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(dC,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(dC,"__document-actions"),children:(0,u.jsx)(ti,{type:"submit",children:g("general:applyChanges")})})})})})]})]})},dC="edit-many-bulk-uploads",dj=e=>{var t,n;let a,l=(0,d.c)(5),{collection:o,collection:r}=e,{slug:i}=void 0===o?{}:o,{permissions:c}=as(),{t:p}=(0,s.d)(),{forms:h}=df(),f=null==c||null==(n=c.collections)||null==(t=n[i])?void 0:t.update,m="edit-".concat(i,"-bulk-uploads");return f?(l[0]!==r||l[1]!==m||l[2]!==h||l[3]!==p?(a=(0,u.jsxs)("div",{className:dC,children:[(0,u.jsx)(n5,{"aria-label":p("general:editAll"),className:"".concat(dC,"__toggle"),slug:m,children:p("general:editAll")}),(0,u.jsx)(tI,{children:(0,u.jsx)(n4,{Header:null,slug:m,children:(0,u.jsx)(dw,{collection:r,drawerSlug:m,forms:h})})})]}),l[0]=r,l[1]=m,l[2]=h,l[3]=p,l[4]=a):a=l[4],a):null},dS="bulk-upload--actions-bar";function d_(e){let t=(0,d.c)(15),{collectionConfig:n}=e,{activeIndex:a,forms:l,setActiveIndex:o}=df(),{t:r}=(0,s.d)(),i=a+1,c;if(t[0]!==a||t[1]!==n||t[2]!==l.length||t[3]!==o||t[4]!==r||t[5]!==i){let e,s;t[7]!==a||t[8]!==l.length||t[9]!==o?(e=()=>{let e=a-1;e<0?o(l.length-1):o(e)},t[7]=a,t[8]=l.length,t[9]=o,t[10]=e):e=t[10],t[11]!==a||t[12]!==l.length||t[13]!==o?(s=()=>{let e=a+1;e===l.length?o(0):o(e)},t[11]=a,t[12]=l.length,t[13]=o,t[14]=s):s=t[14],c=(0,u.jsxs)("div",{className:dS,children:[(0,u.jsxs)("div",{className:"".concat(dS,"__navigation"),children:[(0,u.jsxs)("p",{className:"".concat(dS,"__locationText"),children:[(0,u.jsx)("strong",{children:i})," of ",(0,u.jsx)("strong",{children:l.length})]}),(0,u.jsxs)("div",{className:"".concat(dS,"__controls"),children:[(0,u.jsx)(ti,{"aria-label":r("general:previous"),buttonStyle:"none",onClick:e,type:"button",children:(0,u.jsx)(eW,{direction:"left"})}),(0,u.jsx)(ti,{"aria-label":r("general:next"),buttonStyle:"none",onClick:s,type:"button",children:(0,u.jsx)(eW,{direction:"right"})})]}),(0,u.jsx)(dj,{collection:n})]}),(0,u.jsx)(dk,{className:"".concat(dS,"__saveButtons")})]}),t[0]=a,t[1]=n,t[2]=l.length,t[3]=o,t[4]=r,t[5]=i,t[6]=c}else c=t[6];return c}function dk(e){var t,n,a,l,o;let r=(0,d.c)(12),{className:c}=e,{getEntityConfig:p}=(0,i.b)(),{t:h}=(0,s.d)(),{collectionSlug:f,hasPublishPermission:m,hasSavePermission:g,saveAllDocs:v}=df(),b;r[0]!==f||r[1]!==p?(b=p({collectionSlug:f}),r[0]=f,r[1]=p,r[2]=b):b=r[2];let x=b,y;r[3]!==c?(y=["".concat(dS,"__buttons"),c].filter(Boolean),r[3]=c,r[4]=y):y=r[4];let w=y.join(" "),C;return r[5]!==(null==x||null==(t=x.versions)?void 0:t.drafts)||r[6]!==m||r[7]!==g||r[8]!==v||r[9]!==h||r[10]!==w?(C=(0,u.jsxs)("div",{className:w,children:[(null==x||null==(n=x.versions)?void 0:n.drafts)&&g?(0,u.jsx)(ti,{buttonStyle:"secondary",onClick:()=>void v({overrides:{_status:"draft"}}),children:h("version:saveDraft")}):null,(null==x||null==(a=x.versions)?void 0:a.drafts)&&m?(0,u.jsx)(ti,{onClick:()=>void v({overrides:{_status:"published"}}),children:h("version:publish")}):null,(null==x||null==(l=x.versions)?void 0:l.drafts)||!g?null:(0,u.jsx)(ti,{onClick:()=>void v(),children:h("general:save")})]}),r[5]=null==x||null==(o=x.versions)?void 0:o.drafts,r[6]=m,r[7]=g,r[8]=v,r[9]=h,r[10]=w,r[11]=C):C=r[11],C}var dN="bulk-upload--discard-without-saving";function dE(){let e=(0,d.c)(9),{t:t}=(0,s.d)(),{closeModal:n}=t6(),{drawerSlug:a}=pv(),l;e[0]!==n?(l=()=>{n(dN)},e[0]=n,e[1]=l):l=e[1];let o=l,r;e[2]!==n||e[3]!==a?(r=()=>{n(a),n(dN)},e[2]=n,e[3]=a,e[4]=r):r=e[4];let i=r,c;return e[5]!==o||e[6]!==i||e[7]!==t?(c=(0,u.jsx)(at,{body:t("general:changesNotSaved"),cancelLabel:t("general:stayOnThisPage"),confirmLabel:t("general:leaveAnyway"),heading:t("general:leaveWithoutSaving"),modalSlug:dN,onCancel:o,onConfirm:i}),e[5]=o,e[6]=i,e[7]=t,e[8]=c):c=e[8],c}var dP=(0,o.createContext)({mostRecentUpdate:null,reportUpdate:e=>null}),dD=e=>{let t=(0,d.c)(3),{children:n}=e,[a,l]=(0,o.useState)(null),r;return t[0]!==n||t[1]!==a?(r=(0,u.jsx)(dP,{value:{mostRecentUpdate:a,reportUpdate:l},children:n}),t[0]=n,t[1]=a,t[2]=r):r=t[2],r},dO=()=>(0,o.use)(dP),dT="document-fields",dR=e=>{let{AfterFields:t,BeforeFields:n,Description:a,docPermissions:l,fields:r,forceSidebarWrap:i,readOnly:s,schemaPathSegments:c}=e,{hasSidebarFields:d,mainFields:p,sidebarFields:h}=(0,o.useMemo)(()=>r.reduce((e,t)=>((0,x.zj)(t)?(e.sidebarFields.push(t),e.mainFields.push(null),e.hasSidebarFields=!0):(e.mainFields.push(t),e.sidebarFields.push(null)),e),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[r]);return(0,u.jsxs)("div",{className:[dT,d?"".concat(dT,"--has-sidebar"):"".concat(dT,"--no-sidebar"),i&&"".concat(dT,"--force-sidebar-wrap")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(dT,"__main"),children:(0,u.jsxs)(n1,{className:"".concat(dT,"__edit"),children:[a?(0,u.jsx)("header",{className:"".concat(dT,"__header"),children:(0,u.jsx)("div",{className:"".concat(dT,"__sub-header"),children:a})}):null,n,(0,u.jsx)(pB,{className:"".concat(dT,"__fields"),fields:p,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s}),t]})}),d?(0,u.jsx)("div",{className:"".concat(dT,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(dT,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(dT,"__sidebar-fields"),children:(0,u.jsx)(pB,{fields:h,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s})})})}):null]})},dA={x:0,y:0,width:0,height:0,unit:"px"},dL=(e,t,n)=>Math.min(Math.max(e,t),n),dM=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")},dI=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function dF(e,t,n){return"%"===e.unit?{...dA,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function dB(e,t,n){return e.unit?"px"===e.unit?{...dA,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...dA,...e,unit:"px"}}function dz(e,t,n,a,l){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:l,c={...e},u=Math.min(o,a),d=Math.min(r,l),p=Math.min(i,a),h=Math.min(s,l);t&&(t>1?(d=(u=r?r*t:u)/t,p=i*t):(u=(d=o?o/t:d)*t,h=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let f=a-(c.x+c.width);f<0&&(c.x=Math.min(c.x,a-u),c.width+=f);let m=l-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,l-d),c.height+=m),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<d&&(("nw"===n||"ne"==n)&&(c.y-=d-c.height),c.height=d),c.width>p&&(("sw"===n||"nw"==n)&&(c.x-=p-c.width),c.width=p),c.height>h&&(("nw"===n||"ne"==n)&&(c.y-=h-c.height),c.height=h),t){let e=c.width/c.height;if(e<t){let e=Math.max(c.width/t,d);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){let e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}var dV={capture:!0,passive:!1},dU=class e extends o.PureComponent{get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:a,height:l}=e.getBoundingClientRect();return{x:t,y:n,width:a,height:l}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:a}=this.getBox();e&&a&&n(dB(t,e,a),dF(t,e,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,dV),this.document.addEventListener("pointerup",this.onDocPointerDone,dV),this.document.addEventListener("pointercancel",this.onDocPointerDone,dV),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,dV),this.document.removeEventListener("pointerup",this.onDocPointerDone,dV),this.document.removeEventListener("pointercancel",this.onDocPointerDone,dV),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),a=e.clientX-e.startClientX,l=e.clientY-e.startClientY;return n.x=dL(e.startCropX+a,0,t.width-n.width),n.y=dL(e.startCropY+l,0,t.height-n.height),n}getPointRegion(e,t,n,a){let l,{evData:o}=this,r=o.clientX-e.x,i=o.clientY-e.y,s;return s=a&&t?"nw"===t||"n"===t||"ne"===t:i<o.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:r<o.startCropX)?s?"nw":"sw":s?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=Math.min(n,e.width),o=Math.min(a,e.height);return t&&(l||o)?t>1?l?[l,l/t]:[o*t,o]:o?[o*t,o]:[l,l/t]:[l,o]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:a,maxHeight:l}=this.props,o=this.getBox(),[r,i]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight),s=this.makePixelCrop(o),c=this.getPointRegion(o,t.ord,r,i),u=t.ord||c,d=t.clientX-t.startClientX,p=t.clientY-t.startClientY;(r&&"nw"===u||"w"===u||"sw"===u)&&(d=Math.min(d,-r)),(i&&"nw"===u||"n"===u||"ne"===u)&&(p=Math.min(p,-i));let h={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(h.x=t.startCropX,h.width=d,n?h.height=h.width/n:h.height=Math.abs(p),h.y=t.startCropY-h.height):"se"===c?(h.x=t.startCropX,h.y=t.startCropY,h.width=d,n?h.height=h.width/n:h.height=p):"sw"===c?(h.x=t.startCropX+d,h.y=t.startCropY,h.width=Math.abs(d),n?h.height=h.width/n:h.height=p):"nw"===c&&(h.x=t.startCropX+d,h.width=Math.abs(d),n?(h.height=h.width/n,h.y=t.startCropY-h.height):(h.height=Math.abs(p),h.y=t.startCropY+p));let f=dz(h,n,c,o.width,o.height,r,i,a,l);return n||e.xyOrds.indexOf(u)>-1?s=f:e.xOrds.indexOf(u)>-1?(s.x=f.x,s.width=f.width):e.yOrds.indexOf(u)>-1&&(s.y=f.y,s.height=f.height),s.x=dL(s.x,0,o.width-s.width),s.y=dL(s.y,0,o.height-s.height),s}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:a,renderSelectionAddon:l,ruleOfThirds:r,crop:i}=this.props,s=this.getCropStyle();if(i)return o.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!a&&o.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},o.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),l&&o.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},l(this.state)),r&&o.createElement(o.Fragment,null,o.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),o.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return dB({...dA,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:a,crop:l,disabled:r,locked:i,style:s,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,p=l?this.createCropSelection():null,h=dM("ReactCrop",a,u&&"ReactCrop--active",r&&"ReactCrop--disabled",i&&"ReactCrop--locked",d&&"ReactCrop--new-crop",l&&e&&"ReactCrop--fixed-aspect",l&&n&&"ReactCrop--circular-crop",l&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&l&&!l.width&&!l.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return o.createElement("div",{ref:this.componentRef,className:h,style:s},o.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),p)}constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,o.createRef)(),this.mediaRef=(0,o.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,a=this.getBox();if(!t)return;let l=dB(t,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let o=e.target.dataset.ord,r=e.clientX,i=e.clientY,s=l.x,c=l.y;if(o){let t=e.clientX-a.x,n=e.clientY-a.y,u=0,d=0;"ne"===o||"e"==o?(u=t-(l.x+l.width),d=n-l.y,s=l.x,c=l.y+l.height):"se"===o||"s"===o?(u=t-(l.x+l.width),d=n-(l.y+l.height),s=l.x,c=l.y):"sw"===o||"w"==o?(u=t-l.x,d=n-(l.y+l.height),s=l.x+l.width,c=l.y):("nw"===o||"n"==o)&&(u=t-l.x,d=n-l.y,s=l.x+l.width,c=l.y+l.height),r=s+a.x+u,i=c+a.y+d}this.evData={startClientX:r,startClientY:i,startCropX:s,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!!o,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:a,keepSelection:l,onChange:o}=this.props,r=this.getBox();if(n||a||l&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.clientX-r.x,s=e.clientY-r.y,c={unit:"px",x:i,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:i,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(dB(c,r.width,r.height),dF(c,r.width,r.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t,{crop:n,disabled:a,onChange:l,onDragStart:o}=this.props,r=this.getBox();if(a||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));let{evData:i}=this;i.clientX=e.clientX,i.clientY=e.clientY,dI(n,t=i.isResize?this.resizeCrop():this.dragCrop())||l(dB(t,r.width,r.height),dF(t,r.width,r.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:a,onChange:l,onComplete:o}=this.props;if(a)return;let r=t.key,i=!1;if(!n)return;let s=this.getBox(),c=this.makePixelCrop(s),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===r?(c.x-=u,i=!0):"ArrowRight"===r?(c.x+=u,i=!0):"ArrowUp"===r?(c.y-=u,i=!0):"ArrowDown"===r&&(c.y+=u,i=!0),i){t.cancelable&&t.preventDefault(),c.x=dL(c.x,0,s.width-c.width),c.y=dL(c.y,0,s.height-c.height);let e=dB(c,s.width,s.height),n=dF(c,s.width,s.height);l(e,n),o&&o(e,n)}},this.onHandlerKeyDown=(t,n)=>{let{aspect:a=0,crop:l,disabled:o,minWidth:r=0,minHeight:i=0,maxWidth:s,maxHeight:c,onChange:u,onComplete:d}=this.props,p=this.getBox();if(o||!l||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,f=dz(function(e,t,n,a){let l={...e};return"ArrowLeft"===t?"nw"===a?(l.x-=n,l.y-=n,l.width+=n,l.height+=n):"w"===a?(l.x-=n,l.width+=n):"sw"===a?(l.x-=n,l.width+=n,l.height+=n):"ne"===a?(l.y+=n,l.width-=n,l.height-=n):"e"===a?l.width-=n:"se"===a&&(l.width-=n,l.height-=n):"ArrowRight"===t&&("nw"===a?(l.x+=n,l.y+=n,l.width-=n,l.height-=n):"w"===a?(l.x+=n,l.width-=n):"sw"===a?(l.x+=n,l.width-=n,l.height-=n):"ne"===a?(l.y-=n,l.width+=n,l.height+=n):"e"===a?l.width+=n:"se"===a&&(l.width+=n,l.height+=n)),"ArrowUp"===t?"nw"===a?(l.x-=n,l.y-=n,l.width+=n,l.height+=n):"n"===a?(l.y-=n,l.height+=n):"ne"===a?(l.y-=n,l.width+=n,l.height+=n):"sw"===a?(l.x+=n,l.width-=n,l.height-=n):"s"===a?l.height-=n:"se"===a&&(l.width-=n,l.height-=n):"ArrowDown"===t&&("nw"===a?(l.x+=n,l.y+=n,l.width-=n,l.height-=n):"n"===a?(l.y+=n,l.height-=n):"ne"===a?(l.y+=n,l.width-=n,l.height-=n):"sw"===a?(l.x-=n,l.width+=n,l.height+=n):"s"===a?l.height+=n:"se"===a&&(l.width+=n,l.height+=n)),l}(dB(l,p.width,p.height),t.key,h,n),a,n,p.width,p.height,r,i,s,c);if(!dI(l,f)){let e=dF(f,p.width,p.height);u(f,e),d&&d(f,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:a,onDragEnd:l}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,l&&l(e),a&&a(dB(t,o.width,o.height),dF(t,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}};dU.xOrds=["e","w"],dU.yOrds=["n","s"],dU.xyOrds=["nw","ne","se","sw"],dU.nudgeStep=1,dU.nudgeStepMedium=10,dU.nudgeStepLarge=100,dU.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var dH="edit-upload",dq=e=>{let{name:t,onChange:n,ref:a,value:l}=e;return(0,u.jsxs)("div",{className:"".concat(dH,"__input"),children:[t,(0,u.jsx)("input",{name:t,onChange:e=>n(e.target.value),ref:a,type:"number",value:l})]})},dW={height:100,unit:"%",width:100,x:0,y:0},dY=e=>{let{fileName:t,fileSrc:n,imageCacheTag:a,initialCrop:l,initialFocalPoint:r,onSave:i,showCrop:c,showFocalPoint:d}=e,{closeModal:p}=t6(),{t:h}=(0,s.d)(),[f,m]=(0,o.useState)(()=>({...dW,...l||{}})),g={x:50,y:50},[v,b]=(0,o.useState)(()=>({...g,...r})),[x,y]=(0,o.useState)(!1),[w,C]=(0,o.useState)(0),[j,S]=(0,o.useState)(0),_=(0,o.useRef)(void 0),k=(0,o.useRef)(void 0),N=(0,o.useRef)(void 0),E=(0,o.useRef)(null),P=(0,o.useRef)(null),[D,O]=(0,o.useState)(!1),T=e=>{C(e.currentTarget.naturalHeight),S(e.currentTarget.naturalWidth),O(!0)},R=e=>{let{dimension:t,value:n}=e,a=parseInt(n);if("width"===t&&a>=j||"height"===t&&a>=w)return null;let l=a/("width"===t?j:w)*100;if(100===l||0===l)return null;m({...f,[t]:l})},A=e=>{let{coordinate:t,value:n}=e,a=parseInt(n);a>=0&&a<=100&&b(e=>({...e,[t]:a}))},L=o.useCallback(e=>{let{x:t,y:n}=e;b({x:t,y:n}),y(!1)},[]),M=a?"".concat(n,"?").concat(encodeURIComponent(a)):n;return(0,u.jsxs)("div",{className:dH,children:[(0,u.jsxs)("div",{className:"".concat(dH,"__header"),children:[(0,u.jsxs)("h2",{title:"".concat(h("general:editing")," ").concat(t),children:[h("general:editing")," ",t]}),(0,u.jsxs)("div",{className:"".concat(dH,"__actions"),children:[(0,u.jsx)(ti,{"aria-label":h("general:cancel"),buttonStyle:"secondary",className:"".concat(dH,"__cancel"),onClick:()=>p(d8),children:h("general:cancel")}),(0,u.jsx)(ti,{"aria-label":h("general:applyChanges"),buttonStyle:"primary",className:"".concat(dH,"__save"),disabled:!D,onClick:()=>{var e,t,n,a;"function"==typeof i&&i({crop:f||void 0,focalPoint:v,heightInPixels:Number(null!=(n=null==E||null==(e=E.current)?void 0:e.value)?n:w),widthInPixels:Number(null!=(a=null==P||null==(t=P.current)?void 0:t.value)?a:j)}),p(d8)},children:h("general:applyChanges")})]})]}),(0,u.jsxs)("div",{className:"".concat(dH,"__toolWrap"),children:[(0,u.jsx)("div",{className:"".concat(dH,"__crop"),children:(0,u.jsxs)("div",{className:"".concat(dH,"__focal-wrapper"),ref:_,style:{aspectRatio:"".concat(j/w)},children:[c?(0,u.jsx)(dU,{className:"".concat(dH,"__reactCrop"),crop:f,onChange:(e,t)=>m(t),onComplete:()=>y(!0),renderSelectionAddon:()=>(0,u.jsx)("div",{className:"".concat(dH,"__crop-window"),ref:N}),children:(0,u.jsx)("img",{alt:h("upload:setCropArea"),onLoad:T,ref:k,src:M})}):(0,u.jsx)("img",{alt:h("upload:setFocalPoint"),onLoad:T,ref:k,src:M}),d&&(0,u.jsx)(dK,{boundsRef:c?N:k,checkBounds:!!c&&x,className:"".concat(dH,"__focalPoint"),containerRef:_,initialPosition:v,onDragEnd:L,setCheckBounds:!!c&&y,children:(0,u.jsx)(eG,{})})]})}),(c||d)&&(0,u.jsxs)("div",{className:"".concat(dH,"__sidebar"),children:[c&&(0,u.jsxs)("div",{className:"".concat(dH,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(dH,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:crop")}),(0,u.jsx)(ti,{buttonStyle:"none",className:"".concat(dH,"__reset"),onClick:()=>m({height:100,unit:"%",width:100,x:0,y:0}),children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(dH,"__description"),children:h("upload:cropToolDescription")}),(0,u.jsxs)("div",{className:"".concat(dH,"__inputsWrap"),children:[(0,u.jsx)(dq,{name:"".concat(h("upload:width")," (px)"),onChange:e=>R({dimension:"width",value:e}),ref:P,value:(f.width/100*j).toFixed(0)}),(0,u.jsx)(dq,{name:"".concat(h("upload:height")," (px)"),onChange:e=>R({dimension:"height",value:e}),ref:E,value:(f.height/100*w).toFixed(0)})]})]}),d&&(0,u.jsxs)("div",{className:"".concat(dH,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(dH,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:focalPoint")}),(0,u.jsx)(ti,{buttonStyle:"none",className:"".concat(dH,"__reset"),onClick:()=>{let e=_.current.getBoundingClientRect(),t=c?N.current.getBoundingClientRect():k.current.getBoundingClientRect();b({x:(t.left-e.left+t.width/2)/e.width*100,y:(t.top-e.top+t.height/2)/e.height*100})},children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(dH,"__description"),children:h("upload:focalPointDescription")}),(0,u.jsxs)("div",{className:"".concat(dH,"__inputsWrap"),children:[(0,u.jsx)(dq,{name:"X %",onChange:e=>A({coordinate:"x",value:e}),value:v.x.toFixed(0)}),(0,u.jsx)(dq,{name:"Y %",onChange:e=>A({coordinate:"y",value:e}),value:v.y.toFixed(0)})]})]})]})]})]})},dK=e=>{let{boundsRef:t,checkBounds:n,children:a,className:l,containerRef:r,initialPosition:i={x:50,y:50},onDragEnd:s,setCheckBounds:c}=e,[d,p]=(0,o.useState)({x:i.x,y:i.y}),[h,f]=(0,o.useState)(!1),m=(0,o.useRef)(void 0),g=o.useCallback((e,n,a)=>{let l=r.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),i=null!=e?e:o.left,s=null!=n?n:o.top,c=i<o.left||i>o.right,u=s<o.top||s>o.bottom,d=(i-l.left)/l.width*100,p=(s-l.top)/l.height*100,h=(o.left-l.left+o.width/2)/l.width*100,m=(o.top-l.top+o.height/2)/l.height*100;return(c||u)&&(f(!1),i<o.left?d=(o.left-l.left)/l.width*100:i>o.right&&(d=(l.width-(l.right-o.right))/l.width*100),s<o.top?p=(o.top-l.top)/l.height*100:s>o.bottom&&(p=(l.height-(l.bottom-o.bottom))/l.height*100),a&&(d=c?h:d,p=u?m:p)),{x:d,y:p}},[t,r]);return o.useEffect(()=>{if(!(h||!m.current)&&n){let{height:e,left:t,top:n,width:a}=m.current.getBoundingClientRect(),{x:l,y:o}=g(t+a/2,n+e/2,!0);s({x:l,y:o}),p({x:l,y:o}),c(!1);return}},[g,h,n,c,d.x,d.y,s]),o.useEffect(()=>{p({x:i.x,y:i.y})},[i.x,i.y]),(0,u.jsxs)("div",{className:["".concat(dH,"__draggable-container"),h&&"".concat(dH,"__draggable-container--dragging")].filter(Boolean).join(" "),onMouseMove:e=>{if(!h)return null;let{x:t,y:n}=g(e.clientX,e.clientY);p({x:t,y:n})},children:[(0,u.jsx)("button",{className:["".concat(dH,"__draggable"),l].filter(Boolean).join(" "),onMouseDown:e=>{e.preventDefault(),f(!0)},onMouseUp:()=>{f(!1),s(d)},ref:m,style:{left:"".concat(d.x,"%"),top:"".concat(d.y,"%")},type:"button",children:a}),(0,u.jsx)("div",{})]})},dG="file-details-draggable",dX=e=>{let t,n=(0,d.c)(20),{collectionSlug:a,doc:l,hideRemoveFile:o,imageCacheTag:r,isSortable:i,removeItem:s,rowIndex:c,uploadConfig:p}=e,{id:h,filename:f,thumbnailURL:m,url:g}=l,v;n[0]!==a||n[1]!==h?(v={id:h,collectionSlug:a},n[0]=a,n[1]=h,n[2]=v):v=n[2];let[b,x]=cj(v),y;return n[3]!==b||n[4]!==x||n[5]!==a||n[6]!==l||n[7]!==f||n[8]!==o||n[9]!==r||n[10]!==i||n[11]!==s||n[12]!==c||n[13]!==m||n[14]!==p||n[15]!==g?(y=e=>(0,u.jsxs)("div",{className:[dG,e&&i&&"".concat(dG,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:[(0,u.jsxs)("div",{className:"".concat(dG,"--drag-wrapper"),children:[i&&e&&(0,u.jsx)("div",{className:"".concat(dG,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(lB,{})}),(0,u.jsx)(cL,{className:"".concat(dG,"__thumbnail"),collectionSlug:a,doc:l,fileSrc:m||g,imageCacheTag:r,uploadConfig:p})]}),(0,u.jsx)("div",{className:"".concat(dG,"__main-detail"),children:f}),(0,u.jsxs)("div",{className:"".concat(dG,"__actions"),children:[(0,u.jsx)(b,{}),(0,u.jsx)(x,{children:(0,u.jsx)(eY,{})}),!o&&s&&(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(dG,"__remove"),icon:"x",iconStyle:"none",onClick:()=>s(c),round:!0})]})]}),n[3]=b,n[4]=x,n[5]=a,n[6]=l,n[7]=f,n[8]=o,n[9]=r,n[10]=i,n[11]=s,n[12]=c,n[13]=m,n[14]=p,n[15]=g,n[16]=y):y=n[16],n[17]!==h||n[18]!==y?(t=(0,u.jsx)(tP,{id:h,children:y},h),n[17]=h,n[18]=y,n[19]=t):t=n[19],t},dQ=e=>{let{defaultMessage:t,successMessage:n,value:a}=e,l=(0,o.useRef)(null),[r,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),{t:p}=(0,s.d)();return a?(0,u.jsxs)("button",{className:"copy-to-clipboard",onClick:()=>{l&&l.current&&(l.current.select(),l.current.setSelectionRange(0,a.length+1),document.execCommand("copy"),i(!0))},onMouseEnter:()=>{d(!0),i(!1)},onMouseLeave:()=>{d(!1),i(!1)},type:"button",children:[(0,u.jsx)(lL,{}),(0,u.jsxs)(tl,{delay:r?0:void 0,show:c||r,children:[r&&(null!=n?n:p("general:copied")),!r&&(null!=t?t:p("general:copy"))]}),(0,u.jsx)("textarea",{readOnly:!0,ref:l,tabIndex:-1,value:a})]}):null},d$="file-meta",dZ=e=>{let{filename:t,filesize:n,height:a,mimeType:l,url:r,width:i}=e;return(0,u.jsxs)("div",{className:d$,children:[(0,u.jsxs)("div",{className:"".concat(d$,"__url"),children:[(0,u.jsx)("a",{href:r,rel:"noopener noreferrer",target:"_blank",children:t}),(0,u.jsx)(dQ,{defaultMessage:"Copy URL",value:r})]}),(0,u.jsxs)("div",{className:"".concat(d$,"__size-type"),children:[(0,I.B)(n),"number"==typeof i&&"number"==typeof a&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",i,"x",a]}),l&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",l]})]})]})},dJ="file-details",d0=e=>{var t;let{customUploadActions:n,doc:a,enableAdjustments:l,handleRemove:o,hasImageSizes:r,hideRemoveFile:i,imageCacheTag:s,uploadConfig:c}=e,{filename:d,filesize:p,height:h,mimeType:f,thumbnailURL:m,url:g,width:v}=a,b=null==(t=c.displayPreview)||t;return(0,u.jsx)("div",{className:dJ,children:(0,u.jsxs)("header",{children:[b&&(0,u.jsx)(cL,{className:"".concat(dJ,"__thumbnail"),doc:a,fileSrc:m||g,imageCacheTag:s,uploadConfig:c}),(0,u.jsxs)("div",{className:"".concat(dJ,"__main-detail"),children:[(0,u.jsx)(dZ,{filename:d,filesize:p,height:h,mimeType:f,url:g,width:v}),(l||n)&&(0,u.jsx)(pe,{customActions:n,enableAdjustments:!!l,enablePreviewSizes:r&&a.filename,mimeType:f})]}),!i&&o&&(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(dJ,"__remove"),icon:"x",iconStyle:"with-border",onClick:o,round:!0})]})})},d1=e=>{let{hasMany:t}=e;return t?(0,u.jsx)(dX,{...e}):(0,u.jsx)(d0,{...e})},d2="preview-sizes",d3=(e,t)=>{if(!t||0===t.length)return e;let n={};return t.forEach(t=>{let{name:a}=t;e[a]&&(n[a]=e[a])}),n},d6=e=>{let{name:t,active:n,meta:a,onClick:l,previewSrc:o}=e;return(0,u.jsxs)("div",{className:["".concat(d2,"__sizeOption"),n&&"".concat(d2,"--selected")].filter(Boolean).join(" "),onClick:"function"==typeof l?l:void 0,onKeyDown:e=>{"function"==typeof l&&"Enter"===e.key&&l()},role:"button",tabIndex:0,children:[(0,u.jsx)("div",{className:"".concat(d2,"__image"),children:(0,u.jsx)("img",{alt:a.filename,src:o})}),(0,u.jsxs)("div",{className:"".concat(d2,"__sizeMeta"),children:[(0,u.jsx)("div",{className:"".concat(d2,"__sizeName"),children:t}),(0,u.jsx)(dZ,{...a})]})]})},d5=e=>{let{doc:t,imageCacheTag:n,uploadConfig:a}=e,{imageSizes:l}=a,{sizes:r}=t,[i,s]=(0,o.useState)(()=>d3(r,l)),[c,d]=(0,o.useState)(null),p=e=>e.filename?e.url?"".concat(e.url).concat(n?"?".concat(encodeURIComponent(n)):""):void 0:null;(0,o.useEffect)(()=>{s(d3(r,l))},[r,l,n]);let h=p(c?t.sizes[c]:t),f=(0,o.useMemo)(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return(0,u.jsxs)("div",{className:d2,children:[(0,u.jsxs)("div",{className:"".concat(d2,"__imageWrap"),children:[(0,u.jsxs)("div",{className:"".concat(d2,"__meta"),children:[(0,u.jsx)("div",{className:"".concat(d2,"__sizeName"),children:c||m}),(0,u.jsx)(dZ,{...c?i[c]:f})]}),(0,u.jsx)("img",{alt:t.filename,className:"".concat(d2,"__preview"),src:h})]}),(0,u.jsx)("div",{className:"".concat(d2,"__listWrap"),children:(0,u.jsxs)("div",{className:"".concat(d2,"__list"),children:[(0,u.jsx)(d6,{active:!c,meta:f,name:m,onClick:()=>d(null),previewSrc:p(t)}),Object.entries(i).map(e=>{let[t,n]=e,a=c===t,l=p(n);return l?(0,u.jsx)(d6,{active:a,meta:n,name:t,onClick:()=>d(t),previewSrc:l},t):null})]})})]})},d4="file-field",d8="edit-upload",d9="preview-sizes",d7=e=>!!e||void 0===e||"A file is required.",pe=e=>{let t=(0,d.c)(9),{customActions:n,enableAdjustments:a,enablePreviewSizes:l,mimeType:r}=e,{t:i}=(0,s.d)(),c,p;if(t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==r||t[4]!==i){p=Symbol.for("react.early_return_sentinel");e:{let e,s=(0,N.w)(r)&&"image/svg+xml"!==r&&"image/jxl"!==r;if(!s&&(!n||0===n.length)){p=null;break e}t[7]!==n?(e=n&&n.map(pn),t[7]=n,t[8]=e):e=t[8],c=(0,u.jsxs)("div",{className:"".concat(d4,"__upload-actions"),children:[s&&(0,u.jsxs)(o.Fragment,{children:[l&&(0,u.jsx)(n5,{className:"".concat(d4,"__previewSizes"),slug:d9,children:i("upload:previewSizes")}),a&&(0,u.jsx)(n5,{className:"".concat(d4,"__edit"),slug:d8,children:i("upload:editImage")})]}),e]})}t[0]=n,t[1]=a,t[2]=l,t[3]=r,t[4]=i,t[5]=c,t[6]=p}else c=t[5],p=t[6];return p!==Symbol.for("react.early_return_sentinel")?p:c},pt=e=>{var t,n,a,l,r,c;let{collectionSlug:d,customActions:p,initialState:h,onChange:f,uploadConfig:m}=e,{config:{routes:{api:g},serverURL:v}}=(0,i.b)(),{t:b}=(0,s.d)(),{setModified:x}=eC(),{resetUploadEdits:y,updateUploadEdits:w,uploadEdits:C}=lc(),{id:j,docPermissions:S,savedDocumentData:_,setUploadStatus:k}=lf(),E=ek(),{errorMessage:P,setValue:D,showError:O,value:T}=ly({path:"file",validate:d7}),[R,A]=(0,o.useState)(null),[L,M]=(0,o.useState)(!1),[I,F]=(0,o.useState)((null==T?void 0:T.name)||""),[B,z]=(0,o.useState)(!1),[V,U]=(0,o.useState)(""),H=(0,o.useRef)(null),q=(0,o.useRef)(null),W="object"==typeof(null==m?void 0:m.pasteURL)&&(null==(t=m.pasteURL.allowList)?void 0:t.length)>0,Y=(0,o.useCallback)(e=>{e instanceof File&&A(URL.createObjectURL(e)),D(e),z(!1),"function"==typeof f&&f(e)},[f,D]),K=(e,t)=>new File([e],t,{type:e.type,lastModified:e.lastModified}),G=o.useCallback(e=>{let t=e.target.value;T&&(Y(K(T,t)),F(t))},[Y,T]),X=(0,o.useCallback)(e=>{Y(null==e?void 0:e[0])},[Y]),Q=(0,o.useCallback)(()=>{M(!0),Y(null),A(""),U(""),y(),z(!1)},[Y,y]),$=(0,o.useCallback)(e=>{x(!0),w(e)},[x,w]),Z=async()=>{if(!(!V||(null==m?void 0:m.pasteURL)===!1)){k("uploading");try{let e=await fetch(V);if(!e.ok)throw Error("Fetch failed with status: ".concat(e.status));let t=await e.blob(),n=decodeURIComponent(V.split("/").pop()||""),a=new File([t],n,{type:t.type});Y(a),k("idle");return}catch(e){if(!W){nG.error("Failed to fetch the file."),k("failed");return}}try{let e="/".concat(d,"/paste-url").concat(j?"/".concat(j,"?"):"?","src=").concat(encodeURIComponent(V)),t=await fetch("".concat(v).concat(g).concat(e));if(!t.ok)throw Error("Fetch failed with status: ".concat(t.status));let n=await t.blob(),a=decodeURIComponent(V.split("/").pop()||""),l=new File([n],a,{type:n.type});Y(l),k("idle")}catch(e){nG.error("The provided URL is not allowed."),k("failed")}}};(0,o.useEffect)(()=>{var e;(null==h||null==(e=h.file)?void 0:e.value)instanceof File&&(A(URL.createObjectURL(h.file.value)),M(!1))},[h]),(0,o.useEffect)(()=>{B&&H.current},[B]),(0,o.useEffect)(()=>{E&&M(!1)},[E]);let J=(null==S?void 0:S.update)&&"delete"in S&&(null==S?void 0:S.delete),ee=(null==m||null==(n=m.imageSizes)?void 0:n.length)>0,et=!!(null==m?void 0:m.resizeOptions),en=(null==m?void 0:m.focalPoint)===!0,{crop:ea=!0,focalPoint:el=!0}=m,eo=el&&(ee||et||en),er=null==(a=m.mimeTypes)?void 0:a.join(", "),ei=(null==m?void 0:m.cacheTags)&&(null==_?void 0:_.updatedAt);return!m.hideFileInputOnCreate||(null==_?void 0:_.filename)?(0,u.jsxs)("div",{className:[l_,d4].filter(Boolean).join(" "),children:[(0,u.jsx)(tL,{message:P,showError:O}),_&&_.filename&&!L&&(0,u.jsx)(d1,{collectionSlug:d,customUploadActions:p,doc:_,enableAdjustments:ea||eo,handleRemove:J?Q:void 0,hasImageSizes:ee,hideRemoveFile:m.hideRemoveFile,imageCacheTag:ei,uploadConfig:m}),(!m.hideFileInputOnCreate&&!(null==_?void 0:_.filename)||L)&&(0,u.jsxs)("div",{className:"".concat(d4,"__upload"),children:[!T&&!B&&(0,u.jsx)(dt,{onChange:X,children:(0,u.jsxs)("div",{className:"".concat(d4,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(d4,"__dropzoneButtons"),children:[(0,u.jsx)(ti,{buttonStyle:"pill",onClick:()=>{q.current&&q.current.click()},size:"small",children:b("upload:selectFile")}),(0,u.jsx)("input",{accept:er,"aria-hidden":"true",className:"".concat(d4,"__hidden-input"),hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&X(e.target.files)},ref:q,type:"file"}),(null==m?void 0:m.pasteURL)!==!1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(d4,"__orText"),children:b("general:or")}),(0,u.jsx)(ti,{buttonStyle:"pill",onClick:()=>{z(!0)},size:"small",children:b("upload:pasteURL")})]})]}),(0,u.jsxs)("p",{className:"".concat(d4,"__dragAndDropText"),children:[b("general:or")," ",b("upload:dragAndDrop")]})]})}),B&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(d4,"__remote-file-wrap"),children:[(0,u.jsx)("input",{className:"".concat(d4,"__remote-file"),onChange:e=>{U(e.target.value)},ref:H,type:"text",value:V}),(0,u.jsx)("div",{className:"".concat(d4,"__add-file-wrap"),children:(0,u.jsx)("button",{className:"".concat(d4,"__add-file"),onClick:()=>{Z()},type:"button",children:b("upload:addFile")})})]}),(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(d4,"__remove"),icon:"x",iconStyle:"with-border",onClick:()=>{z(!1)},round:!0,tooltip:b("general:cancel")})]}),T&&R&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(d4,"__thumbnail-wrap"),children:(0,u.jsx)(cL,{collectionSlug:d,fileSrc:(0,N.w)(T.type)?R:null})}),(0,u.jsxs)("div",{className:"".concat(d4,"__file-adjustments"),children:[(0,u.jsx)("input",{className:"".concat(d4,"__filename"),onChange:G,type:"text",value:I||T.name}),(0,u.jsx)(pe,{customActions:p,enableAdjustments:ea||eo,enablePreviewSizes:ee&&(null==_?void 0:_.filename)&&!L,mimeType:T.type})]}),(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(d4,"__remove"),icon:"x",iconStyle:"with-border",onClick:Q,round:!0,tooltip:b("general:cancel")})]})]}),(T||(null==_?void 0:_.filename))&&(0,u.jsx)(tI,{children:(0,u.jsx)(n4,{Header:null,slug:d8,children:(0,u.jsx)(dY,{fileName:(null==T?void 0:T.name)||(null==_?void 0:_.filename),fileSrc:(null==_?void 0:_.url)||R,imageCacheTag:ei,initialCrop:null!=(c=null==C?void 0:C.crop)?c:void 0,initialFocalPoint:{x:(null==C||null==(l=C.focalPoint)?void 0:l.x)||(null==_?void 0:_.focalX)||50,y:(null==C||null==(r=C.focalPoint)?void 0:r.y)||(null==_?void 0:_.focalY)||50},onSave:$,showCrop:ea,showFocalPoint:eo})})}),_&&ee&&(0,u.jsx)(n4,{className:"".concat(d4,"__previewDrawer"),hoverTitle:!0,slug:d9,title:b("upload:sizesFor",{label:_.filename}),children:(0,u.jsx)(d5,{doc:_,imageCacheTag:ei,uploadConfig:m})})]}):null};function pn(e,t){return(0,u.jsx)(o.Fragment,{children:e},t)}function pa(e){let{submitted:t}=e,{action:n,collectionSlug:a,docPermissions:l,getDocPreferences:r,hasSavePermission:s,initialState:c,isEditing:d,isInitializing:p,Upload:h}=lf(),{onSave:m}=cv(),{getFormState:v}=s5(),{config:{routes:{admin:b}},getEntityConfig:x}=(0,i.b)(),y=o.useRef(null),w=x({collectionSlug:a}),C=(0,f.useRouter)(),j=tF(),S=(0,f.useSearchParams)(),{reportUpdate:_}=dO(),{resetUploadEdits:k}=lc(),{startRouteTransition:N}=eF(),E=S.get("locale"),P=w.slug,[D]=o.useState(P),O=(0,o.useCallback)(e=>{var t,n;if(_({entitySlug:P,updatedAt:(null==e||null==(t=e.result)?void 0:t.updatedAt)||new Date().toISOString()}),"function"==typeof m&&m({...e,operation:"create"}),!d&&j<2){let t=(0,g.Q)({adminRoute:b,path:"/collections/".concat(P,"/").concat(null==e||null==(n=e.doc)?void 0:n.id).concat(E?"?locale=".concat(E):"")});N(()=>C.push(t))}else k()},[b,P,j,d,E,m,_,k,C,N]),T=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cf(y),o=await r(),{state:i}=await v({collectionSlug:P,docPermissions:l,docPreferences:o,formState:t,operation:"create",schemaPath:D,signal:a.signal,skipValidation:!n});return y.current=null,i},[P,D,r,v,l]);return(0,o.useEffect)(()=>{let e=y.current;return()=>{ch(e)}},[]),(0,u.jsx)(lb,{operation:"create",children:(0,u.jsx)(pg,{children:(0,u.jsxs)(uK,{action:n,className:"".concat("collection-edit","__form"),disabled:p||!s,initialState:p?void 0:c,isInitializing:p,method:"POST",onChange:[T],onSuccess:O,submitted:t,children:[(0,u.jsx)(dR,{BeforeFields:(0,u.jsx)(o.Fragment,{children:h||(0,u.jsx)(pt,{collectionSlug:w.slug,initialState:c,uploadConfig:w.upload})}),docPermissions:l,fields:w.fields,schemaPathSegments:[w.slug]}),(0,u.jsx)(po,{}),(0,u.jsx)(pl,{})]})})})}function pl(){let{getFields:e}=eC(),{getFormDataRef:t}=df();return o.useEffect(()=>{t.current=e},[e,t]),null}function po(){let{docConfig:e}=lf(),{activeIndex:t,setFormTotalErrorCount:n}=df(),a=o.useRef(0),l=o.useCallback(e=>{e!==a.current&&(n({errorCount:e,index:t}),a.current=e)},[t,n]);return e?(0,u.jsx)(ov,{fields:e.fields,path:[],setErrorCount:l}):null}var pr="bulk-upload-drawer--add-more-files",pi="file-selections";function ps(){let e=(0,d.c)(36),{activeIndex:t,addFiles:n,forms:a,isInitializing:l,removeFile:r,setActiveIndex:i,thumbnailUrls:c,totalErrorCount:p}=df(),{initialFiles:h,maxFiles:f}=pv(),{i18n:m,t:g}=(0,s.d)(),{closeModal:v,openModal:b}=t6(),[x,y]=o.useState(!1),{breakpoints:w}=e6(),C;e[0]!==r?(C=e=>{r(e)},e[0]=r,e[1]=C):C=e[1];let j=C,S;e[2]!==n||e[3]!==v?(S=e=>{n(e),v(pr)},e[2]=n,e[3]=v,e[4]=S):S=e[4];let _=S,k=l?h.length:a.length,E=x&&"".concat(pi,"__showingFiles"),P;e[5]!==E?(P=[pi,E].filter(Boolean),e[5]=E,e[6]=P):P=e[6];let D=P.join(" "),O;if(e[7]!==t||e[8]!==w.m||e[9]!==v||e[10]!==a||e[11]!==_||e[12]!==j||e[13]!==m||e[14]!==h||e[15]!==l||e[16]!==f||e[17]!==b||e[18]!==i||e[19]!==x||e[20]!==g||e[21]!==D||e[22]!==c||e[23]!==p||e[24]!==k){let n,o,r;e[26]===Symbol.for("react.memo_cache_sentinel")?(n=()=>y(pu),e[26]=n):n=e[26],e[27]!==v?(o=()=>v(pr),e[27]=v,e[28]=o):o=e[28],e[29]!==t||e[30]!==j||e[31]!==m||e[32]!==i||e[33]!==g||e[34]!==c?(r=(e,n)=>{var a;let{errorCount:l,formState:o}=e,r=(null==o||null==(a=o.file)?void 0:a.value)||{};return(0,u.jsxs)("div",{className:["".concat(pi,"__fileRowContainer"),n===t&&"".concat(pi,"__fileRowContainer--active"),l&&l>0&&"".concat(pi,"__fileRowContainer--error")].filter(Boolean).join(" "),children:[(0,u.jsxs)("button",{className:"".concat(pi,"__fileRow"),onClick:()=>i(n),type:"button",children:[(0,u.jsx)(cL,{className:"".concat(pi,"__thumbnail"),fileSrc:(0,N.w)(r.type)?c[n]:null}),(0,u.jsx)("div",{className:"".concat(pi,"__fileDetails"),children:(0,u.jsx)("p",{className:"".concat(pi,"__fileName"),title:r.name,children:r.name||g("upload:noFile")})}),r instanceof File?(0,u.jsx)("p",{className:"".concat(pi,"__fileSize"),children:function(e){let t=e.size,n=0===t?0:Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(+(n>1))+" "+["B","kB","MB","GB","TB"][n]}(r)}):null,(0,u.jsx)("div",{className:"".concat(pi,"__remove ").concat(pi,"__remove--underlay"),children:(0,u.jsx)(s.a,{})}),l?(0,u.jsx)(tT,{className:"".concat(pi,"__errorCount"),count:l,i18n:m}):null]}),(0,u.jsx)("button",{"aria-label":g("general:remove"),className:"".concat(pi,"__remove ").concat(pi,"__remove--overlay"),onClick:()=>j(n),type:"button",children:(0,u.jsx)(s.a,{})})]},n)},e[29]=t,e[30]=j,e[31]=m,e[32]=i,e[33]=g,e[34]=c,e[35]=r):r=e[35],O=(0,u.jsxs)("div",{className:D,children:[w.m&&x?(0,u.jsx)("div",{className:"".concat(pi,"__mobileBlur")}):null,(0,u.jsxs)("div",{className:"".concat(pi,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(pi,"__headerTopRow"),children:[(0,u.jsxs)("div",{className:"".concat(pi,"__header__text"),children:[(0,u.jsx)(tT,{count:p,i18n:m,withMessage:!0}),(0,u.jsx)("p",{children:(0,u.jsxs)("strong",{title:"".concat(k," ").concat(g(k>1?"upload:filesToUpload":"upload:fileToUpload")),children:[k," ",g(k>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),(0,u.jsxs)("div",{className:"".concat(pi,"__header__actions"),children:["number"!=typeof f||k<f?(0,u.jsx)(l$,{className:"".concat(pi,"__header__addFile"),onClick:()=>b(pr),children:g("upload:addFile")}):null,(0,u.jsxs)(ti,{buttonStyle:"transparent",className:"".concat(pi,"__toggler"),onClick:n,children:[(0,u.jsx)("span",{className:"".concat(pi,"__toggler__label"),children:(0,u.jsxs)("strong",{title:"".concat(k," ").concat(g(k>1?"upload:filesToUpload":"upload:fileToUpload")),children:[k," ",g(k>1?"upload:filesToUpload":"upload:fileToUpload")]})}),(0,u.jsx)(eW,{direction:x?"down":"up"})]}),(0,u.jsx)(n4,{gutter:!1,Header:null,slug:pr,children:(0,u.jsx)(dr,{onCancel:o,onDrop:_})})]})]}),(0,u.jsx)("div",{className:"".concat(pi,"__header__mobileDocActions"),children:(0,u.jsx)(dk,{})})]}),(0,u.jsx)("div",{className:"".concat(pi,"__animateWrapper"),children:(0,u.jsx)(lV,{height:!w.m||x?"auto":0,children:(0,u.jsxs)("div",{className:"".concat(pi,"__filesContainer"),children:[l&&0===a.length&&h.length>0?Array.from(h).map(pc):null,a.map(r)]})})})]}),e[7]=t,e[8]=w.m,e[9]=v,e[10]=a,e[11]=_,e[12]=j,e[13]=m,e[14]=h,e[15]=l,e[16]=f,e[17]=b,e[18]=i,e[19]=x,e[20]=g,e[21]=D,e[22]=c,e[23]=p,e[24]=k,e[25]=O}else O=e[25];return O}function pc(e,t){return(0,u.jsx)(i.d,{animationDelay:"calc(".concat(t," * 60ms)"),height:"35px"},t)}function pu(e){return!e}var pd="bulk-upload--file-manager";function pp(){let e=(0,d.c)(16),{activeIndex:t,collectionSlug:n,docPermissions:a,documentSlots:l,forms:o,hasPublishPermission:r,hasSavePermission:c,hasSubmitted:h}=df(),f=o[t],{getEntityConfig:m}=(0,i.b)(),{i18n:g}=(0,s.d)(),{user:v}=as(),{openModal:b}=t6(),x;if(e[0]!==f||e[1]!==t||e[2]!==n||e[3]!==a||e[4]!==l||e[5]!==o.length||e[6]!==m||e[7]!==r||e[8]!==c||e[9]!==h||e[10]!==g||e[11]!==b||e[12]!==v){let i=m({collectionSlug:n}),s;e[14]!==b?(s=()=>b(dN),e[14]=b,e[15]=s):s=e[15],x=(0,u.jsxs)("div",{className:pd,children:[(0,u.jsx)(ps,{}),(0,u.jsxs)("div",{className:"".concat(pd,"__editView"),children:[(0,u.jsx)(da,{onClose:s,title:(0,p.sC)(i.labels.singular,g)}),f?(0,u.jsxs)(lg,{collectionSlug:n,currentEditor:v,docPermissions:a,hasPublishedDoc:!1,hasPublishPermission:r,hasSavePermission:c,id:null,initialData:(0,T.r)(f.formState,!0),initialState:f.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:l.Upload,versionCount:0,children:[(0,u.jsx)(d_,{collectionConfig:i}),(0,u.jsx)(pa,{submitted:h})]},"".concat(t,"-").concat(o.length)):null]}),(0,u.jsx)(dE,{})]}),e[0]=f,e[1]=t,e[2]=n,e[3]=a,e[4]=l,e[5]=o.length,e[6]=m,e[7]=r,e[8]=c,e[9]=h,e[10]=g,e[11]=b,e[12]=v,e[13]=x}else x=e[13];return x}function ph(){var e,t;let{addFiles:n,forms:a,isInitializing:l}=df(),{closeModal:r}=t6(),{collectionSlug:c,drawerSlug:d}=pv(),{getEntityConfig:p}=(0,i.b)(),{t:h}=(0,s.d)(),f=null==(t=p({collectionSlug:c}))||null==(e=t.upload)?void 0:e.mimeTypes,m=o.useCallback(e=>{let t=new DataTransfer;for(let n of e)(void 0===f||0===f.length||(0,L.d)(n.type,f))&&t.items.add(n);0===t.files.length?nG.error(h("error:invalidFileType")):n(t.files)},[n,h,f]);return c?a.length||l?(0,u.jsx)(pp,{}):(0,u.jsx)(dr,{acceptMimeTypes:null==f?void 0:f.join(", "),onCancel:()=>r(d),onDrop:m}):null}function pf(){let e=(0,d.c)(2),{drawerSlug:t}=pv(),n;return e[0]!==t?(n=(0,u.jsx)(n4,{gutter:!1,Header:null,slug:t,children:(0,u.jsx)(dh,{children:(0,u.jsx)(ph,{})})}),e[0]=t,e[1]=n):n=e[1],n}var pm=o.createContext({collectionSlug:"",currentActivePath:void 0,drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setCurrentActivePath:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function pg(e){let t,n,a=(0,d.c)(16),{children:l}=e,[r,i]=o.useState(),[s,c]=o.useState(),[p,h]=o.useState(),[f,m]=o.useState(void 0),[g,v]=o.useState(void 0),[b,x]=o.useState(void 0),y=pb(),w;a[0]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{i(e)},a[0]=w):w=a[0];let C=w,j;a[1]===Symbol.for("react.memo_cache_sentinel")?(j=(e,t)=>{c(n=>({...n,[e]:t}))},a[1]=j):j=a[1];let S=j,_;return a[2]!==p?(_=()=>{"function"==typeof p&&p()},a[2]=p,a[3]=_):_=a[3],a[4]!==b||a[5]!==s?(t=(e,t)=>{s&&Object.hasOwn(s,b)&&(0,s[b])(e,t)},a[4]=b,a[5]=s,a[6]=t):t=a[6],a[7]!==l||a[8]!==r||a[9]!==b||a[10]!==y||a[11]!==f||a[12]!==g||a[13]!==_||a[14]!==t?(n=(0,u.jsx)(pm,{value:{collectionSlug:r,currentActivePath:b,drawerSlug:y,initialFiles:f,maxFiles:g,onCancel:_,onSuccess:t,setCollectionSlug:C,setCurrentActivePath:x,setInitialFiles:m,setMaxFiles:v,setOnCancel:h,setOnSuccess:S},children:(0,u.jsxs)(o.Fragment,{children:[l,(0,u.jsx)(pf,{})]})}),a[7]=l,a[8]=r,a[9]=b,a[10]=y,a[11]=f,a[12]=g,a[13]=_,a[14]=t,a[15]=n):n=a[15],n}var pv=()=>o.use(pm);function pb(){let e=n7();return"".concat("bulk-upload-drawer-slug","-").concat(e||1)}var px=e=>{let{allowCreate:t=!0,collectionSlugs:n,disableQueryPresets:a,drawerSlug:l,enableRowSelections:r,filterOptions:s,onBulkSelect:c,onSelect:d,overrideEntityVisibility:p=!0,selectedCollection:h}=e,{closeModal:f,isModalOpen:m}=t6(),{serverFunction:g}=s5(),[v,b]=(0,o.useState)(void 0),[x,y]=(0,o.useState)(!0),{config:{collections:w},getEntityConfig:C}=(0,i.b)(),S=m(l),_=w.filter(e=>{let{slug:t}=e;return n.includes(t)}),[k,N]=(0,o.useState)(()=>{var e;let t=C({collectionSlug:h||(null==(e=_[0])?void 0:e.slug)});return t?{label:t.labels,value:t.slug}:void 0}),[E,P,{drawerSlug:D}]=cj({collectionSlug:k.value}),O=sX(e=>{var t;e&&e!==(null==k?void 0:k.value)&&N({label:null==(t=C({collectionSlug:e}))?void 0:t.labels,value:e})});(0,o.useEffect)(()=>{O(h)},[h]);let T=(0,o.useCallback)(async(e,n)=>{try{let o={...n||{},where:{...(null==n?void 0:n.where)||{}}},i=null==s?void 0:s[e];s&&"boolean"!=typeof i&&(o.where=(0,j.Y)(o.where,i));let{List:c}=await g({name:"render-list",args:{allowCreate:t,collectionSlug:e,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:a,drawerSlug:l,enableRowSelections:r,overrideEntityVisibility:p,query:o}});b(c),y(!1)}catch(e){console.error("Error rendering List View: ",e),S&&f(l)}},[g,f,t,l,S,r,s,p,a]);(0,o.useEffect)(()=>{v||T(k.value)},[T,v,k.value]);let R=(0,o.useCallback)(e=>{let{doc:t}=e;"function"==typeof d&&d({collectionSlug:k.value,doc:t,docID:t.id}),f(D),f(l)},[f,D,l,d,k.value]),A=(0,o.useCallback)(e=>{T(k.value,e)},[T,k.value]),L=(0,o.useCallback)(e=>{N(e),T(e.value)},[T]);return x?(0,u.jsx)(cu,{}):(0,u.jsxs)(s$,{allowCreate:t,createNewDrawerSlug:D,DocumentDrawerToggler:P,drawerSlug:l,enabledCollections:n,onBulkSelect:c,onQueryChange:A,onSelect:d,selectedOption:k,setSelectedOption:L,children:[v,(0,u.jsx)(E,{onSave:R})]})},py="list-drawer",pw=e=>{let{depth:t,uuid:n}=e;return"list-drawer_".concat(t,"_").concat(n)},pC=e=>{let{children:t,className:n,disabled:a,drawerSlug:l,onClick:o,...r}=e;return(0,u.jsx)(n5,{className:[n,"".concat(py,"__toggler")].filter(Boolean).join(" "),disabled:a,onClick:o,slug:l,...r,children:t})},pj=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(n4,{className:py,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(px,{...e})})},pS=e=>{let t,n,a,l,r,s,c,p,h=(0,d.c)(42),{collectionSlugs:f,filterOptions:m,selectedCollection:g,uploads:v}=e,{config:b}=(0,i.b)(),{collections:x}=b,y=tF(),w=(0,o.useId)(),{closeModal:C,modalState:j,openModal:S,toggleModal:_}=t6(),[k,N]=(0,o.useState)(!1),[E,P]=(0,o.useState)(f),D;h[0]!==y||h[1]!==w?(D=pw({depth:y,uuid:w}),h[0]=y,h[1]=w,h[2]=D):D=h[2];let O=D,T,R;h[3]!==O||h[4]!==j?(T=()=>{var e;N(!!(null==(e=j[O])?void 0:e.isOpen))},R=[j,O],h[3]=O,h[4]=j,h[5]=T,h[6]=R):(T=h[5],R=h[6]),(0,o.useEffect)(T,R),h[7]!==E||h[8]!==x||h[9]!==v?(s=()=>{E&&0!==E.length||P(x.filter(e=>{let{upload:t}=e;return!v||!!t}).map(p_))},c=[E,v,x],h[7]=E,h[8]=x,h[9]=v,h[10]=s,h[11]=c):(s=h[10],c=h[11]),(0,o.useEffect)(s,c),h[12]!==O||h[13]!==_?(p=()=>{_(O)},h[12]=O,h[13]=_,h[14]=p):p=h[14];let A=p,L;h[15]!==C||h[16]!==O?(L=()=>{C(O)},h[15]=C,h[16]=O,h[17]=L):L=h[17];let M=L,I;h[18]!==O||h[19]!==S?(I=()=>{S(O)},h[18]=O,h[19]=S,h[20]=I):I=h[20];let F=I,B,z;return h[21]!==M||h[22]!==E||h[23]!==O||h[24]!==m||h[25]!==g||h[26]!==v?(z=e=>(0,o.createElement)(pj,{...e,closeDrawer:M,collectionSlugs:E,drawerSlug:O,filterOptions:m,key:O,selectedCollection:g,uploads:v}),h[21]=M,h[22]=E,h[23]=O,h[24]=m,h[25]=g,h[26]=v,h[27]=z):z=h[27],B=z,h[28]!==O?(n=e=>(0,u.jsx)(pC,{...e,drawerSlug:O}),h[28]=O,h[29]=n):n=h[29],t=n,h[30]!==M||h[31]!==E||h[32]!==y||h[33]!==O||h[34]!==k||h[35]!==F||h[36]!==A?(l={closeDrawer:M,collectionSlugs:E,drawerDepth:y,drawerSlug:O,isDrawerOpen:k,openDrawer:F,setCollectionSlugs:P,toggleDrawer:A},h[30]=M,h[31]=E,h[32]=y,h[33]=O,h[34]=k,h[35]=F,h[36]=A,h[37]=l):l=h[37],a=l,h[38]!==B||h[39]!==a||h[40]!==t?(r=[B,t,a],h[38]=B,h[39]=a,h[40]=t,h[41]=r):r=h[41],r};function p_(e){let{slug:t}=e;return t}var pk="upload-relationship-details";function pN(e){var t,n;let a,l,o=(0,d.c)(35),{id:r,allowEdit:s,allowRemove:c,alt:p,byteSize:h,className:f,collectionSlug:m,displayPreview:g,filename:v,mimeType:b,onRemove:x,reloadDoc:y,src:w,thumbnailSrc:C,withMeta:j,x:S,y:_}=e,k=void 0===j||j,{config:E}=(0,i.b)(),P;o[0]!==m||o[1]!==E?(P="collections"in E?E.collections.find(e=>e.slug===m):void 0,o[0]=m,o[1]=E,o[2]=P):P=o[2];let D=P,O=w?r:void 0,T;o[3]!==m||o[4]!==O?(T={id:O,collectionSlug:m},o[3]=m,o[4]=O,o[5]=T):T=o[5];let[R,,A]=cj(T),{openDrawer:L}=A,M;o[6]!==m||o[7]!==y?(M=async e=>{let{doc:t}=e;return y(t.id,m)},o[6]=m,o[7]=y,o[8]=M):M=o[8];let F=M,B;o[9]!==S||o[10]!==_?(B=function(e,t){let n=[];return t&&n.push((0,I.B)(t)),S&&_&&n.push("".concat(S,"x").concat(_)),e&&n.push(e),n.join("  ")},o[9]=S,o[10]=_,o[11]=B):B=o[11];let z=k?B(b,h):"",V=null==(n=null!=g?g:null==(t=D.upload)?void 0:t.displayPreview)||n,U;o[12]!==f?(U=[pk,f].filter(Boolean),o[12]=f,o[13]=U):U=o[13];let H=U.join(" "),q;return o[14]!==p||o[15]!==v||o[16]!==b||o[17]!==V||o[18]!==C?(q=V&&(0,u.jsx)(cM,{alt:p,className:"".concat(pk,"__thumbnail"),filename:v,fileSrc:(0,N.w)(b)&&C,size:"small"}),o[14]=p,o[15]=v,o[16]=b,o[17]=V,o[18]=C,o[19]=q):q=o[19],o[20]!==v||o[21]!==w?(a=w?(0,u.jsx)("a",{href:w,target:"_blank",children:v}):v,o[20]=v,o[21]=w,o[22]=a):a=o[22],o[23]!==R||o[24]!==s||o[25]!==c||o[26]!==z||o[27]!==x||o[28]!==F||o[29]!==L||o[30]!==a||o[31]!==H||o[32]!==q||o[33]!==k?(l=(0,u.jsxs)("div",{className:H,children:[(0,u.jsxs)("div",{className:"".concat(pk,"__imageAndDetails"),children:[q,(0,u.jsxs)("div",{className:"".concat(pk,"__details"),children:[(0,u.jsx)("p",{className:"".concat(pk,"__filename"),children:a}),k?(0,u.jsx)("p",{className:"".concat(pk,"__meta"),children:z}):null]})]}),!1!==s||!1!==c?(0,u.jsxs)("div",{className:"".concat(pk,"__actions"),children:[!1!==s?(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(pk,"__edit"),icon:"edit",iconStyle:"none",onClick:L}):null,!1!==c?(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(pk,"__remove"),icon:"x",iconStyle:"none",onClick:()=>x()}):null,(0,u.jsx)(R,{onSave:F})]}):null]}),o[23]=R,o[24]=s,o[25]=c,o[26]=z,o[27]=x,o[28]=F,o[29]=L,o[30]=a,o[31]=H,o[32]=q,o[33]=k,o[34]=l):l=o[34],l}var pE="upload-field-card";function pP(e){let{children:t,className:n,size:a="medium"}=e;return(0,u.jsx)("div",{className:[pE,n,"".concat(pE,"--size-").concat(a)].filter(Boolean).join(" "),children:t})}var pD="upload upload--has-many";function pO(e){let t=(0,d.c)(27),{className:n,displayPreview:a,fileDocs:l,isSortable:o,onRemove:r,onReorder:i,readonly:s,reloadDoc:c,serverURL:p}=e,h;t[0]!==l||t[1]!==i?(h=(e,t)=>{if(e===t)return;let n=[...l],[a]=n.splice(e,1);n.splice(t,0,a),i(n)},t[0]=l,t[1]=i,t[2]=h):h=t[2];let f=h,m;t[3]!==l||t[4]!==r?(m=e=>{let t=[...l||[]];t.splice(e,1),r(0===t.length?[]:t)},t[3]=l,t[4]=r,t[5]=m):m=t[5];let g=m,v;t[6]!==n?(v=[pD,n].filter(Boolean),t[6]=n,t[7]=v):v=t[7];let b=v.join(" "),x;if(t[8]!==a||t[9]!==l||t[10]!==o||t[11]!==f||t[12]!==s||t[13]!==c||t[14]!==g||t[15]!==p||t[16]!==b){let e,n;t[18]!==f?(e=e=>{let{moveFromIndex:t,moveToIndex:n}=e;return f(t,n)},t[18]=f,t[19]=e):e=t[19],t[20]!==a||t[21]!==o||t[22]!==s||t[23]!==c||t[24]!==g||t[25]!==p?(n=(e,t)=>{let{relationTo:n,value:l}=e,r=String(l.id),i,d;if(l.url)try{i=new URL(l.url,p).toString()}catch(e){i="".concat(p).concat(l.url)}if(l.thumbnailURL)try{d=new URL(l.thumbnailURL,p).toString()}catch(e){d="".concat(p).concat(l.thumbnailURL)}return(0,N.w)(l.mimeType)&&(d=cT({sizes:l.sizes,thumbnailURL:d,url:i,width:l.width})),(0,u.jsx)(tP,{disabled:!o||s,id:r,children:e=>(0,u.jsx)("div",{className:["".concat(pD,"__dragItem"),e&&o&&"".concat(pD,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:(0,u.jsxs)(pP,{size:"small",children:[e&&(0,u.jsx)("div",{className:"".concat(pD,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(lB,{})}),(0,u.jsx)(pN,{allowEdit:!s,allowRemove:!s,alt:(null==l?void 0:l.alt)||(null==l?void 0:l.filename),byteSize:l.filesize,collectionSlug:n,displayPreview:a,filename:l.filename,id:r,mimeType:null==l?void 0:l.mimeType,onRemove:()=>g(t),reloadDoc:c,src:i,thumbnailSrc:d,withMeta:!1,x:null==l?void 0:l.width,y:null==l?void 0:l.height})]})})},r)},t[20]=a,t[21]=o,t[22]=s,t[23]=c,t[24]=g,t[25]=p,t[26]=n):n=t[26],x=(0,u.jsx)("div",{className:b,children:(0,u.jsx)(tD,{className:"".concat(pD,"__draggable-rows"),ids:null==l?void 0:l.map(pT),onDragEnd:e,children:l.map(n)})}),t[8]=a,t[9]=l,t[10]=o,t[11]=f,t[12]=s,t[13]=c,t[14]=g,t[15]=p,t[16]=b,t[17]=x}else x=t[17];return x}function pT(e){let{value:t}=e;return String(t.id)}function pR(e){let{className:t,displayPreview:n,fileDoc:a,onRemove:l,readonly:o,reloadDoc:r,serverURL:i}=e,{relationTo:s,value:c}=a,d=String(null==c?void 0:c.id),p,h;if(c.url)try{p=new URL(c.url,i).toString()}catch(e){p="".concat(i).concat(c.url)}if(c.thumbnailURL)try{h=new URL(c.thumbnailURL,i).toString()}catch(e){h="".concat(i).concat(c.thumbnailURL)}return(0,N.w)(c.mimeType)&&(h=cT({sizes:c.sizes,thumbnailURL:h,url:p,width:c.width})),(0,u.jsx)(pP,{className:["upload upload--has-one",t].filter(Boolean).join(" "),children:(0,u.jsx)(pN,{allowEdit:!o,allowRemove:!o,alt:(null==c?void 0:c.alt)||(null==c?void 0:c.filename),byteSize:c.filesize,collectionSlug:s,displayPreview:n,filename:c.filename,id:d,mimeType:null==c?void 0:c.mimeType,onRemove:l,reloadDoc:r,src:p,thumbnailSrc:h,x:null==c?void 0:c.width,y:null==c?void 0:c.height})})}var pA="upload";function pL(e){var t;let{AfterInput:n,allowCreate:a,api:l,BeforeInput:r,className:c,Description:d,description:p,displayPreview:h,Error:f,filterOptions:m,hasMany:g,isSortable:b,Label:x,label:y,localized:w,maxRows:C,onChange:j,path:S,readOnly:_,relationTo:k,required:N,serverURL:E,showError:P,style:D,value:O}=e,[T,R]=o.useState(),[A,L]=o.useState(Array.isArray(k)?k[0]:k),{openModal:M}=t6(),{drawerSlug:I,setCollectionSlug:F,setCurrentActivePath:B,setInitialFiles:z,setMaxFiles:V,setOnSuccess:U}=pv(),{permissions:H}=as(),{code:q}=ab(),{i18n:W,t:Y}=(0,s.d)(),[K,,{closeDrawer:G,openDrawer:X}]=pS({collectionSlugs:"string"==typeof k?[k]:k,filterOptions:(0,o.useMemo)(()=>{var e,t,n;return{...m,[A]:{...(null==m?void 0:m[A])||{},id:{...(null==m||null==(e=m[A])?void 0:e.id)||{},not_in:((null==m||null==(n=m[A])||null==(t=n.id)?void 0:t.not_in)||[]).concat(...Array.isArray(O)||O?[O]:[])}}}},[O,A,m])}),[Q,,{closeDrawer:$,openDrawer:Z}]=cj({collectionSlug:A}),J=o.useRef(!1),ee=(0,o.useMemo)(()=>{var e,t;return!!a&&!!("string"==typeof A&&(null==H?void 0:H.collections)&&(null==(t=H.collections)||null==(e=t[A])?void 0:e.create))},[A,H,a]),et=o.useCallback(e=>{"function"==typeof j&&j(e)},[j]),en=o.useCallback(async(e,t)=>{if(!e.length)return;let n={depth:0,draft:!0,limit:e.length,locale:q,where:{and:[{id:{in:e}}]}},a=await fetch("".concat(E).concat(l,"/").concat(t),{body:v.A(n),credentials:"include",headers:{"Accept-Language":W.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"});if(a.ok){let t=await a.json(),n=e.map(e=>t.docs.find(t=>String(t.id)===String(e)));return n.includes(void 0)&&g&&(n=n.map((t,n)=>t||{id:e[n],filename:"".concat(Y("general:untitled")," - ID: ").concat(e[n]),isPlaceholder:!0})),{...t,docs:n}}return null},[q,E,l,W.language,Y,g]),ea=(0,o.useCallback)(e=>{if(g)et([...Array.isArray(O)?O:[],...e.map(e=>e.id)]),R(t=>[...t||[],...e.map(e=>({relationTo:A,value:e}))]);else{let t=e[0];et(t.id),R([{relationTo:A,value:t}])}},[O,et,A,g]),eo=o.useCallback(e=>{let t=e;if(!g&&e&&e.length>1){let n=new DataTransfer;n.items.add(e[0]),t=n.files}t&&z(t),F(k),"number"==typeof C&&V(C),B(S),M(I)},[I,g,M,k,F,z,C,V,S,B]),er=o.useCallback(async e=>{let t=[];for(let[n,a]of e)a&&t.push(n);let n=await en(t,A);n&&R(e=>[...e||[],...n.docs.map(e=>({relationTo:A,value:e}))]),et([...Array.isArray(O)?O:[],...t]),G()},[A,G,et,en,O]),ei=o.useCallback(e=>{e.doc&&(R(t=>[...t||[],{relationTo:A,value:e.doc}]),et(e.doc.id)),$()},[$,A,et]),es=(0,o.useCallback)(async e=>{var t;let{collectionSlug:n,doc:a}=e,l=await en([a.id],n),o=l?null==(t=l.docs)?void 0:t[0]:null;R(e=>o?g?[...e||[],{relationTo:A,value:o}]:[{relationTo:A,value:o}]:e),et(g?[...Array.isArray(O)?O:[],a.id]:a.id),G()},[G,g,en,et,O,A]),ec=o.useCallback(async(e,t)=>{let{docs:n}=await en([e],t);if(n[0]){let e=[];R(a=>{let l=null==a?void 0:a.findIndex(e=>{var a,l;return((null==(a=e.value)?void 0:a.id)===n[0].id||(null==(l=e.value)?void 0:l.isPlaceholder))&&e.relationTo===t});if(l>-1){let o=[...a];return o[l]={relationTo:t,value:n[0]},e=o,o}}),e.length&&g&&et(e.map(e=>{var t;return null==(t=e.value)?void 0:t.id}))}},[en,et,g]),eu=o.useCallback(e=>{et(e.map(e=>{let{value:t}=e;return t.id})),R(e)},[et]),ed=o.useCallback(e=>{let t=e?e.map(e=>{let{value:t}=e;return t.id}):null;et(g?t:t?t[0]:null),R(e||[])},[et,g]);(0,o.useEffect)(()=>{async function e(){if(O){J.current=!0;let e=await en(Array.isArray(O)?O:[O],A);e&&R(e.docs.map(e=>({relationTo:A,value:e})))}}J.current||e()},[en,A,O]),(0,o.useEffect)(()=>{U(S,ea)},[O,S,ea,U]);let ep=!O||g&&Array.isArray(O)&&("number"!=typeof C||O.length<C)||!g&&(null==T?void 0:T[0])&&typeof T[0].value>"u";return(0,u.jsxs)("div",{className:[l_,pA,c,P&&"error",_&&"read-only"].filter(Boolean).join(" "),id:"field-".concat(null==S?void 0:S.replace(/\./g,"__")),style:D,children:[(0,u.jsx)(el,{CustomComponent:x,Fallback:(0,u.jsx)(aw,{label:y,localized:w,path:S,required:N})}),(0,u.jsx)("div",{className:"".concat(pA,"__wrap"),children:(0,u.jsx)(el,{CustomComponent:f,Fallback:(0,u.jsx)(tL,{path:S,showError:P})})}),r,(0,u.jsxs)("div",{className:"".concat(pA,"__dropzoneAndUpload"),children:[g&&Array.isArray(O)&&O.length>0?(0,u.jsx)(u.Fragment,{children:T&&(null==T?void 0:T.length)>0?(0,u.jsx)(pO,{displayPreview:h,fileDocs:T,isSortable:b&&!_,onRemove:ed,onReorder:eu,readonly:_,reloadDoc:ec,serverURL:E}):(0,u.jsx)("div",{className:"".concat(pA,"__loadingRows"),children:O.map(e=>(0,u.jsx)(i.d,{height:"40px"},e))})}):null,!g&&O?(0,u.jsx)(u.Fragment,{children:T&&(null==T?void 0:T.length)>0&&T[0].value?(0,u.jsx)(pR,{displayPreview:h,fileDoc:T[0],onRemove:ed,readonly:_,reloadDoc:ec,serverURL:E}):!T||!O||(null==T||null==(t=T[0])?void 0:t.value)?(0,u.jsx)(i.d,{height:"62px"}):(0,u.jsxs)(u.Fragment,{children:[Y("general:untitled")," - ID: ",O]})}):null,ep?(0,u.jsx)(dt,{disabled:_||!ee,multipleFiles:g,onChange:eo,children:(0,u.jsxs)("div",{className:"".concat(pA,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(pA,"__dropzoneContent__buttons"),children:[ee&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ti,{buttonStyle:"pill",className:"".concat(pA,"__createNewToggler"),disabled:_||!ee,onClick:()=>{_||(g?eo():Z())},size:"small",children:Y("general:createNew")}),(0,u.jsx)("span",{className:"".concat(pA,"__dropzoneContent__orText"),children:Y("general:or")})]}),(0,u.jsx)(ti,{buttonStyle:"pill",className:"".concat(pA,"__listToggler"),disabled:_,onClick:X,size:"small",children:Y("fields:chooseFromExisting")}),(0,u.jsx)(Q,{onSave:ei}),(0,u.jsx)(K,{allowCreate:ee,enableRowSelections:g,onBulkSelect:er,onSelect:es})]}),ee&&!_&&(0,u.jsxs)("p",{className:"".concat(pA,"__dragAndDropText"),children:[Y("general:or")," ",Y("upload:dragAndDrop")]})]})}):(0,u.jsx)(u.Fragment,{children:!_&&!T&&(!O||"number"!=typeof C||Array.isArray(O)&&O.length<C)?(0,u.jsx)(i.d,{height:"40px"}):null})]}),n,(0,u.jsx)(el,{CustomComponent:d,Fallback:(0,u.jsx)(tA,{description:p,path:S})})]})}var pM=lj(function(e){let{field:t,field:{admin:{allowCreate:n,className:a,description:l,isSortable:r}={},hasMany:s,label:c,localized:d,maxRows:p,relationTo:h,required:f},path:m,readOnly:g,validate:v}=e,{config:b}=(0,i.b)(),x=t.displayPreview,{customComponents:{AfterInput:y,BeforeInput:w,Description:C,Error:j,Label:S}={},disabled:_,filterOptions:k,setValue:N,showError:E,value:P}=ly({path:m,validate:o.useCallback((e,t)=>{if("function"==typeof v)return v(e,{...t,required:f})},[v,f])}),D=(0,o.useMemo)(()=>lS(t),[t]);return(0,u.jsx)(pL,{AfterInput:y,allowCreate:!1!==n,api:b.routes.api,BeforeInput:w,className:a,Description:C,description:l,displayPreview:x,Error:j,filterOptions:k,hasMany:s,isSortable:r,label:c,Label:S,localized:d,maxRows:p,onChange:N,path:m,readOnly:g||_,relationTo:h,required:f,serverURL:b.serverURL,showError:E,style:D,value:P})});function pI(e){let t,n=(0,d.c)(13),{clientFieldConfig:a,forceRender:l,indexPath:o,parentPath:r,parentSchemaPath:i,path:s,permissions:c,readOnly:p,schemaPath:h}=e,f;n[0]!==s?(f=e=>{var t,n;let[a]=e;return a&&(null==a||null==(n=a[s])||null==(t=n.customComponents)?void 0:t.Field)},n[0]=s,n[1]=f):f=n[1];let m=eD(f);if(void 0!==m)return m||null;if(n[2]!==a||n[3]!==l||n[4]!==o||n[5]!==r||n[6]!==i||n[7]!==s||n[8]!==c||n[9]!==p||n[10]!==h){t=Symbol.for("react.early_return_sentinel");e:{var g;let e={forceRender:l,permissions:c,readOnly:p,schemaPath:h},d={...e,indexPath:o,parentPath:r,parentSchemaPath:i};if(null==(g=a.admin)?void 0:g.hidden){t=(0,u.jsx)(sK,{...e,path:s});break e}switch(a.type){case"array":t=(0,u.jsx)(pH,{...d,field:a,path:s});break e;case"blocks":t=(0,u.jsx)(ou,{...d,field:a,path:s});break e;case"checkbox":t=(0,u.jsx)(lT,{...e,field:a,path:s});break e;case"code":t=(0,u.jsx)(om,{...e,field:a,path:s});break e;case"collapsible":t=(0,u.jsx)(ox,{...d,field:a,path:s});break e;case"date":t=(0,u.jsx)(sA,{...e,field:a,path:s});break e;case"email":t=(0,u.jsx)(sL,{...e,field:a,path:s});break e;case"group":t=(0,u.jsx)(sY,{...d,field:a,path:s});break e;case"join":t=(0,u.jsx)(c5,{...e,field:a,path:s});break e;case"json":t=(0,u.jsx)(c4,{...e,field:a,path:s});break e;case"number":t=(0,u.jsx)(c8,{...e,field:a,path:s});break e;case"point":t=(0,u.jsx)(c7,{...e,field:a,path:s});break e;case"radio":t=(0,u.jsx)(ua,{...e,field:a,path:s});break e;case"relationship":t=(0,u.jsx)(uj,{...e,field:a,path:s});break e;case"richText":t=(0,u.jsx)(uS,{...e,field:a,path:s});break e;case"row":t=(0,u.jsx)(u_,{...d,field:a});break e;case"select":t=(0,u.jsx)(uE,{...e,field:a,path:s});break e;case"tabs":t=(0,u.jsx)(uZ,{...d,field:a,path:s});break e;case"text":t=(0,u.jsx)(u4,{...e,field:a,path:s});break e;case"textarea":t=(0,u.jsx)(u9,{...e,field:a,path:s});break e;case"ui":{let e;n[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,u.jsx)(u7,{}),n[12]=e):e=n[12],t=e;break e}case"upload":t=(0,u.jsx)(pM,{...e,field:a,path:s});break e}}n[2]=a,n[3]=l,n[4]=o,n[5]=r,n[6]=i,n[7]=s,n[8]=c,n[9]=p,n[10]=h,n[11]=t}else t=n[11];if(t!==Symbol.for("react.early_return_sentinel"))return t}var pF="render-fields",pB=e=>{let t=(0,d.c)(22),{className:n,fields:a,forceRender:l,margins:o,parentIndexPath:r,parentPath:i,parentSchemaPath:s,permissions:c,readOnly:p}=e,h=lx();if(a&&a.length>0){let e=o&&"".concat(pF,"--margins-").concat(o),d=!1===o&&"".concat(pF,"--margins-none"),f;t[0]!==n||t[1]!==e||t[2]!==d?(f=[pF,n,e,d].filter(Boolean),t[0]=n,t[1]=e,t[2]=d,t[3]=f):f=t[3];let m=f.join(" "),g;if(t[4]!==a||t[5]!==l||t[6]!==h||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==c||t[11]!==p||t[12]!==m){let e;t[14]!==l||t[15]!==h||t[16]!==r||t[17]!==i||t[18]!==s||t[19]!==c||t[20]!==p?(e=(e,t)=>{var n,a;if(!e||(0,x.I2)(e))return null;let{operation:o,permissions:d,read:f}=(0,y.P)({field:e,operation:h,parentName:(null==i?void 0:i.includes("."))?i.split(".")[i.split(".").length-1]:i,permissions:c});if("name"in e&&!f)return null;let m=p||(null==e||null==(n=e.admin)?void 0:n.readOnly);m&&(null==(a=e.admin)?void 0:a.readOnly)===!1&&(m=!1),"name"in e&&!o&&(m=!0);let{indexPath:g,path:v,schemaPath:b}=(0,w.Z)({field:e,index:t,parentIndexPath:r,parentPath:i,parentSchemaPath:s});return(0,u.jsx)(pI,{clientFieldConfig:e,forceRender:l,indexPath:g,parentPath:i,parentSchemaPath:s,path:v,permissions:d,readOnly:m,schemaPath:b},"".concat(v,"-").concat(t))},t[14]=l,t[15]=h,t[16]=r,t[17]=i,t[18]=s,t[19]=c,t[20]=p,t[21]=e):e=t[21],g=(0,u.jsx)(lK,{className:m,forceRender:l,children:a.map(e)}),t[4]=a,t[5]=l,t[6]=h,t[7]=r,t[8]=i,t[9]=s,t[10]=c,t[11]=p,t[12]=m,t[13]=g}else g=t[13];return g}return null},pz="array-field",pV=e=>{let t=(0,d.c)(42),{addRow:n,attributes:a,CustomRowLabel:l,duplicateRow:o,errorCount:r,fields:c,forceRender:h,hasMaxRows:f,isDragging:m,isLoading:g,isSortable:v,labels:b,listeners:x,moveRow:y,parentPath:w,path:C,permissions:j,readOnly:S,removeRow:_,row:k,rowCount:N,rowIndex:E,schemaPath:P,setCollapse:D,setNodeRef:O,transform:T,transition:R}=e,A=void 0!==h&&h,L=lZ(g,500),{i18n:M}=(0,s.d)(),I=e_(),F="".concat((0,p.sC)(b.singular,M)," ").concat(String(E+1).padStart(2,"0")),B=r>0&&I,z=B?"".concat(pz,"__row--has-errors"):"".concat(pz,"__row--no-errors"),V;t[0]!==z?(V=["".concat(pz,"__row"),z].filter(Boolean),t[0]=z,t[1]=V):V=t[1];let U=V.join(" "),H="".concat(w.split(".").join("-"),"-row-").concat(E),q=m?1:void 0,W;if(t[2]!==l||t[3]!==n||t[4]!==a||t[5]!==U||t[6]!==o||t[7]!==r||t[8]!==F||t[9]!==B||t[10]!==c||t[11]!==A||t[12]!==f||t[13]!==M||t[14]!==L||t[15]!==v||t[16]!==x||t[17]!==y||t[18]!==w||t[19]!==C||t[20]!==j||t[21]!==S||t[22]!==_||t[23]!==k.collapsed||t[24]!==k.id||t[25]!==N||t[26]!==E||t[27]!==P||t[28]!==D||t[29]!==O||t[30]!==H||t[31]!==q||t[32]!==T||t[33]!==R){let e,s;t[35]!==r||t[36]!==B||t[37]!==M?(e=B&&(0,u.jsx)(tT,{count:r,i18n:M,withMessage:!0}),t[35]=r,t[36]=B,t[37]=M,t[38]=e):e=t[38],t[39]!==k.id||t[40]!==D?(s=e=>D(k.id,e),t[39]=k.id,t[40]=D,t[41]=s):s=t[41],W=(0,u.jsx)("div",{id:H,ref:O,style:{transform:T,transition:R,zIndex:q},children:(0,u.jsx)(lY,{actions:S?void 0:(0,u.jsx)(lF,{addRow:n,duplicateRow:o,hasMaxRows:f,index:E,isSortable:v,moveRow:y,removeRow:_,rowCount:N}),className:U,collapsibleStyle:B?"error":"default",dragHandleProps:v?{id:k.id,attributes:a,listeners:x}:void 0,header:(0,u.jsxs)("div",{className:"".concat(pz,"__row-header"),children:[L?(0,u.jsx)(i.d,{height:"1rem",width:"8rem"}):(0,u.jsx)(eL,{CustomComponent:l,label:F,path:C,rowNumber:E}),e]}),isCollapsed:k.collapsed,onToggle:s,children:L?(0,u.jsx)(i.d,{}):(0,u.jsx)(pB,{className:"".concat(pz,"__fields"),fields:c,forceRender:A,margins:"small",parentIndexPath:"",parentPath:C,parentSchemaPath:P,permissions:!0===j?j:null==j?void 0:j.fields,readOnly:S})})},"".concat(w,"-row-").concat(k.id)),t[2]=l,t[3]=n,t[4]=a,t[5]=U,t[6]=o,t[7]=r,t[8]=F,t[9]=B,t[10]=c,t[11]=A,t[12]=f,t[13]=M,t[14]=L,t[15]=v,t[16]=x,t[17]=y,t[18]=w,t[19]=C,t[20]=j,t[21]=S,t[22]=_,t[23]=k.collapsed,t[24]=k.id,t[25]=N,t[26]=E,t[27]=P,t[28]=D,t[29]=O,t[30]=H,t[31]=q,t[32]=T,t[33]=R,t[34]=W}else W=t[34];return W},pU="array-field",pH=lj(e=>{let t,n,a=(0,d.c)(52),{field:l,forceRender:r,path:c,permissions:h,readOnly:f,schemaPath:m,validate:g}=e,{name:v,admin:b,fields:x,label:y,localized:w,maxRows:C,minRows:j,required:S}=l,_;a[0]!==b?(_=void 0===b?{}:b,a[0]=b,a[1]=_):_=a[1];let{className:k,description:N,isSortable:E}=_,P=void 0===E||E,D=void 0!==r&&r,O=null!=m?m:v,T=+(null!=j?!!j:!!S),{setDocFieldPreferences:R}=lf(),{addFieldRow:A,dispatchFields:L,moveFieldRow:M,removeFieldRow:I,setModified:F}=eC(),B=e_(),{code:z}=ab(),{i18n:V,t:U}=(0,s.d)(),{config:H}=(0,i.b)(),{localization:q}=H,W;e:{if(q&&q.fallback){W=z===q.defaultLocale;break e}W=!0}let Y=W,K;a[2]!==U?(K=e=>{var t,n;return"labels"in e&&(null==e?void 0:e.labels)?e.labels:"labels"in e.field&&e.field.labels?{plural:null==(t=e.field.labels)?void 0:t.plural,singular:null==(n=e.field.labels)?void 0:n.singular}:"label"in e.field&&e.field.label?{plural:void 0,singular:e.field.label}:{plural:U("general:rows"),singular:U("general:row")}},a[2]=U,a[3]=K):K=a[3];let G=K(e),X;a[4]!==Y||a[5]!==C||a[6]!==T||a[7]!==S||a[8]!==g?(X=(e,t)=>!Y&&null===e||("function"==typeof g?g(e,{...t,maxRows:C,minRows:T,required:S}):void 0),a[4]=Y,a[5]=C,a[6]=T,a[7]=S,a[8]=g,a[9]=X):X=a[9];let Q=X,$;a[10]!==Q||a[11]!==c?($={hasRows:!0,path:c,validate:Q},a[10]=Q,a[11]=c,a[12]=$):$=a[12];let{customComponents:Z,disabled:J,errorPaths:ee,rows:et,showError:en,valid:ea,value:eo}=ly($),er;a[13]!==Z?(er=void 0===Z?{}:Z,a[13]=Z,a[14]=er):er=a[14];let{AfterInput:ei,BeforeInput:es,Description:ec,Error:eu,Label:ed}=er,ep;a[15]!==et?(ep=void 0===et?[]:et,a[15]=et,a[16]=ep):ep=a[16];let eh=ep,ef;a[17]!==A||a[18]!==c||a[19]!==O?(ef=e=>{A({path:c,rowIndex:e,schemaPath:O}),setTimeout(()=>{lA("".concat(c,"-row-").concat(e))},0)},a[17]=A,a[18]=c,a[19]=O,a[20]=ef):ef=a[20];let em=ef,eg;a[21]!==L||a[22]!==c||a[23]!==F?(eg=e=>{L({type:"DUPLICATE_ROW",path:c,rowIndex:e}),F(!0),setTimeout(()=>{lA("".concat(c,"-row-").concat(e))},0)},a[21]=L,a[22]=c,a[23]=F,a[24]=eg):eg=a[24];let ev=eg,eb;a[25]!==c||a[26]!==I?(eb=e=>{I({path:c,rowIndex:e})},a[25]=c,a[26]=I,a[27]=eb):eb=a[27];let ex=eb,ey;a[28]!==M||a[29]!==c?(ey=(e,t)=>{M({moveFromIndex:e,moveToIndex:t,path:c})},a[28]=M,a[29]=c,a[30]=ey):ey=a[30];let ew=ey,ej;a[31]!==L||a[32]!==c||a[33]!==eh||a[34]!==R?(ej=e=>{let{collapsedIDs:t,updatedRows:n}=aj({collapsed:e,rows:eh});R(c,{collapsed:t}),L({type:"SET_ALL_ROWS_COLLAPSED",path:c,updatedRows:n})},a[31]=L,a[32]=c,a[33]=eh,a[34]=R,a[35]=ej):ej=a[35];let eS=ej,ek;a[36]!==L||a[37]!==c||a[38]!==eh||a[39]!==R?(ek=(e,t)=>{let{collapsedIDs:n,updatedRows:a}=aC({collapsed:t,rowID:e,rows:eh});L({type:"SET_ROW_COLLAPSED",path:c,updatedRows:a}),R(c,{collapsed:n})},a[36]=L,a[37]=c,a[38]=eh,a[39]=R,a[40]=ek):ek=a[40];let eN=ek,eE=C&&eh.length>=C,eP=ee.length,eD=B&&ee.length>0,eO=(f||J)&&0===eh.length,eT=eh.length<T||S&&0===eh.length,eR=eD?"".concat(pU,"--has-error"):"".concat(pU,"--has-no-error"),eA;return a[41]!==k||a[42]!==eR?(eA=[l_,pU,k,eR].filter(Boolean),a[41]=k,a[42]=eR,a[43]=eA):eA=a[43],a[44]!==eu||a[45]!==c||a[46]!==en?(t=en&&(0,u.jsx)(el,{CustomComponent:eu,Fallback:(0,u.jsx)(tL,{path:c,showError:en})}),a[44]=eu,a[45]=c,a[46]=en,a[47]=t):t=a[47],a[48]!==eP||a[49]!==eD||a[50]!==V?(n=eD&&eP>0&&(0,u.jsx)(tT,{count:eP,i18n:V,withMessage:!0}),a[48]=eP,a[49]=eD,a[50]=V,a[51]=n):n=a[51],(0,u.jsxs)("div",{className:eA.join(" "),id:"field-".concat(c.replace(/\./g,"__")),children:[t,(0,u.jsxs)("header",{className:"".concat(pU,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(pU,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(pU,"__header-content"),children:[(0,u.jsx)("h3",{className:"".concat(pU,"__title"),children:(0,u.jsx)(el,{CustomComponent:ed,Fallback:(0,u.jsx)(aw,{as:"span",label:y,localized:w,path:c,required:S})})}),n]}),(null==eh?void 0:eh.length)>0&&(0,u.jsxs)("ul",{className:"".concat(pU,"__header-actions"),children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(pU,"__header-action"),onClick:()=>eS(!0),type:"button",children:U("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(pU,"__header-action"),onClick:()=>eS(!1),type:"button",children:U("fields:showAll")})})]})]}),(0,u.jsx)(el,{CustomComponent:ec,Fallback:(0,u.jsx)(tA,{description:N,path:c})})]}),(0,u.jsx)(lR,{fieldValue:eo,localized:w,path:c}),es,((null==eh?void 0:eh.length)>0||!ea&&(eO||eT))&&(0,u.jsxs)(tD,{className:"".concat(pU,"__draggable-rows"),ids:eh.map(pq),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return ew(t,n)},children:[eh.map((e,t)=>{let{id:n,isLoading:a}=e,l="".concat(c,".").concat(t),o=null==ee?void 0:ee.filter(e=>e.startsWith(l+".")).length;return(0,u.jsx)(tP,{disabled:f||J||!P,id:n,children:n=>{var r,i;return(0,u.jsx)(pV,{...n,addRow:em,CustomRowLabel:null==eh||null==(i=eh[t])||null==(r=i.customComponents)?void 0:r.RowLabel,duplicateRow:ev,errorCount:o,fields:x,forceRender:D,hasMaxRows:eE,isLoading:a,isSortable:P,labels:G,moveRow:ew,parentPath:c,path:l,permissions:h,readOnly:f||J,removeRow:ex,row:e,rowCount:null==eh?void 0:eh.length,rowIndex:t,schemaPath:O,setCollapse:eN})}},n)}),!ea&&(0,u.jsxs)(o.Fragment,{children:[eO&&(0,u.jsx)(eq,{children:U("validation:fieldHasNo",{label:(0,p.sC)(G.plural,V)})}),eT&&(0,u.jsx)(eq,{type:"error",children:U("validation:requiresAtLeast",{count:T,label:(0,p.sC)(T>1?G.plural:G.singular,V)||U(T>1?"general:rows":"general:row")})})]})]}),!eE&&!f&&(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(pU,"__add-row"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{em(eo||0)},children:U("fields:addLabel",{label:(0,p.sC)(G.singular,V)})}),ei]})});function pq(e){return e.id}var pW=e=>{let t=(0,d.c)(12),{disabled:n,path:a}=e,l=void 0===a?"confirm-password":a,{t:o}=(0,s.d)(),r;t[0]!==l?(r={path:l,validate:pY},t[0]=l,t[1]=r):r=t[1];let{disabled:i,setValue:c,showError:p,value:h}=ly(r),f=p&&"error",m;t[2]!==f?(m=[l_,"confirm-password",f].filter(Boolean),t[2]=f,t[3]=m):m=t[3];let g=m.join(" "),v;return t[4]!==i||t[5]!==n||t[6]!==l||t[7]!==c||t[8]!==o||t[9]!==g||t[10]!==h?(v=(0,u.jsxs)("div",{className:g,children:[(0,u.jsx)(aw,{htmlFor:"field-confirm-password",label:o("authentication:confirmPassword"),required:!0}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(tL,{path:l}),(0,u.jsx)("input",{"aria-label":o("authentication:confirmPassword"),autoComplete:"off",disabled:!!(i||n),id:"field-confirm-password",name:"confirm-password",onChange:c,type:"password",value:h||""})]})]}),t[4]=i,t[5]=n,t[6]=l,t[7]=c,t[8]=o,t[9]=g,t[10]=h,t[11]=v):v=t[11],v};function pY(e,t){return(0,F.C5)(e,{name:"confirm-password",type:"text",required:!0,...t})}var pK=e=>{let t=(0,d.c)(28),{AfterInput:n,autoComplete:a,BeforeInput:l,className:o,description:r,Description:i,Error:c,inputRef:h,Label:f,label:m,localized:g,onChange:v,onKeyDown:b,path:x,placeholder:y,readOnly:w,required:C,rtl:j,showError:S,style:_,value:k,width:N}=e,E=void 0===a?"off":a,{i18n:P}=(0,s.d)(),D=S&&"error",O=w&&"read-only",T;t[0]!==o||t[1]!==D||t[2]!==O?(T=[l_,"password",o,D,O].filter(Boolean),t[0]=o,t[1]=D,t[2]=O,t[3]=T):T=t[3];let R=T.join(" "),A;return t[4]!==n||t[5]!==l||t[6]!==i||t[7]!==c||t[8]!==f||t[9]!==E||t[10]!==r||t[11]!==P||t[12]!==h||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==x||t[18]!==y||t[19]!==w||t[20]!==C||t[21]!==j||t[22]!==S||t[23]!==_||t[24]!==R||t[25]!==k||t[26]!==N?(A=(0,u.jsxs)("div",{className:R,style:{..._,width:N},children:[(0,u.jsx)(el,{CustomComponent:f,Fallback:(0,u.jsx)(aw,{label:m,localized:g,path:x,required:C})}),(0,u.jsxs)("div",{className:"".concat(l_,"__wrap"),children:[(0,u.jsx)(el,{CustomComponent:c,Fallback:(0,u.jsx)(tL,{path:x,showError:S})}),(0,u.jsxs)("div",{children:[l,(0,u.jsx)("input",{"aria-label":(0,p.sC)(m,P),autoComplete:E,"data-rtl":j,disabled:w,id:"field-".concat(x.replace(/\./g,"__")),name:x,onChange:v,onKeyDown:b,placeholder:(0,p.sC)(y,P),ref:h,type:"password",value:k||""}),n]}),(0,u.jsx)(el,{CustomComponent:i,Fallback:(0,u.jsx)(tA,{description:r,path:x})})]})]}),t[4]=n,t[5]=l,t[6]=i,t[7]=c,t[8]=f,t[9]=E,t[10]=r,t[11]=P,t[12]=h,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=x,t[18]=y,t[19]=w,t[20]=C,t[21]=j,t[22]=S,t[23]=_,t[24]=R,t[25]=k,t[26]=N,t[27]=A):A=t[27],A},pG=lj(e=>{let{autoComplete:t,field:n,field:{admin:{className:a,disabled:l,placeholder:r,rtl:c}={},label:d,localized:p,required:h}={},inputRef:f,path:m,validate:g}=e,{t:v}=(0,s.d)(),b=ab(),{config:x}=(0,i.b)(),y=(0,o.useCallback)((e,t)=>{let n=m?m.split("."):[];return"function"==typeof g?g(e,{...t,required:h}):(0,F.wJ)(e,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:n,preferences:{fields:{}},req:{payload:{config:x},t:v},required:!0,siblingData:{}})},[g,x,v,h,m]),{customComponents:{AfterInput:w,BeforeInput:C,Description:j,Error:S,Label:_}={},disabled:k,setValue:N,showError:E,value:P}=ly({path:m,validate:y}),D=lk({fieldLocalized:!1,fieldRTL:c,locale:b,localizationConfig:x.localization||void 0}),O=(0,o.useMemo)(()=>lS(n),[n]);return(0,u.jsx)(pK,{AfterInput:w,autoComplete:t,BeforeInput:C,className:a,Description:j,Error:S,inputRef:f,Label:_,label:d,localized:p,onChange:e=>{N(e.target.value)},path:m,placeholder:r,readOnly:k||l,required:h,rtl:D,showError:E,style:O,value:P||""})}),pX={array:pH,blocks:ou,checkbox:lT,code:om,collapsible:ox,confirmPassword:pW,date:sA,email:sL,group:sY,hidden:sK,join:c5,json:c4,number:c8,password:pG,point:c7,radio:ua,relationship:uj,richText:uS,row:u_,select:uE,tabs:uZ,text:u4,textarea:u9,ui:u7,upload:pM},pQ={...pX,Description:tA,Error:tL,Label:aw,RowLabel:eL},p$=new Map([]),pZ={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},pJ=e=>(pZ[e.toLowerCase()]||e).trim().toLowerCase().replace("key",""),p0=e=>{let t=pJ(e);"meta"===t&&p$.forEach((e,t)=>"meta"!==t&&p$.delete(t)),p$.set(t,Date.now())},p1=e=>{let t=pJ(e);"meta"===t&&p$.clear(),p$.delete(t)},p2=(e,t)=>{let n=(0,d.c)(9),{cmdCtrlKey:a,editDepth:l,keyCodes:r}=e,{modalState:i}=t6(),s;n[0]!==a||n[1]!==l||n[2]!==t||n[3]!==r||n[4]!==i?(s=e=>{var n,o;let s=(null==(n=e.detail)?void 0:n.key)?e.detail:e;if(void 0===s.key)return;p$.forEach(p3),s.code&&p0(s.code);let c=window.navigator.userAgent.includes("Mac OS X"),u=[...p$.keys()].filter(p6);if((0,B._)(new Set(u),new Set(r))&&(!a||c&&p$.has("meta")||!c&&s.ctrlKey)){if(((null==(o=Object.keys(i).filter(e=>{var t;return null==(t=i[e])?void 0:t.isOpen}))?void 0:o.length)+1||1)!==l)return;t(s)}},n[0]=a,n[1]=l,n[2]=t,n[3]=r,n[4]=i,n[5]=s):s=n[5];let c=s,u,p;n[6]!==c?(u=()=>(document.addEventListener("keydown",c,!1),document.addEventListener("bypassKeyDown",c,!1),document.addEventListener("keyup",p5,!1),()=>{document.removeEventListener("keydown",c),document.removeEventListener("bypassKeyDown",c),document.removeEventListener("keyup",p5)}),p=[c,p5],n[6]=c,n[7]=u,n[8]=p):(u=n[7],p=n[8]),(0,o.useEffect)(u,p)};function p3(e,t){Date.now()-e>3e3&&p$.delete(t)}function p6(e){return!["alt","ctrl","meta","shift"].includes(e)}function p5(e){e.code&&p1(e.code)}var p4=(e,t)=>{let n,a,l,r,i,c,u=(0,d.c)(32),p;u[0]!==t?(p=void 0===t?{}:t,u[0]=t,u[1]=p):p=u[1];let{initialData:h,initialParams:f}=p,m;u[2]!==f?(m=void 0===f?{}:f,u[2]=f,u[3]=m):m=u[3];let g=m,{i18n:b}=(0,s.d)(),x;u[4]!==h?(x=h||{},u[4]=h,u[5]=x):x=u[5];let[y,w]=(0,o.useState)(x),[C,j]=(0,o.useState)(g),[S,_]=(0,o.useState)(!h),[k,N]=(0,o.useState)(!1),{code:E}=ab(),P=(0,o.useRef)(!1),D;if(u[6]!==E||u[7]!==C){let e;u[9]!==C?(e="object"==typeof C?C:{},u[9]=C,u[10]=e):e=u[10],D=v.A({locale:E,...e},{addQueryPrefix:!0}),u[6]=E,u[7]=C,u[8]=D}else D=u[8];let O=D,T;return u[11]!==b.language||u[12]!==h||u[13]!==O||u[14]!==e?(T=()=>{if(h&&!P.current){P.current=!0;return}let t=new AbortController;return e?(async()=>{N(!1),_(!0);try{let n=await ao.get("".concat(e).concat(O),{headers:{"Accept-Language":b.language},signal:t.signal});n.status>201&&N(!0);let a=await n.json();w(a),_(!1)}catch(e){t.signal.aborted||(N(!0),_(!1))}})():(N(!1),_(!1)),()=>{try{t.abort()}catch(e){}}},u[11]=b.language,u[12]=h,u[13]=O,u[14]=e,u[15]=T):T=u[15],u[16]!==b.language||u[17]!==h||u[18]!==E||u[19]!==O||u[20]!==e?(n=[e,E,O,b.language,h],u[16]=b.language,u[17]=h,u[18]=E,u[19]=O,u[20]=e,u[21]=n):n=u[21],(0,o.useEffect)(T,n),u[22]!==h?(a=()=>{h&&P.current&&w(h)},l=[h],u[22]=h,u[23]=a,u[24]=l):(a=u[23],l=u[24]),(0,o.useEffect)(a,l),u[25]!==y||u[26]!==k||u[27]!==S?(r={data:y,isError:k,isLoading:S},u[25]=y,u[26]=k,u[27]=S,u[28]=r):r=u[28],u[29]===Symbol.for("react.memo_cache_sentinel")?(i={setParams:j},u[29]=i):i=u[29],u[30]!==r?(c=[r,i],u[30]=r,u[31]=c):c=u[31],c},p8=e=>{let t,n=(0,d.c)(5),[a,l]=(0,o.useState)(),r,i;return n[0]!==e?(r=()=>{let t;return e&&(t=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:t,contentRect:n}=e,a=0,o=0;if(t){let e=Array.isArray(t)?t[0]:t;if(e){let{blockSize:t,inlineSize:n}=e;a=n,o=t}}else if(n){let{height:e,width:t}=n;a=t,o=e}l({height:o,width:a})})})).observe(e),()=>{t&&t.unobserve(e)}},i=[e],n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]),(0,o.useEffect)(r,i),n[3]!==a?(t={size:a},n[3]=a,n[4]=t):t=n[4],t},p9=e=>{var t;let{admin:{useAsTitle:n},fields:a}=e;return null==(t=(0,C.A)(a))?void 0:t.find(e=>"name"in e&&e.name===n)},p7=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{className:"query-preset-columns-cell",children:t?(0,S.F)(t).map((e,t)=>{let n=!e.startsWith("-");return n?(0,u.jsx)(l$,{pillStyle:n?"always-white":"light",children:(0,z.x4)(e)},t):null}):"No columns selected"})},he=e=>{if(e.or&&e.or.length>0&&e.or[0].and&&e.or[0].and.length>0){var t,n;let a=null==(n=e.or[0])||null==(t=n.and)?void 0:t[0];if(!a)return"No where query";let l=Object.keys(a)[0];if(!a[l])return"No where query";let o=Object.keys(a[l])[0],r=a[l][o];return"".concat((0,z.x4)(l)," ").concat(o," ").concat((0,z.x4)(r))}return""},ht=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{children:t?he(t):"No where query"})},hn=e=>{let{cellData:t}=e,n=["read","update","delete"];return(0,u.jsx)("p",{children:n.reduce((e,a,l)=>{let r=null==t?void 0:t[a];return r&&r.constraint&&e.push((0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:(0,z.x4)(a)}),": ",(0,z.x4)(r.constraint)]}),l!==n.length-1&&", "]},a)),e},[])})},ha=e=>{let t=(0,d.c)(7),{field:n,path:a}=e,{label:l,required:o}=n,r;t[0]!==a?(r={path:a},t[0]=a,t[1]=r):r=t[1];let{value:i}=ly(r),s;return t[2]!==l||t[3]!==a||t[4]!==o||t[5]!==i?(s=(0,u.jsxs)("div",{className:"field-type query-preset-columns-field",children:[(0,u.jsx)(aw,{as:"h3",label:l,path:a,required:o}),(0,u.jsx)("div",{className:"value-wrapper",children:i?(0,S.F)(i).map(hl):"No columns selected"})]}),t[2]=l,t[3]=a,t[4]=o,t[5]=i,t[6]=s):s=t[6],s};function hl(e,t){let n=!e.startsWith("-");return(0,u.jsx)(l$,{pillStyle:n?"always-white":"light-gray",children:(0,z.x4)(e)},t)}var ho=(e,t)=>{if(!e)return null;let n=e=>{let t=Object.keys(e)[0];if(!e[t])return"No where query";let n=Object.keys(e[t])[0],a=e[t][n];if("object"==typeof a)try{a=new Date(a).toLocaleDateString()}catch(e){a="Unknown error has occurred"}return(0,u.jsxs)(l$,{pillStyle:"always-white",children:[(0,u.jsx)("b",{children:(0,z.x4)(t)})," ",n," ",(0,u.jsx)("b",{children:(0,z.x4)(a)})]})};return((e,t)=>e.or&&e.or.length>0?(0,u.jsx)("div",{className:"or-condition",children:e.or.map((e,a)=>(0,u.jsx)(o.Fragment,{children:e.and&&e.and.length>0?(0,u.jsxs)("div",{className:"and-condition",children:[0===a&&(0,u.jsx)("span",{className:"label",children:"Filter ".concat(t," where ")}),a>0&&(0,u.jsx)("span",{className:"label",children:" or "}),e.and.map((t,a)=>(0,u.jsxs)(o.Fragment,{children:[n(t),a<e.and.length-1&&(0,u.jsx)("span",{className:"label",children:" and "})]},a))]}):n(e)},a))}):n(e))(e,t)},hr=e=>{let t=(0,d.c)(2),{field:n,path:a}=e,{label:l,required:o}=n,r;t[0]!==a?(r={path:a},t[0]=a,t[1]=r):r=t[1];let{value:c}=ly(r),{collectionSlug:h}=s1(),{getEntityConfig:f}=(0,i.b)(),m=f({collectionSlug:h}),{i18n:g}=(0,s.d)();return(0,u.jsxs)("div",{className:"field-type query-preset-where-field",children:[(0,u.jsx)(aw,{as:"h3",label:l,path:a,required:o}),(0,u.jsx)("div",{className:"value-wrapper",children:c?ho(c,(0,p.sC)(m.labels.plural,g)):"No where query"})]})},hi=(e,t)=>{let n=(0,d.c)(7),a=void 0===e||e,l;n[0]!==a||n[1]!==t?(l=e=>{if("function"!=typeof a||a())return e.preventDefault(),t&&(e.returnValue=t),t},n[0]=a,n[1]=t,n[2]=l):l=n[2];let r=l,i,s;n[3]!==a||n[4]!==r?(i=()=>{if(a)return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.addEventListener&&e.addEventListener(...n)}(window,"beforeunload",r),()=>(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.removeEventListener&&e.removeEventListener(...n)})(window,"beforeunload",r)},s=[a,r],n[3]=a,n[4]=r,n[5]=i,n[6]=s):(i=n[5],s=n[6]),(0,o.useEffect)(i,s)},hs=e=>{let{hasAccepted:t=!1,message:n="Are you sure want to leave this page?",onAccept:a,onPrevent:l,prevent:r=!0}=e;hi(r,n);let{startRouteTransition:i}=eF(),s=(0,f.useRouter)(),c=(0,o.useRef)("");(0,o.useEffect)(()=>{function e(e){try{let t=e.target,a=function(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}(t);if(a){let t=window.location.href,o=a.href,i=function(e,t){let n=new URL(e),a=new URL(t);if(n.hostname===a.hostname&&n.pathname===a.pathname&&n.search===a.search){let e=n.hash,t=a.hash;return e!==t&&n.href.replace(e,"")===a.href.replace(t,"")}return!1}(t,o),s=""!==a.download,u="_blank"===a.target||e.metaKey||e.ctrlKey;!(o===t||i||s||u)&&r&&(l||!window.confirm(n))&&(c.current=o,e.preventDefault(),e.stopPropagation(),"function"==typeof l&&l())}}catch(e){alert(e)}}return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[l,r,n]),(0,o.useEffect)(()=>{t&&c.current&&(a&&a(),i(()=>s.push(c.current)))},[t,a,s,i])},hc="leave-without-saving",hu=()=>{let e,t=(0,d.c)(15),{closeModal:n,openModal:a}=t6(),l=eE(),{isValid:r}=eC(),{user:i}=as(),[c,p]=o.useState(!1),{t:h}=(0,s.d)(),f=!!((l||!r)&&i),m;t[0]!==a?(m=()=>{a(hc)},t[0]=a,t[1]=m):m=t[1];let g=m,v;t[2]!==n?(v=()=>{n(hc)},t[2]=n,t[3]=v):v=t[3];let b=v,x;t[4]!==b||t[5]!==c||t[6]!==g||t[7]!==f?(x={hasAccepted:c,onAccept:b,onPrevent:g,prevent:f},t[4]=b,t[5]=c,t[6]=g,t[7]=f,t[8]=x):x=t[8],hs(x),t[9]!==n?(e=()=>{n(hc)},t[9]=n,t[10]=e):e=t[10];let y=e,w;t[11]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{p(!0)},t[11]=w):w=t[11];let C=w,j;return t[12]!==y||t[13]!==h?(j=(0,u.jsx)(at,{body:h("general:changesNotSaved"),cancelLabel:h("general:stayOnThisPage"),confirmLabel:h("general:leaveAnyway"),heading:h("general:leaveWithoutSaving"),modalSlug:hc,onCancel:y,onConfirm:C}),t[12]=y,t[13]=h,t[14]=j):j=t[14],j},hd="document-take-over",hp="document-take-over",hh=e=>{let t,n=(0,d.c)(17),{handleBackToDashboard:a,isActive:l,onReadOnly:r}=e,{closeModal:i,openModal:c}=t6(),{t:p}=(0,s.d)(),{startRouteTransition:h}=eF(),f,m;if(n[0]!==i||n[1]!==l||n[2]!==c?(f=()=>{l?c(hd):i(hd)},m=[l,c,i],n[0]=i,n[1]=l,n[2]=c,n[3]=f,n[4]=m):(f=n[3],m=n[4]),(0,o.useEffect)(f,m),n[5]!==i||n[6]!==a||n[7]!==r||n[8]!==h||n[9]!==p){let e,l;n[11]!==a||n[12]!==h?(e=()=>{h(()=>a())},n[11]=a,n[12]=h,n[13]=e):e=n[13],n[14]!==i||n[15]!==r?(l=()=>{r(),i(hd)},n[14]=i,n[15]=r,n[16]=l):l=n[16],t=(0,u.jsx)(nu,{className:hp,slug:hd,children:(0,u.jsxs)("div",{className:"".concat(hp,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hp,"__content"),children:[(0,u.jsx)("h1",{children:p("general:editingTakenOver")}),(0,u.jsx)("p",{children:p("general:anotherUserTakenOver")})]}),(0,u.jsxs)("div",{className:"".concat(hp,"__controls"),children:[(0,u.jsx)(ti,{buttonStyle:"primary",id:"".concat(hd,"-back-to-dashboard"),onClick:e,size:"large",children:p("general:backToDashboard")}),(0,u.jsx)(ti,{buttonStyle:"secondary",id:"".concat(hd,"-view-read-only"),onClick:l,size:"large",children:p("general:viewReadOnly")})]})]})}),n[5]=i,n[6]=a,n[7]=r,n[8]=h,n[9]=p,n[10]=t}else t=n[10];return t},hf=e=>e&&"object"==typeof e,hm="document-locked",hg="document-locked",hv=e=>e?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(e):"",hb=e=>{let t,n,a=(0,d.c)(30),{handleGoBack:l,isActive:r,onReadOnly:i,onTakeOver:c,updatedAt:p,user:h}=e,{closeModal:f,openModal:m}=t6(),{t:g}=(0,s.d)(),{startRouteTransition:v}=eF(),b,x;if(a[0]!==f||a[1]!==r||a[2]!==m?(b=()=>{r?m(hm):f(hm)},x=[r,m,f],a[0]=f,a[1]=r,a[2]=m,a[3]=b,a[4]=x):(b=a[3],x=a[4]),(0,o.useEffect)(b,x),a[5]!==l||a[6]!==v?(t=()=>{v(()=>l())},a[5]=l,a[6]=v,a[7]=t):t=a[7],a[8]!==f||a[9]!==l||a[10]!==i||a[11]!==c||a[12]!==v||a[13]!==g||a[14]!==t||a[15]!==p||a[16]!==h){var y;let e,o,r,s;a[18]!==g||a[19]!==h?(e=hf(h)?null!=(y=h.email)?y:h.id:"".concat(g("general:user"),": ").concat(h),a[18]=g,a[19]=h,a[20]=e):e=a[20],a[21]!==l||a[22]!==v?(o=()=>{v(()=>l())},a[21]=l,a[22]=v,a[23]=o):o=a[23],a[24]!==f||a[25]!==i?(r=()=>{i(),f(hm)},a[24]=f,a[25]=i,a[26]=r):r=a[26],a[27]!==f||a[28]!==c?(s=()=>{c(),f(hm)},a[27]=f,a[28]=c,a[29]=s):s=a[29],n=(0,u.jsx)(nu,{className:hg,onClose:t,slug:hm,children:(0,u.jsxs)("div",{className:"".concat(hg,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hg,"__content"),children:[(0,u.jsx)("h1",{children:g("general:documentLocked")}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:e})," ",g("general:currentlyEditing")]}),(0,u.jsxs)("p",{children:[g("general:editedSince")," ",(0,u.jsx)("strong",{children:hv(p)})]})]}),(0,u.jsxs)("div",{className:"".concat(hg,"__controls"),children:[(0,u.jsx)(ti,{buttonStyle:"secondary",id:"".concat(hm,"-go-back"),onClick:o,size:"large",children:g("general:goBack")}),(0,u.jsx)(ti,{buttonStyle:"secondary",id:"".concat(hm,"-view-read-only"),onClick:r,size:"large",children:g("general:viewReadOnly")}),(0,u.jsx)(ti,{buttonStyle:"primary",id:"".concat(hm,"-take-over"),onClick:s,size:"large",children:g("general:takeOver")})]})]})}),a[8]=f,a[9]=l,a[10]=i,a[11]=c,a[12]=v,a[13]=g,a[14]=t,a[15]=p,a[16]=h,a[17]=n}else n=a[17];return n},hx=e=>{let{elements:t,translationString:n}=e,a=n.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,u.jsx)("span",{children:a.map((e,n)=>{if(t&&e.startsWith("<")&&e.endsWith(">")){let a=e[1],l=t[a];if(l){let t=RegExp("<".concat(a,">(.*?)</").concat(a,">"),"g"),o=e.replace(t,(e,t)=>t);return(0,u.jsx)(l,{children:(0,u.jsx)(hx,{translationString:o})},n)}}return e})})},hy=e=>{let{elements:t,i18nKey:n,t:a,variables:l}=e,o=a(n,l||{});return t?(0,u.jsx)(hx,{elements:t,translationString:o}):o};function hw(e){let t=(0,d.c)(3),{i18n:n}=(0,s.d)(),{description:a}=e;if(a){let e;return t[0]!==a||t[1]!==n?(e=(0,u.jsx)("div",{className:"custom-view-description",children:(0,p.sC)(a,n)}),t[0]=a,t[1]=n,t[2]=e):e=t[2],e}return null}var hC="graphic-account",hj=e=>(0,u.jsxs)("svg",{className:[hC,(null==e?void 0:e.active)&&"".concat(hC,"--active")].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("circle",{className:"".concat(hC,"__bg"),cx:"12.5",cy:"12.5",r:"11.5"}),(0,u.jsx)("circle",{className:"".concat(hC,"__head"),cx:"12.5",cy:"10.73",r:"3.98"}),(0,u.jsx)("path",{className:"".concat(hC,"__body"),d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]}),hS=(0,c.e)(ea(),1),h_=()=>{let e=(0,d.c)(2),{user:t}=as(),n=(0,hS.default)(t.email.trim().toLowerCase()),a="?".concat(new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()),l="https://www.gravatar.com/avatar/".concat(n,"?").concat(a),o;return e[0]!==l?(o=(0,u.jsx)("img",{alt:"yas",className:"gravatar-account",height:25,src:l,style:{borderRadius:"50%"},width:25}),e[0]=l,e[1]=o):o=e[1],o},hk=()=>{let e=(0,d.c)(3),{config:t}=(0,i.b)(),{admin:n,routes:a}=t,{avatar:l,routes:o}=n,{account:r}=o,{admin:s}=a,{user:c}=as(),p=(0,f.usePathname)()===(0,g.Q)({adminRoute:s,path:r});if(!(null==c?void 0:c.email)||"default"===l){let t;return e[0]!==p?(t=(0,u.jsx)(hj,{active:p}),e[0]=p,e[1]=t):t=e[1],t}if("gravatar"===l){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.jsx)(h_,{}),e[2]=t):t=e[2],t}},hN=(0,o.createContext)({Actions:{},setViewActions:()=>{}}),hE=()=>(0,o.use)(hN),hP=e=>{let t=(0,d.c)(4),{Actions:n,children:a}=e,[l,r]=(0,o.useState)(n),i;return t[0]!==n||t[1]!==a||t[2]!==l?(i=(0,u.jsx)(hN,{value:{Actions:{...l,...n},setViewActions:r},children:a}),t[0]=n,t[1]=a,t[2]=l,t[3]=i):i=t[3],i},hD=()=>(0,u.jsx)("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})}),hO=()=>(0,u.jsx)("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})}),hT="hamburger",hR=e=>{let t=(0,d.c)(4),{t:n}=(0,s.d)(),{closeIcon:a,isActive:l}=e,o=void 0===a?"x":a,r=void 0!==l&&l,i;return t[0]!==o||t[1]!==r||t[2]!==n?(i=(0,u.jsxs)("div",{className:hT,children:[!r&&(0,u.jsx)("div",{"aria-label":n("general:open"),className:"".concat(hT,"__open-icon"),title:n("general:open"),children:(0,u.jsx)(hO,{})}),r&&(0,u.jsxs)("div",{"aria-label":n("collapse"===o?"general:collapse":"general:close"),className:"".concat(hT,"__close-icon"),title:n("collapse"===o?"general:collapse":"general:close"),children:["x"===o&&(0,u.jsx)(hD,{}),"collapse"===o&&(0,u.jsx)(eW,{direction:"left"})]})]}),t[0]=o,t[1]=r,t[2]=n,t[3]=i):i=t[3],i},hA="localizer-button",hL=e=>{let t,n=(0,d.c)(12),{ariaLabel:a,className:l}=e,o=ab(),{i18n:r,t:i}=(0,s.d)(),c;n[0]!==a||n[1]!==i?(c=a||i("general:locale"),n[0]=a,n[1]=i,n[2]=c):c=n[2],n[3]!==l?(t=[hA,l].filter(Boolean),n[3]=l,n[4]=t):t=n[4];let h=t.join(" "),f=o?o.code:void 0,m="".concat(i("general:locale"),":"),g;return n[5]!==r||n[6]!==o.label||n[7]!==c||n[8]!==h||n[9]!==f||n[10]!==m?(g=(0,u.jsxs)("div",{"aria-label":c,className:h,"data-locale":f,children:[(0,u.jsxs)("div",{className:"".concat(hA,"__label"),children:[m,"\xa0"]}),(0,u.jsxs)("div",{className:"".concat(hA,"__current"),children:[(0,u.jsx)("span",{className:"".concat(hA,"__current-label"),children:"".concat((0,p.sC)(o.label,r))}),(0,u.jsx)(eW,{className:"".concat(hA,"__chevron"),size:"small"})]})]}),n[5]=r,n[6]=o.label,n[7]=c,n[8]=h,n[9]=f,n[10]=m,n[11]=g):g=n[11],g},hM="localizer",hI=e=>{let t=(0,d.c)(17),{className:n}=e,{config:a}=(0,i.b)(),{localization:l}=a,r=(0,f.useRouter)(),{startRouteTransition:c}=eF(),{setLocaleIsLoading:h}=av(),{i18n:m}=(0,s.d)(),g=ab();if(l){let{locales:e}=l,a;t[0]!==n?(a=[hM,n].filter(Boolean),t[0]=n,t[1]=a):a=t[1];let i=a.join(" "),s;if(t[2]!==m||t[3]!==g.code||t[4]!==e||t[5]!==r||t[6]!==h||t[7]!==c||t[8]!==i){let n;t[10]!==m||t[11]!==g.code||t[12]!==e||t[13]!==r||t[14]!==h||t[15]!==c?(n=t=>{let{close:n}=t;return(0,u.jsx)(eQ.ButtonGroup,{children:e.map(e=>{let t=(0,p.sC)(e.label,m);return(0,u.jsx)(eQ.Button,{active:g.code===e.code,disabled:g.code===e.code,onClick:()=>{h(!0),n();let t=new URLSearchParams(window.location.search),a=v.A({...k.q(t.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:e.code},{addQueryPrefix:!0});c(()=>{r.push(a)})},children:t!==e.code?(0,u.jsxs)(o.Fragment,{children:[t,"\xa0",(0,u.jsx)("span",{className:"".concat(hM,"__locale-code"),"data-locale":e.code,children:"(".concat(e.code,")")})]}):(0,u.jsx)("span",{className:"".concat(hM,"__locale-code"),"data-locale":e.code,children:t})},e.code)})})},t[10]=m,t[11]=g.code,t[12]=e,t[13]=r,t[14]=h,t[15]=c,t[16]=n):n=t[16],s=(0,u.jsx)("div",{className:i,children:(0,u.jsx)(ta,{button:(0,u.jsx)(hL,{}),horizontalAlign:"right",render:n,showScrollbar:!0,size:"large"})}),t[2]=m,t[3]=g.code,t[4]=e,t[5]=r,t[6]=h,t[7]=c,t[8]=i,t[9]=s}else s=t[9];return s}return null},hF=o.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),hB=()=>o.use(hF),hz=async e=>{var t;let n=null==(t=await e("nav"))?void 0:t.open;return"boolean"!=typeof n||n},hV=e=>{let{children:t,initialIsOpen:n}=e,{breakpoints:{l:a,m:l,s:r}}=e6(),i=(0,f.usePathname)(),{getPreference:s}=ap(),c=(0,o.useRef)(null),[d,p]=o.useState(n),[h,m]=o.useState(!1),[g,v]=o.useState(!1);return(0,o.useEffect)(()=>{!1===a&&(async()=>{p(await hz(s))})()},[a,s,p]),(0,o.useEffect)(()=>{!0===r&&p(!1)},[i]),(0,o.useEffect)(()=>{c.current&&(d&&l?c.current.style.overscrollBehavior="contain":c.current.style.overscrollBehavior="auto")},[d,l]),(0,o.useEffect)(()=>{(!0===a||!0===l||!0===r)&&p(!1),v(!0),setTimeout(()=>{m(!0)},100)},[a,l,r]),(0,o.useEffect)(()=>()=>{c.current&&(c.current.style.overscrollBehavior="auto")},[]),(0,u.jsx)(hF,{value:{hydrated:g,navOpen:d,navRef:c,setNavOpen:p,shouldAnimate:h},children:t})},hU="nav-toggler",hH=e=>{let t,n=(0,d.c)(15),{id:a,children:l,className:o,tabIndex:r}=e,i=void 0===r?0:r,{t:c}=(0,s.d)(),{setPreference:p}=ap(),{navOpen:h,setNavOpen:f}=hB(),{breakpoints:m}=e6(),{l:g}=m,v="".concat(c(h?"general:close":"general:open")," ").concat(c("general:menu")),b=h&&"".concat(hU,"--is-open"),x;n[0]!==o||n[1]!==b?(x=[hU,b,o].filter(Boolean),n[0]=o,n[1]=b,n[2]=x):x=n[2];let y=x.join(" "),w;return n[3]!==g||n[4]!==h||n[5]!==f||n[6]!==p?(w=async()=>{f(!h),g||await p("nav",{open:!h},!0)},n[3]=g,n[4]=h,n[5]=f,n[6]=p,n[7]=w):w=n[7],n[8]!==l||n[9]!==a||n[10]!==v||n[11]!==y||n[12]!==w||n[13]!==i?(t=(0,u.jsx)("button",{"aria-label":v,className:y,id:a,onClick:w,tabIndex:i,type:"button",children:l}),n[8]=l,n[9]=a,n[10]=v,n[11]=y,n[12]=w,n[13]=i,n[14]=t):t=n[14],t},hq=e=>{let{fill:t}=e,n=t||"var(--theme-elevation-1000)";return(0,u.jsxs)("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:n}),(0,u.jsx)("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:n})]})},hW=()=>(0,o.use)(hY),hY=(0,o.createContext)({}),hK=e=>{let t=(0,d.c)(4),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];let[l,r]=(0,o.useState)(a),i;return t[1]!==n||t[2]!==l?(i=(0,u.jsx)(hY,{value:{setStepNav:r,stepNav:l},children:n}),t[1]=n,t[2]=l,t[3]=i):i=t[3],i},hG=e=>{let t=(0,d.c)(4),{nav:n}=e,{setStepNav:a}=hW(),l,r;return t[0]!==n||t[1]!==a?(l=()=>{a(n)},r=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=r):(l=t[2],r=t[3]),(0,o.useEffect)(l,r),null},hX="step-nav",hQ=e=>{let t=(0,d.c)(7),{className:n,CustomIcon:a}=e,{i18n:l}=(0,s.d)(),{stepNav:r}=hW(),{config:c}=(0,i.b)(),{routes:h}=c,{admin:f}=h,{t:m}=(0,s.d)(),g;return t[0]!==a||t[1]!==f||t[2]!==n||t[3]!==l||t[4]!==r||t[5]!==m?(g=(0,u.jsx)(o.Fragment,{children:r.length>0?(0,u.jsxs)("nav",{className:[hX,n].filter(Boolean).join(" "),children:[(0,u.jsx)(eU,{className:"".concat(hX,"__home"),href:f,prefetch:!1,tabIndex:0,children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(el,{CustomComponent:a,Fallback:(0,u.jsx)(hq,{})})})}),(0,u.jsx)("span",{children:"/"}),r.map((e,t)=>{let n=(0,p.sC)(e.label,l);return r.length===t+1?(0,u.jsx)("span",{className:"".concat(hX,"__last"),children:n},t):(0,u.jsxs)(o.Fragment,{children:[e.url?(0,u.jsx)(eU,{href:e.url,prefetch:!1,children:(0,u.jsx)("span",{children:n},t)}):(0,u.jsx)("span",{children:n},t),(0,u.jsx)("span",{children:"/"})]},t)})]}):(0,u.jsx)("div",{className:[hX,n].filter(Boolean).join(" "),children:(0,u.jsx)("div",{className:"".concat(hX,"__home"),children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(el,{CustomComponent:a,Fallback:(0,u.jsx)(hq,{})})})})})}),t[0]=a,t[1]=f,t[2]=n,t[3]=l,t[4]=r,t[5]=m,t[6]=g):g=t[6],g},h$="app-header";function hZ(e){let{CustomAvatar:t,CustomIcon:n}=e,{t:a}=(0,s.d)(),{Actions:l}=hE(),{config:{admin:{routes:{account:r}},localization:c,routes:{admin:d}}}=(0,i.b)(),{navOpen:p}=hB(),h=(0,o.useRef)(null),[f,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{let e=h.current;e&&m(e.scrollWidth>e.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[l]);let v=l?Object.values(l):[];return(0,u.jsxs)("header",{className:[h$,p&&"".concat(h$,"--nav-open")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(h$,"__bg")}),(0,u.jsx)("div",{className:"".concat(h$,"__content"),children:(0,u.jsxs)("div",{className:"".concat(h$,"__wrapper"),children:[(0,u.jsx)(hH,{className:"".concat(h$,"__mobile-nav-toggler"),tabIndex:-1,children:(0,u.jsx)(hR,{})}),(0,u.jsxs)("div",{className:"".concat(h$,"__controls-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(h$,"__step-nav-wrapper"),children:(0,u.jsx)(hQ,{className:"".concat(h$,"__step-nav"),CustomIcon:n})}),(0,u.jsxs)("div",{className:"".concat(h$,"__actions-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(h$,"__actions"),ref:h,children:v.map((e,t)=>(0,u.jsx)("div",{className:f&&t===v.length-1?"".concat(h$,"__last-action"):"",children:e},t))}),f&&(0,u.jsx)("div",{className:"".concat(h$,"__gradient-placeholder")})]}),c&&(0,u.jsx)(hL,{ariaLabel:"invisible",className:"".concat(h$,"__localizer-spacing")}),(0,u.jsx)(eU,{"aria-label":a("authentication:account"),className:"".concat(h$,"__account"),href:(0,g.Q)({adminRoute:d,path:r}),prefetch:!1,tabIndex:0,children:(0,u.jsx)(el,{CustomComponent:t,Fallback:(0,u.jsx)(hk,{})})})]})]})}),(0,u.jsx)(hI,{className:"".concat(h$,"__localizer")})]})}var hJ="card",h0=e=>{let{id:t,actions:n,buttonAriaLabel:a,href:l,onClick:o,title:r,titleAs:i}=e,s=[hJ,t,(o||l)&&"".concat(hJ,"--has-onclick")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:s,id:t,children:[(0,u.jsx)(null!=i?i:"div",{className:"".concat(hJ,"__title"),children:r}),n&&(0,u.jsx)("div",{className:"".concat(hJ,"__actions"),children:n}),(o||l)&&(0,u.jsx)(ti,{"aria-label":a,buttonStyle:"none",className:"".concat(hJ,"__click"),el:"link",onClick:o,to:l})]})},h1="copy-locale-data",h2="copy-locale",h3=()=>{let e,t,n,a,l,r,c,h=(0,d.c)(38),{config:m}=(0,i.b)(),{localization:g,routes:v,serverURL:b}=m,{admin:x}=v,{code:y}=ab(),{id:w,collectionSlug:C,globalSlug:j}=lf(),{i18n:S,t:_}=(0,s.d)(),k=eE(),{toggleModal:N}=t6(),{copyDataFromLocale:E}=s5(),P=(0,f.useRouter)(),{startRouteTransition:D}=eF(),O;h[0]!==g?(O=g&&g.locales.map(h6)||[],h[0]=g,h[1]=O):O=h[1];let T=O,R;h[2]!==y?(R=e=>e.value!==y,h[2]=y,h[3]=R):R=h[3];let A=T.filter(R),L;h[4]!==S||h[5]!==g?(L=e=>{let t=g&&g.locales.find(t=>t.code===e);return t&&t.label?(0,p.sC)(t.label,S):e},h[4]=S,h[5]=g,h[6]=L):L=h[6];let M=L,[I,F]=o.useState(!1),[B,z]=o.useState(null),[V,U]=o.useState(y),[H,q]=o.useState(!1),W,Y;h[7]!==y||h[8]!==V?(W=()=>{V!==y&&U(y)},Y=[y,V],h[7]=y,h[8]=V,h[9]=W,h[10]=Y):(W=h[9],Y=h[10]),o.useEffect(W,Y),h[11]!==x||h[12]!==C||h[13]!==E||h[14]!==j||h[15]!==w||h[16]!==H||h[17]!==P||h[18]!==b||h[19]!==D||h[20]!==N?(e=async e=>{let{from:t,to:n}=e;F(!0);try{await E({collectionSlug:C,docID:w,fromLocale:t,globalSlug:j,overrideData:H,toLocale:n}),F(!1),D(()=>P.push("".concat(b).concat(x,"/").concat(C?"collections/".concat(C,"/").concat(w):"globals/".concat(j),"?locale=").concat(n))),N(h2)}catch(e){nG.error(e.message)}},h[11]=x,h[12]=C,h[13]=E,h[14]=j,h[15]=w,h[16]=H,h[17]=P,h[18]=b,h[19]=D,h[20]=N,h[21]=e):e=h[21];let K=e;return w||j?(h[22]!==k||h[23]!==_||h[24]!==N?(t=()=>{k?nG.info(_("general:unsavedChanges")):N(h2)},h[22]=k,h[23]=_,h[24]=N,h[25]=t):t=h[25],h[26]!==N?(n=()=>{N(h2)},h[26]=N,h[27]=n):n=h[27],h[28]!==K||h[29]!==I||h[30]!==V||h[31]!==_||h[32]!==B?(a=async()=>{if(V===B)return void nG.error(_("localization:cannotCopySameLocale"));I||await K({from:V,to:B})},h[28]=K,h[29]=I,h[30]=V,h[31]=_,h[32]=B,h[33]=a):a=h[33],h[34]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{(null==e?void 0:e.value)&&U(e.value)},h[34]=l):l=h[34],h[35]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{(null==e?void 0:e.value)&&z(e.value)},h[35]=r):r=h[35],h[36]!==H?(c=()=>q(!H),h[36]=H,h[37]=c):c=h[37],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(eQ.Button,{id:"".concat(h1,"__button"),onClick:t,children:_("localization:copyToLocale")}),(0,u.jsxs)(n4,{className:h1,gutter:!1,Header:(0,u.jsx)(da,{onClose:n,title:_("localization:copyToLocale")}),slug:h2,children:[(0,u.jsxs)("div",{className:"".concat(h1,"__sub-header"),children:[(0,u.jsx)("span",{children:V&&B?(0,u.jsx)("div",{children:_("localization:copyFromTo",{from:M(V),to:M(B)})}):_("localization:selectLocaleToCopy")}),(0,u.jsx)(ti,{buttonStyle:"primary",disabled:!V||!B,iconPosition:"left",onClick:a,size:"medium",children:I?_("general:copying")+"...":_("general:copy")})]}),(0,u.jsxs)("div",{className:"".concat(h1,"__content"),children:[(0,u.jsx)(uk,{label:_("localization:copyFrom"),name:"fromLocale",onChange:l,options:T,path:"fromLocale",readOnly:!0,value:V}),(0,u.jsx)(uk,{label:_("localization:copyTo"),name:"toLocale",onChange:r,options:A,path:"toLocale",value:B}),(0,u.jsx)(lT,{checked:H,field:{name:"overwriteExisting",label:_("general:overwriteExistingData")},onChange:c,path:"overwriteExisting"})]})]})]})):null};function h6(e){return{label:e.label,value:e.code}}var h5=(0,o.createContext)({clearRouteCache:()=>{}}),h4=e=>{let t,n,a=(0,d.c)(10),{children:l}=e,r=(0,f.usePathname)(),i=(0,f.useRouter)(),s;a[0]!==i?(s=()=>{i.refresh()},a[0]=i,a[1]=s):s=a[1];let c=s,p;return a[2]!==c?(p=()=>{c()},a[2]=c,a[3]=p):p=a[3],a[4]!==c||a[5]!==r?(t=[r,c],a[4]=c,a[5]=r,a[6]=t):t=a[6],(0,o.useEffect)(p,t),a[7]!==l||a[8]!==c?(n=(0,u.jsx)(h5,{value:{clearRouteCache:c},children:l}),a[7]=l,a[8]=c,a[9]=n):n=a[9],n},h8=()=>(0,o.use)(h5),h9=function(e){return e.AllAvailable="allAvailable",e.AllInPage="allInPage",e.None="none",e.Some="some",e}({}),h7=(0,o.createContext)({}),fe=e=>{let{children:t,docs:n=[],totalDocs:a,user:l}=e,r=(0,o.useRef)({}),{code:i}=ab(),[s,c]=(0,o.useState)(()=>{let e=new Map;return n.forEach(t=>{let{id:n}=t;e.set(n,!1)}),e}),[d,p]=(0,o.useState)("none"),[h,m]=(0,o.useState)(0),g=(0,f.useSearchParams)(),b=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map;e?(p("allAvailable"),n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:o}=e;a&&(null==o?void 0:o.id)!==(null==l?void 0:l.id)||t.set(n,!0)})):"allAvailable"===d||"allInPage"===d?p("none"):n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:o}=e;a&&(null==o?void 0:o.id)!==(null==l?void 0:l.id)||t.set(n,"some"!==d)}),c(t)},[n,d,null==l?void 0:l.id]),x=(0,o.useCallback)(e=>{let t=n.find(t=>t.id===e);if((null==t?void 0:t._isLocked)&&(null==l?void 0:l.id)!==(null==t?void 0:t._userEditing.id))return;let a=s.get(e),o="boolean"!=typeof a||!a,r=new Map(s.set(e,o));"allAvailable"!==d||o||p("some"),c(r)},[s,n,d,null==l?void 0:l.id]),y=(0,o.useCallback)(e=>{var t;let n;if("allAvailable"===d)n=(null==(t=sJ(g))?void 0:t.where)||{id:{not_equals:""}};else{let e=[];for(let[t,n]of s)n&&e.push(t);n={id:{in:e}}}return e&&(n={and:[{...e},n]}),v.A({locale:i,where:n},{addQueryPrefix:!0})},[d,s,i,g]);return(0,o.useEffect)(()=>{if("allAvailable"===d)return;let e=!1,t=!0;if(s.size)for(let[n,a]of s)t=t&&a,e=e||a;else t=!1,e=!1;t&&s.size===n.length?p("allInPage"):p(e?"some":"none")},[d,s,a,n]),(0,o.useEffect)(()=>{let e=0;if("allAvailable"===d)e=a;else for(let[t,n]of s)n&&e++;m(e)},[d,s,a]),r.current={count:h,getQueryParams:y,selectAll:d,selected:s,setSelection:x,toggleAll:b,totalDocs:a},(0,u.jsx)(h7,{value:r.current,children:t})},ft=()=>(0,o.use)(h7),fn=e=>{var t,n;let{collection:a,collection:{slug:l,labels:{plural:r,singular:c}}={}}=e,{permissions:d}=as(),{config:{routes:{api:h},serverURL:m}}=(0,i.b)(),{openModal:g}=t6(),{count:b,getQueryParams:x,selectAll:y,toggleAll:w}=ft(),{i18n:C,t:S}=(0,s.d)(),_=(0,f.useRouter)(),k=(0,f.useSearchParams)(),{clearRouteCache:N}=h8(),E=null==d||null==(n=d.collections)||null==(t=n[l])?void 0:t.delete,P="delete-".concat(l),D=(0,o.useCallback)(()=>{nG.error(S("error:unknown"))},[S]),O=(0,o.useCallback)(async()=>{let e=x((0,j.d)({collectionConfig:a,search:k.get("search")}));await ao.delete("".concat(m).concat(h,"/").concat(l).concat(e),{headers:{"Accept-Language":C.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,a=n>1?r:c;if(e.status<400||n>0)return nG.success(S("general:deletedCountSuccessfully",{count:n,label:(0,p.sC)(a,C)})),(null==t?void 0:t.errors.length)>0&&nG.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),w(),_.replace(v.A({page:y?"1":void 0},{addQueryPrefix:!0})),N(),null;if(!t.errors)return D();return nG.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),!1}catch(e){return D()}})},[k,D,h,x,C,r,_,y,m,c,l,S,w,N,a]);return y!==h9.None&&E?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("button",{className:"".concat("delete-documents","__toggle"),onClick:()=>{g(P)},type:"button",children:S("general:delete")}),(0,u.jsx)(at,{body:S("general:aboutToDeleteCount",{count:b,label:(0,p.sC)(b>1?r:c,C)}),confirmingLabel:S("general:deleting"),heading:S("general:confirmDeletion"),modalSlug:P,onConfirm:O})]}):null},fa=(e,t,n)=>{let a={data:{},valid:!0};return e&&(Object.keys(e).forEach(t=>{var l,o;!0!==n&&(null==(l=e[t])?void 0:l.disableFormData)||(a.data[t]=null==(o=e[t])?void 0:o.value,e[t].valid||(a.valid=!1))}),t&&(a.data=(0,M.s)(a.data))),a},fl=e=>{var t,n;let{id:a,collection:l,global:r}=e,{config:{routes:{api:c},serverURL:d}}=(0,i.b)(),{docConfig:p,incrementVersionCount:h,lastUpdateTime:f,mostRecentVersionIsAutosaved:m,setLastUpdateTime:g,setMostRecentVersionIsAutosaved:v,setUnpublishedVersionCount:x,updateSavedDocumentData:y}=lf(),{reportUpdate:w}=dO(),{dispatchFields:C,isValid:j,setBackgroundProcessing:S,setIsValid:_,setSubmitted:k}=eC(),[N]=eO(),E=eE(),P=e_(),{code:D}=ab(),{i18n:O,t:R}=(0,s.d)(),A=null==p?void 0:p.versions,L=V.z.autosaveInterval;A.drafts&&A.drafts.autosave&&(L=A.drafts.autosave.interval);let M=!!((null==p||null==(t=p.versions)?void 0:t.drafts)&&(null==p||null==(n=p.versions)?void 0:n.drafts.validate)),[I,F]=(0,o.useState)(!1),B=(0,o.useDeferredValue)(I),z=al(N,L),U=(0,o.useRef)(N),H=(0,o.useRef)(E),q=(0,o.useRef)(D),W=(0,o.useRef)(j);U.current=N,H.current=E,q.current=D;let{queueTask:Y}=uR(),K=(0,o.useRef)(null),G=sX(()=>{K.current=void 0;let e,t,n=()=>{t-e<1e3?K.current=setTimeout(()=>{F(!1)},1e3-(t-e)):$()};Y(async()=>{if(E){let s,u,p;if(e=new Date().getTime(),F(!0),l&&a&&(p=l.slug,s="".concat(d).concat(c,"/").concat(p,"/").concat(a,"?draft=true&autosave=true&locale=").concat(q.current),u="PATCH"),r&&(p=r.slug,s="".concat(d).concat(c,"/globals/").concat(p,"?draft=true&autosave=true&locale=").concat(q.current),u="POST"),s&&H.current){var o,i;let{data:e,valid:l}=fa(U.current,!0);if(e._status="draft",!(P&&!l&&(null==A?void 0:A.drafts)&&(null==A||null==(o=A.drafts)?void 0:o.validate))&&W.current){let l;try{l=await fetch(s,{body:JSON.stringify(e),credentials:"include",headers:{"Accept-Language":O.language,"Content-Type":"application/json"},method:u})}catch(e){}let o=new Date;t=o.getTime(),200===l.status&&(g(o.getTime()),w({id:a,entitySlug:p,updatedAt:o.toISOString()}),m||(h(),v(!0),x(e=>e+1)));let r=await l.json();if((null==A?void 0:A.drafts)&&(null==A||null==(i=A.drafts)?void 0:i.validate)&&(null==r?void 0:r.errors)){if(Array.isArray(r.errors)){let[e,t]=r.errors.reduce((e,t)=>{let[n,a]=e,l=[],o=[];return(null==t?void 0:t.message)&&o.push(t),Array.isArray(null==t?void 0:t.data)&&t.data.forEach(e=>{(null==e?void 0:e.field)?l.push(e):o.push(e)}),[[...n,...l],[...a,...o]]},[[],[]]);C({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{nG.error(e.message||O.t("error:unknown"))}),W.current=!1,_(!1),k(!0),n();return}}else{let e=(null==r?void 0:r.doc)||(null==r?void 0:r.result);e&&(_(!0),W.current=!0,y(e))}n()}}}},{afterProcess:()=>{S(!1)},beforeProcess:()=>{if(!W.current)return W.current=!0,!1;S(!0)}})}),X=(0,o.useRef)(!1),Q=(0,o.useRef)((0,T.r)(z));(0,o.useEffect)(()=>{if(!X.current){X.current=!0;return}let e=(0,T.r)(z);(0,b.j)(e,Q)||(Q.current=e,G())},[z]),(0,o.useEffect)(()=>()=>{$()},[]);let $=sX(()=>{K.current&&clearTimeout(K.current),F(!1)});return(0,u.jsxs)("div",{className:"autosave",children:[M&&!j&&(0,u.jsx)(hu,{}),B&&R("general:saving"),!B&&!!f&&(0,u.jsx)(o.Fragment,{children:R("version:lastSavedAgo",{distance:la({date:f,i18n:O})})})]})},fo=e=>{let{id:t,buttonId:n,collectionSlug:a,onDelete:l,redirectAfterDelete:r=!0,singularLabel:c,title:d}=e,{config:{routes:{admin:h,api:m},serverURL:v},getEntityConfig:b}=(0,i.b)(),x=b({collectionSlug:a}),{setModified:y}=eC(),w=(0,f.useRouter)(),{i18n:C,t:j}=(0,s.d)(),{title:S}=lf(),{startRouteTransition:_}=eF(),{openModal:k}=t6(),N="delete-".concat(t),E=(0,o.useCallback)(()=>{nG.error(j("error:deletingTitle",{title:S}))},[j,S]),P=(0,o.useCallback)(async()=>{y(!1);try{await ao.delete("".concat(v).concat(m,"/").concat(a,"/").concat(t),{headers:{"Accept-Language":C.language,"Content-Type":"application/json"}}).then(async e=>{try{let n=await e.json();if(e.status<400){if(nG.success(j("general:titleDeleted",{label:(0,p.sC)(c,C),title:S})||n.message),r)return _(()=>w.push((0,g.Q)({adminRoute:h,path:"/collections/".concat(a)})));"function"==typeof l&&await l({id:t,collectionConfig:x});return}return n.errors?n.errors.forEach(e=>nG.error(e.message)):E(),!1}catch(e){return E()}})}catch(e){return E()}},[y,v,m,a,t,j,c,E,C,S,w,h,r,l,x,_]);return t?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(eQ.Button,{id:n,onClick:()=>{k(N)},children:j("general:delete")}),(0,u.jsx)(at,{body:(0,u.jsx)(hy,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:j,variables:{label:(0,p.sC)(c,C),title:d||S||t}}),confirmingLabel:j("general:deleting"),heading:j("general:confirmDeletion"),modalSlug:N,onConfirm:P})]}):null},fr=e=>{let{id:t,slug:n,onDuplicate:a,redirectAfterDuplicate:l=!0,singularLabel:r}=e,c=(0,f.useRouter)(),d=eE(),{openModal:h}=t6(),m=ab(),{setModified:v}=eC(),{startRouteTransition:b}=eF(),{config:{routes:{admin:x,api:y},serverURL:w},getEntityConfig:C}=(0,i.b)(),j=C({collectionSlug:n}),[S,_]=o.useState(!1),{i18n:k,t:N}=(0,s.d)(),E="duplicate-".concat(t),P=(0,o.useCallback)(async()=>{_(!0),await ao.post("".concat(w).concat(y,"/").concat(n,"/").concat(t,"/duplicate").concat((null==m?void 0:m.code)?"?locale=".concat(m.code):""),{body:JSON.stringify({}),headers:{"Accept-Language":k.language,"Content-Type":"application/json",credentials:"include"}}).then(async e=>{let{doc:t,errors:o,message:i}=await e.json();if(e.status<400){if(nG.success(i||N("general:successfullyDuplicated",{label:(0,p.sC)(r,k)})),v(!1),l)return b(()=>c.push((0,g.Q)({adminRoute:x,path:"/collections/".concat(n,"/").concat(t.id).concat((null==m?void 0:m.code)?"?locale=".concat(m.code):"")})));"function"==typeof a&&a({collectionConfig:j,doc:t})}else nG.error((null==o?void 0:o[0].message)||i||N("error:unspecific",{label:(0,p.sC)(r,k)}))})},[m,w,y,n,t,k,N,r,a,l,v,c,x,j,b]),D=(0,o.useCallback)(async()=>{_(!1),await P()},[P]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(eQ.Button,{id:"action-duplicate",onClick:()=>d?(_(!0),h(E)):P(),children:N("general:duplicate")}),S&&(0,u.jsx)(at,{body:N("general:unsavedChangesDuplicate"),confirmLabel:N("general:duplicateWithoutSaving"),heading:N("general:unsavedChanges"),modalSlug:E,onConfirm:D})]})},fi=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,u.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]})},fs="locked",fc=e=>{var t;let n=(0,d.c)(8),{className:a,user:l}=e,[r,i]=(0,o.useState)(!1),{t:c}=(0,s.d)(),p=hf(l)?null!=(t=l.email)?t:l.id:c("general:anotherUser"),h;n[0]!==a?(h=[fs,a].filter(Boolean),n[0]=a,n[1]=h):h=n[1];let f=h.join(" "),m,g;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>i(!0),g=()=>i(!1),n[2]=m,n[3]=g):(m=n[2],g=n[3]);let v="".concat(p," ").concat(c("general:isEditing")),b;return n[4]!==r||n[5]!==f||n[6]!==v?(b=(0,u.jsxs)("div",{className:f,onMouseEnter:m,onMouseLeave:g,role:"button",tabIndex:0,children:[(0,u.jsx)(tl,{alignCaret:"left",className:"".concat(fs,"__tooltip"),position:"top",show:r,children:v}),(0,u.jsx)(fi,{})]}),n[4]=r,n[5]=f,n[6]=v,n[7]=b):b=n[7],b},fu=()=>{let{id:e,collectionSlug:t,globalSlug:n,versionCount:a}=lf(),[l,r]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),{code:d}=ab(),p=a>0,{config:{routes:{api:h},serverURL:f}}=(0,i.b)(),{t:m}=(0,s.d)(),g=(0,o.useRef)(!1);return{generatePreviewURL:(0,o.useCallback)(async a=>{let{openPreviewWindow:l=!1}=a;if(!g.current){g.current=!0;try{r(!0);let a="".concat(f).concat(h);t&&(a="".concat(a,"/").concat(t,"/").concat(e,"/preview")),n&&(a="".concat(a,"/globals/").concat(n,"/preview"));let o=await fetch("".concat(a,"?").concat(v.A({draft:p?"true":"false",locale:d||void 0})));if(!o.ok)throw Error();let i=await o.json();if(!i)throw Error();u(i),r(!1),g.current=!1,l&&window.open(i,"_blank")}catch(e){r(!1),g.current=!1,nG.error(m("error:previewing"))}}},[f,h,t,n,p,d,e,m]),isLoading:l,label:m(l?"general:loading":"version:preview"),previewURL:c}};function fd(e){let t,n=(0,d.c)(5),{generatePreviewURL:a,label:l}=fu(),o;return n[0]!==a?(o=()=>a({openPreviewWindow:!0}),n[0]=a,n[1]=o):o=n[1],n[2]!==l||n[3]!==o?(t=(0,u.jsx)(ti,{buttonStyle:"secondary",className:"preview-btn",icon:"link",iconPosition:"left",onClick:o,size:"medium",children:l}),n[2]=l,n[3]=o,n[4]=t):t=n[4],t}var fp=e=>{let{type:t="submit",buttonId:n,children:a,disabled:l,onClick:o,programmaticSubmit:r,ref:i}=e,s=ek(),c=eN(),d=eP(),{disabled:p,submit:h}=eC();return(0,u.jsx)("div",{className:"form-submit",children:(0,u.jsx)(ti,{ref:i,...e,disabled:!!(l||d||s||c||p)||void 0,id:n,onClick:null!=o?o:r?()=>{h()}:void 0,type:t,children:a})})},fh="table",ff=e=>{let{appearance:t,columns:n,data:a}=e,l=null==n?void 0:n.filter(e=>null==e?void 0:e.active);return l&&0!==l.length?(0,u.jsx)("div",{className:[fh,t&&"".concat(fh,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:l.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:a&&a.map((e,t)=>(0,u.jsx)("tr",{className:"row-".concat(t+1),children:l.map((e,n)=>{let{accessor:a}=e;return(0,u.jsx)("td",{className:"cell-".concat(a),children:e.renderedCells[t]},n)})},t))})]})}):(0,u.jsx)("div",{children:"No columns selected"})},fm=e=>{let{dateFormat:t,deleteHandler:n,docs:a,i18n:l,localization:o,supportedTimezones:r,t:i}=e,s=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("version:type")}),renderedCells:a.map(e=>{var t;let n=null==(t=e.input)?void 0:t.type;return(0,u.jsxs)(l$,{pillStyle:"publish"===n?"success":"warning",children:["publish"===n&&i("version:publish"),"unpublish"===n&&i("version:unpublish")]},e.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:(0,u.jsx)("span",{children:i("general:time")}),renderedCells:a.map(e=>(0,u.jsx)("span",{children:ln({date:e.waitUntil,i18n:l,pattern:t,timezone:e.input.timezone})},e.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:timezone")}),renderedCells:a.map(e=>{var t;let n=(null==(t=r.find(t=>t.value===e.input.timezone))?void 0:t.label)||e.input.timezone;return(0,u.jsx)("span",{children:n||i("general:noValue")},e.id)})}];return o&&s.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:locale")}),renderedCells:a.map(e=>{if(e.input.locale){let t=o.locales.find(t=>t.code===e.input.locale);if(t)return(0,u.jsx)("span",{children:(0,p.sC)(t.label,l)},e.id)}return(0,u.jsx)("span",{children:i("general:all")},e.id)})}),s.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:delete")}),renderedCells:a.map(e=>(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:t=>{t.preventDefault(),n(e.id)},tooltip:i("general:delete")},e.id))}),s},fg="schedule-publish",fv={label:"All",value:"all"},fb=e=>{let{slug:t,defaultType:n}=e,{toggleModal:a}=t6(),{config:{admin:{dateFormat:l,timezones:{defaultTimezone:r,supportedTimezones:c}},localization:d,routes:{api:h},serverURL:f}}=(0,i.b)(),{id:m,collectionSlug:g,globalSlug:b,title:x}=lf(),{i18n:y,t:w}=(0,s.d)(),{schedulePublish:C}=s5(),[j,S]=o.useState(n||"publish"),[_,k]=o.useState(),[N,E]=o.useState(r),[P,D]=o.useState(fv),[O,T]=o.useState(!1),R=w("general:schedulePublishFor",{title:x}),[A,L]=o.useState(),[M,I]=o.useState(),F=o.useRef(()=>null),B=Intl.DateTimeFormat().resolvedOptions().timeZone,z=o.useMemo(()=>{if(d){let e=d.locales.map(e=>{let{code:t,label:n}=e;return{label:(0,p.sC)(n,y),value:t}});return e.unshift(fv),e}return[]},[d,y]),V=o.useCallback(async()=>{let e={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};g&&(e.where.and.push({"input.doc.value":{equals:String(m)}}),e.where.and.push({"input.doc.relationTo":{equals:g}})),b&&e.where.and.push({"input.global":{equals:b}});let{docs:t}=await ao.post("".concat(f).concat(h,"/payload-jobs"),{body:v.A(e),headers:{"Accept-Language":y.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"}}).then(e=>e.json());I(fm({dateFormat:l,deleteHandler:F.current,docs:t,i18n:y,localization:d,supportedTimezones:c,t:w})),L(t)},[g,b,f,h,y,l,d,c,w,m]),U=o.useCallback(async e=>{try{await C({deleteID:e}),await V(),nG.success(w("general:deletedSuccessfully"))}catch(e){console.error(e),nG.error(e.message)}},[V,C,w]);o.useEffect(()=>{F.current=U},[U]);let H=o.useCallback(async()=>{let e;if(!_)return nG.error(w("general:noDateSelected"));T(!0),"object"==typeof P&&"all"!==P.value&&"publish"===j&&(e=P.value);try{await C({type:j,date:_,doc:g?{relationTo:g,value:String(m)}:void 0,global:b||void 0,locale:e,timezone:N}),k(void 0),nG.success(w("version:scheduledSuccessfully")),V()}catch(e){console.error(e),nG.error(e.message)}T(!1)},[_,P,j,w,C,g,m,b,N,V]),q=(0,o.useMemo)(()=>{if(N&&B&&_){let e=aD.tz(N),t=aD.tz(B),n=lt(new aD(_).withTimeZone(N),e);return lt(n,t).toISOString()}return _},[N,_,B]),W=(0,o.useCallback)(e=>{if(N&&e){let t=aD.tz(N);k(lt(new aD(e),t)||null)}else k(e||null)},[k,N]);return o.useEffect(()=>{A||(async()=>await V())()},[A,V]),(0,u.jsxs)(n4,{className:fg,gutter:!1,Header:(0,u.jsxs)("div",{className:"".concat(fg,"__drawer-header"),children:[(0,u.jsx)("h2",{title:R,children:R}),(0,u.jsx)(dn,{onClick:()=>a(t)})]}),slug:t,children:[(0,u.jsxs)(n1,{className:"".concat(fg,"__scheduler"),children:[(0,u.jsx)(aw,{label:w("version:type"),required:!0}),(0,u.jsxs)("ul",{className:"".concat(fg,"__type"),children:[(0,u.jsx)("li",{children:(0,u.jsx)(ut,{id:"".concat(t,"-type"),isSelected:"publish"===j,onChange:()=>S("publish"),option:{label:w("version:publish"),value:"publish"},path:"".concat(t,"-type"),readOnly:O})}),(0,u.jsx)("li",{children:(0,u.jsx)(ut,{id:"".concat(t,"-type"),isSelected:"unpublish"===j,onChange:()=>S("unpublish"),option:{label:w("version:unpublish"),value:"unpublish"},path:"".concat(t,"-type"),readOnly:O})})]}),(0,u.jsx)("br",{}),(0,u.jsx)(aw,{label:w("general:time"),path:"time",required:!0}),(0,u.jsx)(ow,{id:"time",minDate:new Date,onChange:e=>W(e),pickerAppearance:"dayAndTime",readOnly:O,timeIntervals:5,value:q}),c.length>0&&(0,u.jsx)(sT,{id:"timezone-picker",onChange:E,options:c,selectedTimezone:N}),(0,u.jsx)("br",{}),z.length>0&&"publish"===j&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(aw,{label:w("localization:localeToPublish")}),(0,u.jsx)(sD,{onChange:e=>D(e),options:z,value:P}),(0,u.jsx)("br",{})]}),(0,u.jsxs)("div",{className:"".concat(fg,"__actions"),children:[(0,u.jsx)(ti,{buttonStyle:"primary",disabled:O,id:"scheduled-publish-save",onClick:H,type:"button",children:w("general:save")}),O?(0,u.jsx)("span",{children:w("general:saving")}):null]})]}),(0,u.jsxs)(n1,{className:"".concat(fg,"__upcoming"),children:[(0,u.jsx)("h4",{children:w("general:upcomingEvents")}),!A&&(0,u.jsx)(i.d,{}),(null==A?void 0:A.length)===0&&(0,u.jsx)(eq,{type:"info",children:w("general:noUpcomingEventsScheduled")}),(null==A?void 0:A.length)>0&&(0,u.jsx)(ff,{appearance:"condensed",columns:M,data:A})]})]})};function fx(e){var t,n,a,l;let r,c,p,h=(0,d.c)(74),{label:f}=e,{id:m,collectionSlug:g,docConfig:b,globalSlug:x,hasPublishedDoc:y,hasPublishPermission:w,setHasPublishedDoc:C,setMostRecentVersionIsAutosaved:j,setUnpublishedVersionCount:S,unpublishedVersionCount:_,uploadStatus:k}=lf(),{config:N,getEntityConfig:E}=(0,i.b)(),{submit:P}=eC(),D=eE(),O=tF(),{code:T}=ab(),{isModalOpen:R,toggleModal:A}=t6(),L="schedule-publish-".concat(m),{localization:M,routes:I,serverURL:F}=N,{api:B}=I,{t:z}=(0,s.d)(),V;h[0]!==f||h[1]!==z?(V=f||z("version:publishChanges"),h[0]=f,h[1]=z,h[2]=V):V=h[2];let U=V,H;e:{if(g){let e;h[3]!==g||h[4]!==E?(e=E({collectionSlug:g}),h[3]=g,h[4]=E,h[5]=e):e=h[5],H=e;break e}if(x){let e;h[6]!==E||h[7]!==x?(e=E({globalSlug:x}),h[6]=E,h[7]=x,h[8]=e):e=h[8],H=e;break e}H=void 0}let q=H,W=_>0,Y=w&&(D||W||!y)&&"uploading"!==k,K=!!("object"==typeof(null==q||null==(t=q.versions)?void 0:t.drafts)&&(null==q||null==(n=q.versions)?void 0:n.drafts.schedulePublish)&&w&&(x||g&&m)&&!D),G="update"===lx()&&!D,X;h[9]!==B||h[10]!==g||h[11]!==G||h[12]!==x||h[13]!==m||h[14]!==T||h[15]!==F||h[16]!==P?(X=async()=>{if(G)return;let e="?locale=".concat(T,"&depth=0&fallback-locale=null&draft=true"),t,n="POST";g&&(t="".concat(F).concat(B,"/").concat(g).concat(m?"/".concat(m):"").concat(e),m&&(n="PATCH")),x&&(t="".concat(F).concat(B,"/globals/").concat(x).concat(e)),await P({action:t,method:n,overrides:{_status:"draft"},skipValidation:!0})},h[9]=B,h[10]=g,h[11]=G,h[12]=x,h[13]=m,h[14]=T,h[15]=F,h[16]=P,h[17]=X):X=h[17];let Q=X,$;h[18]===Symbol.for("react.memo_cache_sentinel")?($=["s"],h[18]=$):$=h[18],h[19]!==O?(r={cmdCtrlKey:!0,editDepth:O,keyCodes:$},h[19]=O,h[20]=r):r=h[20],h[21]!==b||h[22]!==Q?(c=e=>{var t,n,a;e.preventDefault(),e.stopPropagation(),Q&&(null==(t=b.versions)?void 0:t.drafts)&&(null==(a=b.versions)||null==(n=a.drafts)?void 0:n.autosave)&&Q()},h[21]=b,h[22]=Q,h[23]=c):c=h[23],p2(r,c),h[24]!==C||h[25]!==j||h[26]!==S||h[27]!==P||h[28]!==k?(p=()=>{"uploading"!==k&&(P({overrides:{_status:"published"}}),S(0),j(!1),C(!0))},h[24]=C,h[25]=j,h[26]=S,h[27]=P,h[28]=k,h[29]=p):p=h[29];let Z=p,J;h[30]!==B||h[31]!==g||h[32]!==x||h[33]!==m||h[34]!==F||h[35]!==C||h[36]!==P||h[37]!==k?(J=e=>{if("uploading"===k)return;let t=v.A({publishSpecificLocale:e});P({action:"".concat(F).concat(B).concat(x?"/globals/".concat(x):"/".concat(g,"/").concat(m?"".concat("/"+m):"")).concat(t?"?"+t:""),overrides:{_status:"published"}}),C(!0)},h[30]=B,h[31]=g,h[32]=x,h[33]=m,h[34]=F,h[35]=C,h[36]=P,h[37]=k,h[38]=J):J=h[38];let ee=J,et=!M||M&&"active"!==M.defaultLocalePublishOption,en;h[39]!==T||h[40]!==M?(en=M&&(null==M?void 0:M.locales.find(e=>"string"==typeof e?e===T:e.code===T)),h[39]=T,h[40]=M,h[41]=en):en=h[41];let ea=en,el=ea&&("string"==typeof ea.label?ea.label:null!=(l=null==(a=ea.label)?void 0:a[T])?l:void 0),eo;h[42]!==ea||h[43]!==Z||h[44]!==et||h[45]!==ee?(eo=et?Z:()=>ee(ea.code),h[42]=ea,h[43]=Z,h[44]=et,h[45]=ee,h[46]=eo):eo=h[46];let er=eo,ei;h[47]!==el||h[48]!==U||h[49]!==et||h[50]!==z?(ei=et?U:z("version:publishIn",{locale:el}),h[47]=el,h[48]=U,h[49]=et,h[50]=z,h[51]=ei):ei=h[51];let es=ei,ec;h[52]!==ea||h[53]!==Z||h[54]!==et||h[55]!==ee?(ec=et?()=>ee(ea.code):Z,h[52]=ea,h[53]=Z,h[54]=et,h[55]=ee,h[56]=ec):ec=h[56];let eu=ec,ed,ep;if(h[57]!==el||h[58]!==Y||h[59]!==K||h[60]!==es||h[61]!==er||h[62]!==L||h[63]!==W||h[64]!==w||h[65]!==R||h[66]!==U||h[67]!==M||h[68]!==et||h[69]!==eu||h[70]!==z||h[71]!==A){ep=Symbol.for("react.early_return_sentinel");e:{let e=et?z("version:publishIn",{locale:el}):z("version:publishAllLocales");if(!w){ep=null;break e}ed=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(fp,{buttonId:"action-save",disabled:!Y,enableSubMenu:K,onClick:er,size:"medium",SubMenuPopupContent:M||K?t=>{let{close:n}=t;return(0,u.jsxs)(o.Fragment,{children:[K&&(0,u.jsx)(eQ.ButtonGroup,{children:(0,u.jsx)(eQ.Button,{id:"schedule-publish",onClick:()=>[A(L),n()],children:z("version:schedulePublish")})},"schedule-publish"),M&&Y&&(0,u.jsx)(eQ.ButtonGroup,{children:(0,u.jsx)(eQ.Button,{id:"publish-locale",onClick:eu,children:e})})]})}:void 0,type:"button",children:M?es:U}),K&&R(L)&&(0,u.jsx)(fb,{defaultType:W?"publish":"unpublish",slug:L})]})}h[57]=el,h[58]=Y,h[59]=K,h[60]=es,h[61]=er,h[62]=L,h[63]=W,h[64]=w,h[65]=R,h[66]=U,h[67]=M,h[68]=et,h[69]=eu,h[70]=z,h[71]=A,h[72]=ed,h[73]=ep}else ed=h[72],ep=h[73];return ep!==Symbol.for("react.early_return_sentinel")?ep:ed}function fy(e){let{label:t}=e,{uploadStatus:n}=lf(),{t:a}=(0,s.d)(),{submit:l}=eC(),r=eE(),i=t||a("general:save"),c=(0,o.useRef)(null),d=tF(),p="update"===lx()&&!r||"uploading"===n;return p2({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==c?void 0:c.current)&&c.current.click()}),(0,u.jsx)(fp,{buttonId:"action-save",disabled:p,onClick:()=>{if("uploading"!==n)return void l()},ref:c,size:"medium",type:"button",children:i})}function fw(e){let{config:{routes:{api:t},serverURL:n}}=(0,i.b)(),{id:a,collectionSlug:l,globalSlug:r,setUnpublishedVersionCount:c,uploadStatus:d}=lf(),p=eE(),{code:h}=ab(),f=(0,o.useRef)(null),m=tF(),{t:g}=(0,s.d)(),{submit:v}=eC(),b="update"===lx()&&!p||"uploading"===d,x=(0,o.useCallback)(async()=>{if(b)return;let e="?locale=".concat(h,"&depth=0&fallback-locale=null&draft=true"),o,i="POST";l&&(o="".concat(n).concat(t,"/").concat(l).concat(a?"/".concat(a):"").concat(e),a&&(i="PATCH")),r&&(o="".concat(n).concat(t,"/globals/").concat(r).concat(e)),await v({action:o,method:i,overrides:{_status:"draft"},skipValidation:!0}),c(e=>e+1)},[v,l,r,n,t,h,a,b,c]);return p2({cmdCtrlKey:!0,editDepth:m,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==f?void 0:f.current)&&f.current.click()}),(0,u.jsx)(fp,{buttonId:"action-save-draft",buttonStyle:"secondary",className:"save-draft",disabled:b,onClick:()=>void x(),ref:f,size:"medium",type:"button",children:g("version:saveDraft")})}var fC="status",fj=()=>{let e,t=(0,d.c)(37),{id:n,collectionSlug:a,docPermissions:l,globalSlug:r,hasPublishedDoc:c,incrementVersionCount:p,setHasPublishedDoc:h,setMostRecentVersionIsAutosaved:f,setUnpublishedVersionCount:m,unpublishedVersionCount:g}=lf(),{toggleModal:v}=t6(),{config:b}=(0,i.b)(),{routes:x,serverURL:y}=b,{api:w}=x,{reset:C}=eC(),{code:j}=ab(),{i18n:S,t:_}=(0,s.d)(),k="confirm-un-publish-".concat(n),N="confirm-revert-".concat(n),E;g>0&&c?E="changed":c?c&&g<=0&&(E="published"):E="draft",t[0]!==w||t[1]!==a||t[2]!==r||t[3]!==S.language||t[4]!==n||t[5]!==p||t[6]!==j||t[7]!==C||t[8]!==y||t[9]!==h||t[10]!==f||t[11]!==m||t[12]!==_?(e=async e=>{let t,l,o;"unpublish"===e&&(o={_status:"draft"}),a&&(t="".concat(y).concat(w,"/").concat(a,"/").concat(n,"?locale=").concat(j,"&fallback-locale=null&depth=0"),l="patch"),r&&(t="".concat(y).concat(w,"/globals/").concat(r,"?locale=").concat(j,"&fallback-locale=null&depth=0"),l="post"),"revert"===e&&(o=await ao.get(t,{headers:{"Accept-Language":S.language,"Content-Type":"application/json"}}).then(fS));let i=await ao[l](t,{body:JSON.stringify(o),headers:{"Accept-Language":S.language,"Content-Type":"application/json"}});if(200===i.status){let t,n=await i.json();r?t=n.result:a&&(t=n.doc),C(t),nG.success(n.message),p(),f(!1),"unpublish"===e?h(!1):"revert"===e&&m(0)}else nG.error(_("error:unPublishingDocument"))},t[0]=w,t[1]=a,t[2]=r,t[3]=S.language,t[4]=n,t[5]=p,t[6]=j,t[7]=C,t[8]=y,t[9]=h,t[10]=f,t[11]=m,t[12]=_,t[13]=e):e=t[13];let P=e,D=null==l?void 0:l.update;if(E){let e="".concat(_("version:status"),": ").concat(_("version:".concat(E))),n;if(t[14]!==D||t[15]!==P||t[16]!==N||t[17]!==E||t[18]!==_||t[19]!==e||t[20]!==v||t[21]!==k){let a,l;t[23]!==D||t[24]!==P||t[25]!==E||t[26]!==_||t[27]!==v||t[28]!==k?(a=D&&"published"===E&&(0,u.jsxs)(o.Fragment,{children:["\xa0\xa0",(0,u.jsx)(ti,{buttonStyle:"none",className:"".concat(fC,"__action"),onClick:()=>v(k),children:_("version:unpublish")}),(0,u.jsx)(at,{body:_("version:aboutToUnpublish"),confirmingLabel:_("version:unpublishing"),heading:_("version:confirmUnpublish"),modalSlug:k,onConfirm:()=>P("unpublish")})]}),t[23]=D,t[24]=P,t[25]=E,t[26]=_,t[27]=v,t[28]=k,t[29]=a):a=t[29],t[30]!==D||t[31]!==P||t[32]!==N||t[33]!==E||t[34]!==_||t[35]!==v?(l=D&&"changed"===E&&(0,u.jsxs)(o.Fragment,{children:["\xa0\xa0",(0,u.jsx)(ti,{buttonStyle:"none",className:"".concat(fC,"__action"),id:"action-revert-to-published",onClick:()=>v(N),children:_("version:revertToPublished")}),(0,u.jsx)(at,{body:_("version:aboutToRevertToPublished"),confirmingLabel:_("version:reverting"),heading:_("version:confirmRevertToSaved"),modalSlug:N,onConfirm:()=>P("revert")})]}),t[30]=D,t[31]=P,t[32]=N,t[33]=E,t[34]=_,t[35]=v,t[36]=l):l=t[36],n=(0,u.jsx)("div",{className:fC,title:e,children:(0,u.jsxs)("div",{className:"".concat(fC,"__value-wrap"),children:[(0,u.jsxs)("span",{className:"".concat(fC,"__label"),children:[_("version:status"),":\xa0"]}),(0,u.jsx)("span",{className:"".concat(fC,"__value"),children:_("version:".concat(E))}),a,l]})}),t[14]=D,t[15]=P,t[16]=N,t[17]=E,t[18]=_,t[19]=e,t[20]=v,t[21]=k,t[22]=n}else n=t[22];return n}return null};function fS(e){return e.json()}var f_="doc-controls",fk=e=>{var t,n,a,l,r,c,h,f,m,v,b,x,y,w,C,j,S,_;let k,N=(0,d.c)(15),{id:E,slug:P,customComponents:D,data:O,disableActions:T,disableCreate:R,hasSavePermission:A,isAccountView:L,isEditing:M,onDelete:I,onDrawerCreateNew:F,onDuplicate:B,onTakeOver:z,permissions:V,readOnlyForIncomingUser:U,redirectAfterDelete:H,redirectAfterDuplicate:q,user:W}=e,Y;N[0]!==D?(Y=void 0===D?{}:D,N[0]=D,N[1]=Y):Y=N[1];let{PreviewButton:K,PublishButton:G,SaveButton:X,SaveDraftButton:Q}=Y,{i18n:$,t:Z}=(0,s.d)(),J=tF(),{config:ee,getEntityConfig:et}=(0,i.b)(),en=et({collectionSlug:P}),ea=et({globalSlug:P}),{admin:eo,localization:er,routes:ei}=ee,{dateFormat:es}=eo,{admin:ec}=ei,[eu,ed]=o.useState(""),[ep,eh]=o.useState(""),ef=ek(),em=eP(),eg,ev;N[2]!==O||N[3]!==es||N[4]!==$?(eg=()=>{(null==O?void 0:O.updatedAt)&&ed(ln({date:O.updatedAt,i18n:$,pattern:es})),(null==O?void 0:O.createdAt)&&eh(ln({date:O.createdAt,i18n:$,pattern:es}))},ev=[O,$,es],N[2]=O,N[3]=es,N[4]=$,N[5]=eg,N[6]=ev):(eg=N[5],ev=N[6]),(0,o.useEffect)(eg,ev);let eb=V&&"create"in V&&V.create,ex=V&&"delete"in V&&V.delete,ey=!!(en&&E&&!T&&(eb||ex)),ew=!E&&(null==en||null==(t=en.versions)?void 0:t.drafts)&&(null==(n=en.versions)?void 0:n.drafts.validate),eC=(null==en||null==(a=en.versions)?void 0:a.drafts)&&(null==en||null==(r=en.versions)||null==(l=r.drafts)?void 0:l.autosave)||(null==ea||null==(c=ea.versions)?void 0:c.drafts)&&(null==ea||null==(f=ea.versions)||null==(h=f.drafts)?void 0:h.autosave),ej=er&&!(null==en||null==(m=en.admin)?void 0:m.disableCopyToLocale),eS;return N[7]!==U||N[8]!==W?(eS=W&&U&&(0,u.jsx)(fc,{className:"".concat(f_,"__locked-controls"),user:W}),N[7]=U,N[8]=W,N[9]=eS):eS=N[9],N[10]!==z||N[11]!==U||N[12]!==Z||N[13]!==W?(k=W&&U&&(0,u.jsx)(ti,{buttonStyle:"secondary",id:"take-over",onClick:z,size:"medium",type:"button",children:Z("general:takeOver")}),N[10]=z,N[11]=U,N[12]=Z,N[13]=W,N[14]=k):k=N[14],(0,u.jsxs)(n1,{className:f_,children:[(0,u.jsxs)("div",{className:"".concat(f_,"__wrapper"),children:[(0,u.jsx)("div",{className:"".concat(f_,"__content"),children:(0,u.jsxs)("ul",{className:"".concat(f_,"__meta"),children:[en&&!M&&!L&&(0,u.jsx)("li",{className:"".concat(f_,"__list-item"),children:(0,u.jsx)("p",{className:"".concat(f_,"__value"),children:$.t("general:creatingNewLabel",{label:(0,p.sC)(null!=(_=null==en||null==(v=en.labels)?void 0:v.singular)?_:$.t("general:document"),$)})})}),eS,((null==en||null==(b=en.versions)?void 0:b.drafts)||(null==ea||null==(x=ea.versions)?void 0:x.drafts))&&(0,u.jsxs)(o.Fragment,{children:[(ea||en&&M)&&(0,u.jsx)("li",{className:["".concat(f_,"__status"),"".concat(f_,"__list-item")].filter(Boolean).join(" "),children:(0,u.jsx)(fj,{})}),A&&eC&&!ew&&(0,u.jsx)("li",{className:"".concat(f_,"__list-item"),children:(0,u.jsx)(fl,{collection:en,global:ea,id:E,publishedDocUpdatedAt:null==O?void 0:O.createdAt})})]}),(null==en?void 0:en.timestamps)&&(M||L)&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("li",{className:["".concat(f_,"__list-item"),"".concat(f_,"__value-wrap")].filter(Boolean).join(" "),title:(null==O?void 0:O.updatedAt)?eu:"",children:[(0,u.jsxs)("p",{className:"".concat(f_,"__label"),children:[$.t("general:lastModified"),":\xa0"]}),(null==O?void 0:O.updatedAt)&&(0,u.jsx)("p",{className:"".concat(f_,"__value"),children:eu})]}),(0,u.jsxs)("li",{className:["".concat(f_,"__list-item"),"".concat(f_,"__value-wrap")].filter(Boolean).join(" "),title:(null==O?void 0:O.createdAt)?ep:"",children:[(0,u.jsxs)("p",{className:"".concat(f_,"__label"),children:[$.t("general:created"),":\xa0"]}),(null==O?void 0:O.createdAt)&&(0,u.jsx)("p",{className:"".concat(f_,"__value"),children:ep})]})]})]})}),(0,u.jsxs)("div",{className:"".concat(f_,"__controls-wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(f_,"__controls"),children:[((null==en?void 0:en.admin.preview)||(null==ea?void 0:ea.admin.preview))&&(0,u.jsx)(el,{CustomComponent:K,Fallback:(0,u.jsx)(fd,{})}),A&&(0,u.jsx)(o.Fragment,{children:(null==en||null==(y=en.versions)?void 0:y.drafts)||(null==ea||null==(w=ea.versions)?void 0:w.drafts)?(0,u.jsxs)(o.Fragment,{children:[(ew||!eC)&&(0,u.jsx)(el,{CustomComponent:Q,Fallback:(0,u.jsx)(fw,{})}),(0,u.jsx)(el,{CustomComponent:G,Fallback:(0,u.jsx)(fx,{})})]}):(0,u.jsx)(el,{CustomComponent:X,Fallback:(0,u.jsx)(fy,{})})}),k]}),ey&&!U&&(0,u.jsx)(ta,{button:(0,u.jsxs)("div",{className:"".concat(f_,"__dots"),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]}),className:"".concat(f_,"__popup"),disabled:em||ef,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,u.jsxs)(eQ.ButtonGroup,{children:[ej&&(0,u.jsx)(h3,{}),eb&&(0,u.jsxs)(o.Fragment,{children:[!R&&(0,u.jsx)(o.Fragment,{children:J>1?(0,u.jsx)(eQ.Button,{id:"action-create",onClick:F,children:$.t("general:createNew")}):(0,u.jsx)(eQ.Button,{href:(0,g.Q)({adminRoute:ec,path:"/collections/".concat(null==en?void 0:en.slug,"/create")}),id:"action-create",children:$.t("general:createNew")})}),!0!==en.disableDuplicate&&M&&(0,u.jsx)(fr,{id:E.toString(),onDuplicate:B,redirectAfterDuplicate:q,singularLabel:null==en||null==(C=en.labels)?void 0:C.singular,slug:null==en?void 0:en.slug})]}),ex&&(0,u.jsx)(fo,{buttonId:"action-delete",collectionSlug:null==en?void 0:en.slug,id:E.toString(),onDelete:I,redirectAfterDelete:H,singularLabel:null==en||null==(j=en.labels)?void 0:j.singular,useAsTitle:null==en||null==(S=en.admin)?void 0:S.useAsTitle})]})})]})]}),(0,u.jsx)("div",{className:"".concat(f_,"__divider")})]})},fN=e=>{let t=(0,d.c)(7),{action:n,disabled:a}=e,{submit:l}=eC(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,c;return t[3]!==a||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(fp,{className:"".concat(fO,"__save"),disabled:a,onClick:i,children:o("general:save")}),t[3]=a,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},fE=e=>{let t=(0,d.c)(7),{action:n,disabled:a}=e,{submit:l}=eC(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,c;return t[3]!==a||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(fp,{className:"".concat(fO,"__publish"),disabled:a,onClick:i,children:o("version:publishChanges")}),t[3]=a,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},fP=e=>{let t=(0,d.c)(7),{action:n,disabled:a}=e,{submit:l}=eC(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,c;return t[3]!==a||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(fp,{buttonStyle:"secondary",className:"".concat(fO,"__draft"),disabled:a,onClick:i,children:o("version:saveDraft")}),t[3]=a,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},fD=e=>{var t,n;let{collection:{fields:a,labels:{plural:l,singular:r}}={},collection:c,drawerSlug:d,selectedFields:h,setSelectedFields:m}=e,{permissions:g,user:b}=as(),{closeModal:x}=t6(),{config:{routes:{api:y},serverURL:w}}=(0,i.b)(),{getFormState:C}=s5(),{count:S,getQueryParams:_,selectAll:k}=ft(),{i18n:N,t:E}=(0,s.d)(),[P,D]=(0,o.useState)(!1),O=(0,f.useRouter)(),T=o.useRef(null),{clearRouteCache:R}=h8(),A=null==g||null==(t=g.collections)?void 0:t[c.slug],L=(0,f.useSearchParams)(),I=(0,o.useMemo)(()=>(0,M.s)(h.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[h]),F=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cf(T),{state:l}=await C({collectionSlug:c.slug,docPermissions:A,docPreferences:null,formState:t,operation:"update",schemaPath:c.slug,select:I,signal:a.signal,skipValidation:!n});return T.current=null,l},[C,c,A,I]);(0,o.useEffect)(()=>{let e=T.current;return()=>{ch(e)}},[]);let B=(0,o.useMemo)(()=>_((0,j.d)({collectionConfig:c,search:L.get("search")})),[c,L,_]),z=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:a}=e;D(!0),m(a||[]);let{state:l}=await C({collectionSlug:c.slug,docPermissions:A,docPreferences:null,formState:n,operation:"update",schemaPath:c.slug,select:(0,M.s)(a.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:l}),D(!1)},[C,c.slug,A,m]);return(0,u.jsx)(lg,{collectionSlug:c.slug,currentEditor:b,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,u.jsx)(lv,{value:"update",children:(0,u.jsxs)("div",{className:"".concat(fO,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(fO,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(fO,"__header__title"),children:E("general:editingLabel",{count:S,label:(0,p.sC)(S>1?l:r,N)})}),(0,u.jsx)("button",{"aria-label":E("general:close"),className:"".concat(fO,"__header__close"),id:"close-drawer__".concat(d),onClick:()=>x(d),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(uK,{className:"".concat(fO,"__form"),isInitializing:P,onChange:[F],onSuccess:()=>{O.replace(v.A({...sJ(L),page:k===h9.AllAvailable?"1":void 0},{addQueryPrefix:!0})),R(),x(d)},children:[(0,u.jsx)(dx,{fields:a,onChange:z,permissions:A.fields}),0===h.length?null:(0,u.jsx)("div",{className:"render-fields",children:h.map((e,t)=>{let{value:{field:n,fieldPermissions:a,path:l}}=e;return(0,u.jsx)(pI,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:l,permissions:a},"".concat(l,"-").concat(t))})}),(0,u.jsx)("div",{className:"".concat(fO,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(fO,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(fO,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(fO,"__document-actions"),children:(null==c||null==(n=c.versions)?void 0:n.drafts)?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(fP,{action:"".concat(w).concat(y,"/").concat(c.slug).concat(B,"&draft=true"),disabled:0===h.length}),(0,u.jsx)(fE,{action:"".concat(w).concat(y,"/").concat(c.slug).concat(B,"&draft=true"),disabled:0===h.length})]}):(0,u.jsx)(fN,{action:"".concat(w).concat(y,"/").concat(c.slug).concat(B),disabled:0===h.length})})})})})]})]})})})},fO="edit-many",fT=e=>{var t;let n,a=(0,d.c)(10),{collection:l}=e,{slug:r}=l,{permissions:i}=as(),{openModal:c}=t6(),{selectAll:p}=ft(),{t:h}=(0,s.d)(),f;a[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],a[0]=f):f=a[0];let[m,g]=(0,o.useState)(f),v=null==i||null==(t=i.collections)?void 0:t[r],b="edit-".concat(r);if(p===h9.None||!(null==v?void 0:v.update))return null;if(a[1]!==b||a[2]!==c||a[3]!==e.collection||a[4]!==m||a[5]!==h){let t;a[7]!==b||a[8]!==c?(t=()=>{c(b),g([])},a[7]=b,a[8]=c,a[9]=t):t=a[9],n=(0,u.jsxs)("div",{className:fO,children:[(0,u.jsx)("button",{"aria-label":h("general:edit"),className:"".concat(fO,"__toggle"),onClick:t,type:"button",children:h("general:edit")}),(0,u.jsx)(tI,{children:(0,u.jsx)(n4,{Header:null,slug:b,children:(0,u.jsx)(fD,{collection:e.collection,drawerSlug:b,selectedFields:m,setSelectedFields:g})})})]}),a[1]=b,a[2]=c,a[3]=e.collection,a[4]=m,a[5]=h,a[6]=n}else n=a[6];return n};function fR(e){let t=(0,d.c)(6),n=tF(),a;t[0]!==e.style?(a=e.style||{},t[0]=e.style,t[1]=a):a=t[1];let l="calc(100 + ".concat(n||0," + 1)"),o;return t[2]!==e||t[3]!==a||t[4]!==l?(o=(0,u.jsx)(nu,{...e,style:{...a,zIndex:l}}),t[2]=e,t[3]=a,t[4]=l,t[5]=o):o=t[5],o}function fA(e){let{highlightField:t,setKey:n}=e,{id:a}=lf(),{toggleModal:l}=t6(),{t:r}=(0,s.d)(),i="generate-confirmation-".concat(a),c=(0,o.useCallback)(()=>{n(),nG.success(r("authentication:newAPIKeyGenerated")),t(!0)},[t,n,r]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ti,{buttonStyle:"secondary",onClick:()=>{l(i)},size:"small",children:r("authentication:generateNewAPIKey")}),(0,u.jsx)(at,{body:(0,u.jsx)(hy,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:r}),confirmLabel:r("authentication:generate"),heading:r("authentication:confirmGeneration"),modalSlug:i,onConfirm:c})]})}function fL(e){let t=(0,d.c)(4),{permissions:n}=e,{setPermissions:a}=as(),l,r;return t[0]!==n||t[1]!==a?(l=()=>{a(n)},r=[n,a],t[0]=n,t[1]=a,t[2]=l,t[3]=r):(l=t[2],r=t[3]),(0,o.useEffect)(l,r),null}var fM="dots",fI=e=>{let{ariaLabel:t,className:n,noBackground:a,orientation:l="vertical"}=e;return(0,u.jsxs)("div",{"aria-label":t,className:[n,fM,a&&"".concat(fM,"--no-background"),l&&"".concat(fM,"--").concat(l)].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})},fF="search-filter",fB=e=>{let{handleChange:t,initialParams:n,label:a}=e,l=(0,f.usePathname)(),[r,i]=(0,o.useState)("string"==typeof(null==n?void 0:n.search)?null==n?void 0:n.search:void 0),s=(0,o.useRef)(!0),c=(0,o.useRef)("string"==typeof(null==n?void 0:n.search)?null==n?void 0:n.search:void 0),d=al(r,300);return(0,o.useEffect)(()=>{(null==n?void 0:n.search)!==c.current&&(s.current=!1,i(null==n?void 0:n.search),c.current=null==n?void 0:n.search)},[null==n?void 0:n.search,l]),(0,o.useEffect)(()=>{d!==c.current&&s.current&&(t&&t(d),c.current=d)},[d,t]),(0,u.jsx)("div",{className:fF,children:(0,u.jsx)("input",{"aria-label":a,className:"".concat(fF,"__input"),id:"search-filter-input",onChange:e=>{s.current=!0,i(e.target.value)},placeholder:a,type:"text",value:r||""})})},fz=e=>{let{disabled:t,field:{admin:n},onChange:a,value:l}=e,{date:o}=n||{};return(0,u.jsx)("div",{className:"condition-value-date",children:(0,u.jsx)(ow,{...o,onChange:a,readOnly:t,value:l})})},fV=e=>{let t,n=(0,d.c)(7),{disabled:a,onChange:l,value:o}=e,{t:r}=(0,s.d)(),i;return n[0]!==l?(i=e=>l(e.target.value),n[0]=l,n[1]=i):i=n[1],n[2]!==a||n[3]!==r||n[4]!==i||n[5]!==o?(t=(0,u.jsx)("input",{className:"condition-value-number",disabled:a,onChange:i,placeholder:r("general:enterAValue"),type:"number",value:o}),n[2]=a,n[3]=r,n[4]=i,n[5]=o,n[6]=t):t=n[6],t},fU=e=>e.reduce((e,t)=>t.options?[...e,...fU(t.options)]:[...e,t.id],[]),fH=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,data:a,hasMultipleRelations:l,i18n:o,relation:r}=t,i=n.admin.useAsTitle||"id",s=fU(e);if(!l)return[...e,...a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],value:t.id}]):e,[])];let c=[...e],u=c.find(e=>e.label===(0,p.sC)(n.labels.plural,o)),d=a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],relationTo:r,value:t.id}]):e,[]);return u?u.options=[...u.options,...d]:c.push({label:(0,p.sC)(n.labels.plural,o),options:d,value:void 0}),c}case"CLEAR":return t.required?[]:[{label:t.i18n.t("general:none"),value:"null"}];default:return e}},fq="condition-value-relationship",fW=e=>{let{disabled:t,field:{admin:{isSortable:n}={},hasMany:a,relationTo:l},filterOptions:r,onChange:c,value:d}=e,{config:{routes:{api:p},serverURL:h},getEntityConfig:f}=(0,i.b)(),m=Array.isArray(l),[g,b]=(0,o.useReducer)(fH,[]),[x,y]=(0,o.useState)(""),w=al(x,300),[C,j]=(0,o.useState)(""),[S,_]=(0,o.useState)(!1),{i18n:k,t:N}=(0,s.d)(),E=ab(),P=m?l:[l],D=o.useRef(new Map(P.map(e=>[e,{hasLoadedAll:!1,nextPage:1}]))),O=(0,o.useCallback)((e,t)=>{b({type:"ADD",collection:f({collectionSlug:t}),data:e,hasMultipleRelations:m,i18n:k,relation:t})},[m,k,f]),T=sX(async e=>{let{abortController:t,relationSlug:n}=e,a=D.current.get(n);if(n&&!a.hasLoadedAll){var l,o;let e=(null==(o=f({collectionSlug:n}))||null==(l=o.admin)?void 0:l.useAsTitle)||"id",i={depth:0,limit:10,locale:E.code,page:a.nextPage,select:{[e]:!0},where:{and:[]}};r&&(null==r?void 0:r[n])&&i.where.and.push(r[n]),w&&i.where.and.push({[e]:{like:w}});try{let e=await fetch("".concat(h).concat(p,"/").concat(n).concat(v.A(i,{addQueryPrefix:!0})),{credentials:"include",headers:{"Accept-Language":k.language},signal:t.signal});if(e.ok){let t=await e.json();t.docs.length>0&&(O(t,n),t.nextPage?D.current.set(n,{hasLoadedAll:!1,nextPage:t.nextPage}):D.current.set(n,{hasLoadedAll:!0,nextPage:null}))}else j(N("error:unspecific"))}catch(e){t.signal.aborted||console.error(e)}}_(!0)}),R=o.useCallback(()=>{let e=D.current.entries().next().value;e[0]&&!e[1].hasLoadedAll&&T({abortController:new AbortController,relationSlug:e[0]})},[]),A=(0,o.useCallback)(()=>{if(d){if(a)return Array.isArray(d)?d.map(e=>{if(m){let t;return g.forEach(n=>{n.options&&n.options.some(n=>(null==n?void 0:n.value)==e.value&&(t=n,!0))}),t}return g.find(t=>t.value==e)}):void 0;if(m){let e;return g.forEach(t=>{(null==t?void 0:t.options)&&t.options.some(t=>(null==t?void 0:t.value)==d.value&&(e=t,!0))}),e}return g.find(e=>e.value==d)}},[a,m,d,g]),L=(0,o.useCallback)(e=>{e!==x&&(b({type:"CLEAR",i18n:k,required:!1}),D.current=new Map((Array.isArray(l)?l:[l]).map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),y(e))},[k,l,x]),M=(0,o.useCallback)(async(e,t)=>{if(!C&&"null"!==e&&e&&t){let n=await fetch("".concat(h).concat(p,"/").concat(t,"/").concat(e,"?depth=0"),{credentials:"include",headers:{"Accept-Language":k.language}});n.ok?O({docs:[await n.json()]},t):console.error(N("error:loadingDocument",{id:e}))}},[k,O,p,C,h,N]);(0,o.useEffect)(()=>{let e=Array.isArray(l)?l:[l];D.current=new Map(e.map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),b({type:"CLEAR",i18n:k,required:!1}),_(!1);let t=[];return e.forEach(e=>{let n=new AbortController;T({abortController:n,relationSlug:e}),t.push(n)}),()=>{t.forEach(e=>{if(e.signal)try{e.abort()}catch(e){}})}},[k,l,w]),(0,o.useEffect)(()=>{d&&S&&(a?(A()||[]).forEach((e,t)=>{e||(m?M(d[t].value,d[t].relationTo):M(d[t],l))}):A()||(m?M(d.value,d.relationTo):M(d,l)))},[M,A,a,m,l,d,S]);let I=["field-type",fq,C&&"error-loading"].filter(Boolean).join(" "),F=A()||d;return(0,u.jsxs)("div",{className:I,children:[!C&&(0,u.jsx)(sD,{disabled:t,isMulti:a,isSortable:n,onChange:e=>{if(!e)return void c(null);a&&Array.isArray(e)?c(e?e.map(e=>m?{relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}:null==e?void 0:e.value):null):m&&!Array.isArray(e)?c({relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}):Array.isArray(e)||c(null==e?void 0:e.value)},onInputChange:L,onMenuScrollToBottom:R,options:g,placeholder:N("general:selectValue"),value:F}),C&&(0,u.jsx)("div",{className:"".concat(fq,"__error-loading"),children:C})]})},fY=e=>{let t,n,a,l,r=(0,d.c)(26),{disabled:i,isClearable:c,onChange:h,operator:f,options:m,value:g}=e,{i18n:v}=(0,s.d)(),b;r[0]!==m?(b=sO(m),r[0]=m,r[1]=b):b=r[1];let[x,y]=o.useState(b),w;r[2]===Symbol.for("react.memo_cache_sentinel")?(w=["in","not_in"],r[2]=w):w=r[2];let C=w.includes(f),j;if(C&&Array.isArray(g)){let e;r[3]!==v||r[4]!==x?(e=e=>{var t;let n=x.find(t=>t.value===e);return{label:n?(0,p.sC)(n.label,v):e,value:null!=(t=null==n?void 0:n.value)?t:e}},r[3]=v,r[4]=x,r[5]=e):e=r[5],j=g.map(e)}else if(g){var S;let e,t;if(r[6]!==v||r[7]!==x||r[8]!==g){let n;r[11]!==g?(n=e=>e.value===g,r[11]=g,r[12]=n):n=r[12],t=(e=x.find(n))?(0,p.sC)(e.label,v):g,r[6]=v,r[7]=x,r[8]=g,r[9]=e,r[10]=t}else e=r[9],t=r[10];j={label:t,value:null!=(S=null==e?void 0:e.value)?S:g}}r[13]!==C||r[14]!==h?(t=e=>{let t;h(e?C?Array.isArray(e)?e.map(fK):[]:e.value:null)},r[13]=C,r[14]=h,r[15]=t):t=r[15];let _=t,k,N;return r[16]!==m?(k=()=>{y(sO(m))},N=[m],r[16]=m,r[17]=k,r[18]=N):(k=r[17],N=r[18]),o.useEffect(k,N),r[19]!==C||r[20]!==h||r[21]!==g?(n=()=>{!C&&Array.isArray(g)&&h(g[0])},a=[C,h,g],r[19]=C,r[20]=h,r[21]=g,r[22]=n,r[23]=a):(n=r[22],a=r[23]),o.useEffect(n,a),r[24]!==v?(l=e=>({...e,label:(0,p.sC)(e.label,v)}),r[24]=v,r[25]=l):l=r[25],(0,u.jsx)(sD,{disabled:i,isClearable:c,isMulti:C,onChange:_,options:x.map(l),value:j})};function fK(e){return e.value}var fG=e=>{let t,n=(0,d.c)(7),{disabled:a,onChange:l,value:o}=e,{t:r}=(0,s.d)(),i;return n[0]!==l?(i=e=>l(e.target.value),n[0]=l,n[1]=i):i=n[1],n[2]!==a||n[3]!==r||n[4]!==i||n[5]!==o?(t=(0,u.jsx)("input",{className:"condition-value-text",disabled:a,onChange:i,placeholder:r("general:enterAValue"),type:"text",value:o||""}),n[2]=a,n[3]=r,n[4]=i,n[5]=o,n[6]=t):t=n[6],t},fX=e=>{var t,n;let{booleanSelect:a,disabled:l,filterOptions:o,internalField:r,onChange:i,operator:s,options:c,value:d}=e;if(a||["radio","select"].includes(null==r||null==(t=r.field)?void 0:t.type))return(0,u.jsx)(fY,{disabled:l,field:r.field,isClearable:!a,onChange:i,operator:s,options:c,value:d});switch(null==r||null==(n=r.field)?void 0:n.type){case"date":return(0,u.jsx)(fz,{disabled:l,field:r.field,onChange:i,operator:s,value:d});case"number":return(0,u.jsx)(fV,{disabled:l,field:r.field,onChange:i,operator:s,value:d});case"relationship":return(0,u.jsx)(fW,{disabled:l,field:r.field,filterOptions:o,onChange:i,operator:s,value:d});default:return(0,u.jsx)(fG,{disabled:l,field:null==r?void 0:r.field,onChange:i,operator:s,value:d})}},fQ="condition",f$=e=>{var t,n,a,l,r;let{addCondition:i,andIndex:c,fieldName:d,filterOptions:p,operator:h,orIndex:f,reducedFields:m,removeCondition:g,RenderedFilter:v,updateCondition:b,value:x}=e,{t:y}=(0,s.d)(),w=m.find(e=>e.value===d),[C,j]=(0,o.useState)(x),S=al(C,300),_=["exists"].includes(h)||(null==w||null==(t=w.field)?void 0:t.type)==="checkbox",k=[];_?k=[{label:y("general:true"),value:"true"},{label:y("general:false"),value:"false"}]:(null==w?void 0:w.field)&&"options"in w.field&&(k=w.field.options);let N=sX(async e=>{h&&await b({andIndex:c,field:w,operator:h,orIndex:f,value:null===e?"":e})});(0,o.useEffect)(()=>{N(S)},[S]);let E=!(null==w?void 0:w.value)&&"number"!=typeof(null==w?void 0:w.value)||(null==w||null==(a=w.field)||null==(n=a.admin)?void 0:n.disableListFilter),P=(0,o.useCallback)(async e=>{j(void 0),await b({andIndex:c,field:m.find(t=>t.value===e.value),operator:h,orIndex:f,value:void 0})},[c,h,f,m,b]),D=(0,o.useCallback)(async e=>{await b({andIndex:c,field:w,operator:e.value,orIndex:f,value:x})},[c,w,f,b,x]);return(0,u.jsx)("div",{className:fQ,children:(0,u.jsxs)("div",{className:"".concat(fQ,"__wrap"),children:[(0,u.jsxs)("div",{className:"".concat(fQ,"__inputs"),children:[(0,u.jsx)("div",{className:"".concat(fQ,"__field"),children:(0,u.jsx)(sD,{disabled:E,isClearable:!1,onChange:P,options:m.filter(e=>!e.field.admin.disableListFilter),value:w||{value:null==w?void 0:w.value}})}),(0,u.jsx)("div",{className:"".concat(fQ,"__operator"),children:(0,u.jsx)(sD,{disabled:E,isClearable:!1,onChange:D,options:null==w?void 0:w.operators,value:(null==w?void 0:w.operators.find(e=>h===e.value))||null})}),(0,u.jsx)("div",{className:"".concat(fQ,"__value"),children:v||(0,u.jsx)(fX,{booleanSelect:_,disabled:!h||!w||(null==w||null==(r=w.field)||null==(l=r.admin)?void 0:l.disableListFilter),filterOptions:p,internalField:w,onChange:j,operator:h,options:k,value:null!=C?C:""})})]}),(0,u.jsxs)("div",{className:"".concat(fQ,"__actions"),children:[(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(fQ,"__actions-remove"),icon:"x",iconStyle:"with-border",onClick:()=>g({andIndex:c,orIndex:f}),round:!0}),(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(fQ,"__actions-add"),icon:"plus",iconStyle:"with-border",onClick:()=>i({andIndex:c+1,field:m.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:f,relation:"and"}),round:!0})]})]})})},fZ=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],fJ=[...fZ,{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],f0=[...fJ,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],f1=[...fZ,{label:"exists",value:"exists"},{label:"near",value:"near"}],f2={label:"within",value:"within"},f3={label:"intersects",value:"intersects"},f6={label:"isLike",value:"like"},f5={label:"isNotLike",value:"not_like"},f4={label:"contains",value:"contains"},f8={checkbox:{component:"Text",operators:fZ},code:{component:"Text",operators:[...fJ,f6,f5,f4]},date:{component:"Date",operators:[...fJ,...f0]},email:{component:"Text",operators:[...fJ,f4]},json:{component:"Text",operators:[...fJ,f6,f4,f5,f2,f3]},number:{component:"Number",operators:[...fJ,...f0]},point:{component:"Point",operators:[...f1,f2,f3]},radio:{component:"Select",operators:[...fJ]},relationship:{component:"Relationship",operators:[...fJ]},richText:{component:"Text",operators:[...fJ,f6,f5,f4]},select:{component:"Select",operators:[...fJ]},text:{component:"Text",operators:[...fJ,f6,f5,f4]},textarea:{component:"Text",operators:[...fJ,f6,f5,f4]},upload:{component:"Text",operators:[...fJ]}},f9=e=>{let{fields:t,i18n:n,labelPrefix:a,pathPrefix:l}=e;return t.reduce((e,t)=>{if((0,x.I2)(t)&&!(0,x.uT)(t))return e;if("tabs"===t.type&&"tabs"in t)return t.tabs.forEach(t=>{if("boolean"!=typeof t.label){let o=(0,p.sC)(t.label,n),r=(0,x.pz)(t)&&t.name?l?l+"."+t.name:t.name:l;"string"==typeof o&&e.push(...f9({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+o:o,pathPrefix:r}))}}),e;if("row"===t.type&&"fields"in t)return e.push(...f9({fields:t.fields,i18n:n,labelPrefix:a,pathPrefix:l})),e;if("collapsible"===t.type&&"fields"in t){let o=(0,p.sC)(t.label||"",n);return e.push(...f9({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+o:o,pathPrefix:l})),e}if("group"===t.type&&"fields"in t){let o=(0,p.sC)(t.label||"",n),r=t.name?l?l+"."+t.name:t.name:l;return e.push(...f9({fields:t.fields,i18n:n,labelPrefix:a?o?a+" > "+o:a:o,pathPrefix:r})),e}if("object"==typeof f8[t.type]){let o=new Set,r=f8[t.type].operators.reduce((e,t)=>{if(!o.has(t.value)){o.add(t.value);let a="operators:".concat(t.label);e.push({...t,label:n.t(a)})}return e},[]),i=(0,p.sC)(t.label||"",n),s={label:a?dv({field:t,prefix:a}):i,value:l?dg(l,t):t.name,...f8[t.type],field:t,operators:r};return e.push(s),e}return e},[])},f7="where-builder",me=e=>{let{collectionPluralLabel:t,fields:n,renderedFilters:a,resolvedFilterOptions:l}=e,{i18n:r,t:i}=(0,s.d)(),c=(0,o.useMemo)(()=>f9({fields:n,i18n:r}),[n,r]),{handleWhereChange:d,query:h}=s1(),f=(0,o.useMemo)(()=>{let e=h.where;if(e){if((0,U.Q)(e))return e.or;let t=(0,H.a)(e);if((0,U.Q)(t))return t.or;console.warn("Invalid where query in URL: ".concat(JSON.stringify(e)))}return[]},[h.where]),m=o.useCallback(async e=>{let{andIndex:t,field:n,orIndex:a,relation:l}=e,o=[...f],r=f8[n.field.type].operators[0].value;"and"===l?o[a].and.splice(t,0,{[n.value]:{[r]:void 0}}):o.push({and:[{[n.value]:{[r]:void 0}}]}),await d({or:o})},[f,d]),g=o.useCallback(async e=>{let{andIndex:t,field:n,operator:a,orIndex:l,value:o}=e,r=f[l].and[t],i=f8[n.field.type],s=a||i.operators[0].value;if("object"==typeof r&&n.value){var c,u;let e=null!=o?o:null==r?void 0:r[s],a=e!==(null==r||null==(c=r[n.value])?void 0:c[s]),i=s!==(null==(u=Object.keys((null==r?void 0:r[n.value])||{}))?void 0:u[0]);if(a||i){let a={[n.value]:{[s]:e}},o=[...f];o[l].and[t]=a,await d({or:o})}}},[f,d]),v=o.useCallback(async e=>{let{andIndex:t,orIndex:n}=e,a=[...f];a[n].and.splice(t,1),0===a[n].and.length&&a.splice(n,1),await d({or:a})},[f,d]);return(0,u.jsxs)("div",{className:f7,children:[f.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(f7,"__label"),children:i("general:filterWhere",{label:(0,p.sC)(t,r)})}),(0,u.jsx)("ul",{className:"".concat(f7,"__or-filters"),children:f.map((e,t)=>{let n="".concat(t,"_").concat(Array.isArray(null==e?void 0:e.and)?e.and.length:"");return(0,u.jsxs)("li",{children:[0!==t&&(0,u.jsx)("div",{className:"".concat(f7,"__label"),children:i("general:or")}),(0,u.jsx)("ul",{className:"".concat(f7,"__and-filters"),children:Array.isArray(null==e?void 0:e.and)&&e.and.map((e,n)=>{var o,r;let s=f[t].and[n],d=Object.keys(s)[0],p=(null==(o=Object.keys((null==s?void 0:s[d])||{}))?void 0:o[0])||void 0,h=(null==s||null==(r=s[d])?void 0:r[p])||void 0;return(0,u.jsxs)("li",{children:[0!==n&&(0,u.jsx)("div",{className:"".concat(f7,"__label"),children:i("general:and")}),(0,u.jsx)(f$,{addCondition:m,andIndex:n,fieldName:d,filterOptions:null==l?void 0:l.get(d),operator:p,orIndex:t,reducedFields:c,removeCondition:v,RenderedFilter:null==a?void 0:a.get(d),updateCondition:g,value:h})]},n)})})]},n)})}),(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(f7,"__add-or"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await m({andIndex:0,field:c[0],orIndex:f.length,relation:"or"})},children:i("general:or")})]}),0===f.length&&(0,u.jsxs)("div",{className:"".concat(f7,"__no-filters"),children:[(0,u.jsx)("div",{className:"".concat(f7,"__label"),children:i("general:noFiltersSet")}),(0,u.jsx)(ti,{buttonStyle:"icon-label",className:"".concat(f7,"__add-first-filter"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{c.length>0&&await m({andIndex:0,field:c.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:f.length,relation:"or"})},children:i("general:addFilter")})]})]})},mt=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),height:"14",viewBox:"0 0 16 14",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M12.0002 13C12.0002 11.5855 11.4383 10.229 10.4381 9.22876C9.43787 8.22857 8.08132 7.66667 6.66683 7.66667M6.66683 7.66667C5.25234 7.66667 3.89579 8.22857 2.89559 9.22876C1.8954 10.229 1.3335 11.5855 1.3335 13M6.66683 7.66667C8.50778 7.66667 10.0002 6.17428 10.0002 4.33333C10.0002 2.49238 8.50778 1 6.66683 1C4.82588 1 3.3335 2.49238 3.3335 4.33333C3.3335 6.17428 4.82588 7.66667 6.66683 7.66667ZM14.6668 12.3333C14.6668 10.0867 13.3335 8 12.0002 7C12.4384 6.67118 12.7889 6.23939 13.0205 5.74285C13.2522 5.2463 13.3578 4.70031 13.3282 4.1532C13.2985 3.60609 13.1344 3.07472 12.8505 2.60613C12.5665 2.13754 12.1714 1.74617 11.7002 1.46667",strokeLinecap:"square"})})},mn="active-query-preset";function ma(e){let t,n=(0,d.c)(36),{activePreset:a,openPresetListDrawer:l,resetPreset:o}=e,{i18n:r,t:c}=(0,s.d)(),{getEntityConfig:h}=(0,i.b)(),f,m,g,v,b,x,y,w,C,j,S;if(n[0]!==a||n[1]!==h||n[2]!==r||n[3]!==l||n[4]!==c){let e=h({collectionSlug:"payload-query-presets"});m=u.jsxs,g=l$;let t=a&&"".concat(mn,"--active"),o;n[16]!==t?(o=[mn,t].filter(Boolean),n[16]=t,n[17]=o):o=n[17],w=o.join(" "),C="select-preset",n[18]!==l?(j=()=>{l()},n[18]=l,n[19]=j):j=n[19],S=a?"always-white":"light",n[20]!==(null==a?void 0:a.isShared)?(y=(null==a?void 0:a.isShared)&&(0,u.jsx)(mt,{className:"".concat(mn,"__shared")}),n[20]=null==a?void 0:a.isShared,n[21]=y):y=n[21],b=u.jsx,x="div",f="".concat(mn,"__label-text"),v=(null==a?void 0:a.title)||c("general:selectLabel",{label:(0,p.sC)(e.labels.singular,r)}),n[0]=a,n[1]=h,n[2]=r,n[3]=l,n[4]=c,n[5]=f,n[6]=m,n[7]=g,n[8]=v,n[9]=b,n[10]=x,n[11]=y,n[12]=w,n[13]=C,n[14]=j,n[15]=S}else f=n[5],m=n[6],g=n[7],v=n[8],b=n[9],x=n[10],y=n[11],w=n[12],C=n[13],j=n[14],S=n[15];return n[22]!==a||n[23]!==o||n[24]!==f||n[25]!==m||n[26]!==g||n[27]!==v||n[28]!==b||n[29]!==x||n[30]!==y||n[31]!==w||n[32]!==C||n[33]!==j||n[34]!==S?(t=m(g,{className:w,id:C,onClick:j,pillStyle:S,children:[y,b(x,{className:f,children:v}),a?(0,u.jsx)("div",{className:"".concat(mn,"__clear"),id:"clear-preset",onClick:async e=>{e.stopPropagation(),await o()},onKeyDown:async e=>{e.stopPropagation(),await o()},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{})}):null]}),n[22]=a,n[23]=o,n[24]=f,n[25]=m,n[26]=g,n[27]=v,n[28]=b,n[29]=x,n[30]=y,n[31]=w,n[32]=C,n[33]=j,n[34]=S,n[35]=t):t=n[35],t}var ml=(e,t)=>e?(0,C.A)(t).filter(t=>(0,x.Z7)(t)&&e.includes(t.name)):null,mo="confirm-delete-preset",mr="payload-query-presets",mi=e=>{var t,n,a;let{activePreset:l,collectionSlug:r,queryPresetPermissions:c}=e,{modified:d,query:h,refineListData:f,setModified:m}=s1(),{i18n:g,t:v}=(0,s.d)(),{openModal:b}=t6(),{config:{routes:{api:x}},getEntityConfig:y}=(0,i.b)(),w=y({collectionSlug:mr}),[C,,{openDrawer:j}]=cj({id:null==l?void 0:l.id,collectionSlug:mr}),[_,,{closeDrawer:k,openDrawer:N}]=cj({collectionSlug:mr}),[E,,{closeDrawer:P,openDrawer:D}]=pS({collectionSlugs:[mr],filterOptions:(0,o.useMemo)(()=>({"payload-query-presets":{relatedCollection:{equals:r}}}),[r]),selectedCollection:mr}),O=(0,o.useCallback)(async e=>{await f({columns:e.columns?(0,S.F)(e.columns):void 0,preset:e.id,where:e.where},!1)},[f]),T=(0,o.useCallback)(async()=>{await f({columns:void 0,preset:void 0,where:void 0},!1)},[f]),R=(0,o.useCallback)(async()=>{try{await fetch("".concat(x,"/").concat(mr,"/").concat(l.id),{method:"DELETE"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(nG.success(v("general:titleDeleted",{label:(0,p.sC)(null==w||null==(t=w.labels)?void 0:t.singular,g),title:l.title})),await T()):n.errors?n.errors.forEach(e=>nG.error(e.message)):nG.error(v("error:deletingTitle",{title:l.title}))}catch(e){nG.error(v("error:deletingTitle",{title:l.title}))}})}catch(e){nG.error(v("error:deletingTitle",{title:l.title}))}},[x,null==l?void 0:l.id,null==l?void 0:l.title,v,w,g,T]),A=(0,o.useCallback)(async()=>{try{await fetch("".concat(x,"/payload-query-presets/").concat(l.id),{body:JSON.stringify({columns:(0,S.l)(h.columns),where:h.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(nG.success(v("general:updatedLabelSuccessfully",{label:(0,p.sC)(null==w||null==(t=w.labels)?void 0:t.singular,g)})),m(!1)):n.errors?n.errors.forEach(e=>nG.error(e.message)):nG.error(v("error:unknown"))}catch(e){nG.error(v("error:unknown"))}})}catch(e){nG.error(v("error:unknown"))}},[x,null==l?void 0:l.id,h.columns,h.where,v,null==w||null==(t=w.labels)?void 0:t.singular,g,m]),L=(0,o.useMemo)(()=>{var e;let t=[(0,u.jsx)(eZ,{label:(0,p.sC)(null==w||null==(e=w.labels)?void 0:e.plural,g)},"preset-group-label")];return l&&d&&(t.push((0,u.jsx)(eQ.Button,{onClick:async()=>{await f({columns:(0,S.F)(l.columns),where:l.where},!1)},children:v("general:reset")})),c.update&&t.push((0,u.jsx)(eQ.Button,{onClick:async()=>{await A()},children:l.isShared?v("general:updateForEveryone"):v("general:save")}))),t.push((0,u.jsx)(eQ.Button,{onClick:()=>{N()},children:v("general:createNew")})),l&&(null==c?void 0:c.delete)&&t.push((0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(eQ.Button,{onClick:()=>b(mo),children:v("general:delete")}),(0,u.jsx)(eQ.Button,{onClick:()=>{j()},children:v("general:edit")})]})),t},[l,null==c?void 0:c.delete,null==c?void 0:c.update,N,j,b,A,v,f,d,null==w||null==(n=w.labels)?void 0:n.plural,g]);return{CreateNewPresetDrawer:(0,u.jsx)(_,{initialData:{columns:(0,S.l)(h.columns),relatedCollection:r,where:h.where},onSave:async e=>{let{doc:t}=e;k(),await O(t)},redirectAfterCreate:!1}),DeletePresetModal:(0,u.jsx)(at,{body:(0,u.jsx)(hy,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:v,variables:{label:null==w||null==(a=w.labels)?void 0:a.singular,title:null==l?void 0:l.title}}),confirmingLabel:v("general:deleting"),heading:v("general:confirmDeletion"),modalSlug:mo,onConfirm:R}),EditPresetDrawer:(0,u.jsx)(C,{onDelete:()=>{},onDuplicate:async e=>{let{doc:t}=e;await O(t)},onSave:async e=>{let{doc:t}=e;await O(t)}}),hasModifiedPreset:d,openPresetListDrawer:D,PresetListDrawer:(0,u.jsx)(E,{allowCreate:!1,disableQueryPresets:!0,onSelect:async e=>{let{doc:t}=e;P(),await O(t)}}),queryPresetMenuItems:L,resetPreset:T}},ms="list-controls",mc=e=>{var t,n;let{beforeActions:a,collectionConfig:l,collectionSlug:r,disableQueryPresets:i,enableColumns:c=!0,enableSort:d=!1,listMenuItems:h,queryPreset:f,queryPresetPermissions:m,renderedFilters:g,resolvedFilterOptions:v}=e,{handleSearchChange:b,query:x}=s1(),{CreateNewPresetDrawer:y,DeletePresetModal:w,EditPresetDrawer:C,hasModifiedPreset:j,openPresetListDrawer:S,PresetListDrawer:_,queryPresetMenuItems:k,resetPreset:N}=mi({activePreset:f,collectionSlug:r,queryPresetPermissions:m}),E=p9(l),{i18n:P,t:D}=(0,s.d)(),{breakpoints:{s:O}}=e6(),T=null!=(n=E&&(0,p.sC)("label"in E&&("string"==typeof E.label||"object"==typeof E.label)?E.label:"name"in E?E.name:null,P))?n:"ID",R=ml(l.admin.listSearchableFields,l.fields),A=(0,o.useRef)(D("general:searchBy",{label:(0,p.sC)(T,P)})),L=(0,o.useRef)(!!(null==x?void 0:x.where)),M=(0,U.Q)(null==x?void 0:x.where),[I,F]=(0,o.useState)(M?"where":void 0);(0,o.useEffect)(()=>{!L.current||(null==x?void 0:x.where)?(null==x?void 0:x.where)&&(L.current=!0):L.current=!1},[F,null==x?void 0:x.where]),(0,o.useEffect)(()=>{(null==R?void 0:R.length)>0?A.current=R.reduce((e,t,n)=>{let a="label"in t&&t.label?t.label:"name"in t?t.name:null;return 0===n?"".concat(D("general:searchBy",{label:(0,p.sC)(a,P)})):n===R.length-1?"".concat(e," ").concat(D("general:or")," ").concat((0,p.sC)(a,P)):"".concat(e,", ").concat((0,p.sC)(a,P))},""):A.current=D("general:searchBy",{label:(0,p.sC)(T,P)})},[D,R,P,T]);let B=h;return(null==l?void 0:l.enableQueryPresets)&&!i&&(null==k?void 0:k.length)>0&&(B=[...k,(null==h?void 0:h.length)>0?(0,u.jsx)(eQ.Divider,{},"divider"):null,...h||[]]),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:ms,children:[(0,u.jsxs)("div",{className:"".concat(ms,"__wrap"),children:[(0,u.jsx)(l9,{}),(0,u.jsx)(fB,{fieldName:E&&"name"in E?null==E?void 0:E.name:null,handleChange:e=>void b(e),initialParams:x,label:A.current},r),f&&j?(0,u.jsx)("div",{className:"".concat(ms,"__modified"),children:"Modified"}):null,(0,u.jsx)("div",{className:"".concat(ms,"__buttons"),children:(0,u.jsxs)("div",{className:"".concat(ms,"__buttons-wrap"),children:[!O&&(0,u.jsx)(o.Fragment,{children:a&&a}),c&&(0,u.jsx)(l$,{"aria-controls":"".concat(ms,"-columns"),"aria-expanded":"columns"===I,className:"".concat(ms,"__toggle-columns"),icon:(0,u.jsx)(eW,{direction:"columns"===I?"up":"down"}),onClick:()=>F("columns"!==I?"columns":void 0),pillStyle:"light",children:D("general:columns")}),(0,u.jsx)(l$,{"aria-controls":"".concat(ms,"-where"),"aria-expanded":"where"===I,className:"".concat(ms,"__toggle-where"),icon:(0,u.jsx)(eW,{direction:"where"===I?"up":"down"}),onClick:()=>F("where"!==I?"where":void 0),pillStyle:"light",children:D("general:filters")}),d&&(0,u.jsx)(l$,{"aria-controls":"".concat(ms,"-sort"),"aria-expanded":"sort"===I,className:"".concat(ms,"__toggle-sort"),icon:(0,u.jsx)(eW,{}),onClick:()=>F("sort"!==I?"sort":void 0),pillStyle:"light",children:D("general:sort")}),!i&&(0,u.jsx)(ma,{activePreset:f,openPresetListDrawer:S,resetPreset:N}),B&&Array.isArray(B)&&B.length>0&&(0,u.jsx)(ta,{button:(0,u.jsx)(fI,{ariaLabel:D("general:moreOptions")}),className:"".concat(ms,"__popup"),horizontalAlign:"right",id:"list-menu",size:"large",verticalAlign:"bottom",children:(0,u.jsx)(eQ.ButtonGroup,{children:B.map((e,t)=>(0,u.jsx)(o.Fragment,{children:e},"list-menu-item-".concat(t)))})})]})})]}),c&&(0,u.jsx)(lV,{className:"".concat(ms,"__columns"),height:"columns"===I?"auto":0,id:"".concat(ms,"-columns"),children:(0,u.jsx)(ct,{collectionSlug:l.slug})}),(0,u.jsx)(lV,{className:"".concat(ms,"__where"),height:"where"===I?"auto":0,id:"".concat(ms,"-where"),children:(0,u.jsx)(me,{collectionPluralLabel:null==l||null==(t=l.labels)?void 0:t.plural,collectionSlug:l.slug,fields:null==l?void 0:l.fields,renderedFilters:g,resolvedFilterOptions:v})})]}),_,C,y,w]})},mu=e=>{var t,n;let{clearRouteCache:a}=h8(),{collection:{slug:l,labels:{plural:r,singular:c},versions:d}={}}=e,{config:{routes:{api:h},serverURL:m}}=(0,i.b)(),{permissions:g}=as(),{i18n:b,t:x}=(0,s.d)(),{getQueryParams:y,selectAll:w}=ft(),C=(0,f.useRouter)(),j=(0,f.useSearchParams)(),{openModal:S}=t6(),_=null==g||null==(n=g.collections)||null==(t=n[l])?void 0:t.update,k="publish-".concat(l),N=(0,o.useCallback)(()=>{nG.error(x("error:unknown"))},[x]),E=(0,o.useCallback)(async()=>{await ao.patch("".concat(m).concat(h,"/").concat(l).concat(y({_status:{not_equals:"published"}}),"&draft=true"),{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":b.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,l=n>1?r:c;return e.status<400||n>0?(nG.success(x("general:updatedCountSuccessfully",{count:n,label:(0,p.sC)(l,b)})),(null==t?void 0:t.errors.length)>0&&nG.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),C.replace(v.A({...sJ(j),page:w?"1":void 0},{addQueryPrefix:!0})),a(),null):(t.errors?t.errors.forEach(e=>nG.error(e.message)):N(),!1)}catch(e){return N()}})},[m,h,l,y,b,r,c,x,C,j,w,a,N]);return(null==d?void 0:d.drafts)&&w!==h9.None&&_?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("button",{className:"".concat("publish-many","__toggle"),onClick:()=>{S(k)},type:"button",children:x("version:publish")}),(0,u.jsx)(at,{body:x("version:aboutToPublishSelection",{label:(0,p.sC)(r,b)}),cancelLabel:x("general:cancel"),confirmingLabel:x("version:publishing"),confirmLabel:x("general:confirm"),heading:x("version:confirmPublish"),modalSlug:k,onConfirm:E})]}):null},md=e=>{var t,n;let{collection:{slug:a,labels:{plural:l,singular:r},versions:c}={}}=e,{config:{routes:{api:d},serverURL:h}}=(0,i.b)(),{permissions:m}=as(),{toggleModal:g}=t6(),{i18n:b,t:x}=(0,s.d)(),y=(0,f.useSearchParams)(),{getQueryParams:w,selectAll:C}=ft(),j=(0,f.useRouter)(),{clearRouteCache:S}=h8(),_=null==m||null==(n=m.collections)||null==(t=n[a])?void 0:t.update,k="unpublish-".concat(a),N=(0,o.useCallback)(()=>{nG.error(x("error:unknown"))},[x]),E=(0,o.useCallback)(async()=>{await ao.patch("".concat(h).concat(d,"/").concat(a).concat(w({_status:{not_equals:"draft"}})),{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":b.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,a=n>1?l:r;return e.status<400||n>0?(nG.success(x("general:updatedCountSuccessfully",{count:n,label:(0,p.sC)(a,b)})),(null==t?void 0:t.errors.length)>0&&nG.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),j.replace(v.A({...sJ(y),page:C?"1":void 0},{addQueryPrefix:!0})),S(),null):(t.errors?t.errors.forEach(e=>nG.error(e.message)):N(),!1)}catch(e){return N()}})},[h,d,a,w,b,l,r,x,j,y,C,S,N]);return(null==c?void 0:c.drafts)&&C!==h9.None&&_?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("button",{className:"".concat("unpublish-many","__toggle"),onClick:()=>{g(k)},type:"button",children:x("version:unpublish")}),(0,u.jsx)(at,{body:x("version:aboutToUnpublishSelection",{label:(0,p.sC)(l,b)}),confirmingLabel:x("version:unpublishing"),heading:x("version:confirmUnpublish"),modalSlug:k,onConfirm:E})]}):null},mp="list-selection",mh=e=>{let t,n=(0,d.c)(10),{collectionConfig:a,disableBulkDelete:l,disableBulkEdit:r,label:i}=e,{count:c,selectAll:p,toggleAll:h,totalDocs:f}=ft(),{t:m}=(0,s.d)();return 0===c?null:(n[0]!==a||n[1]!==c||n[2]!==l||n[3]!==r||n[4]!==i||n[5]!==p||n[6]!==m||n[7]!==h||n[8]!==f?(t=(0,u.jsxs)("div",{className:mp,children:[(0,u.jsx)("span",{children:m("general:selectedCount",{count:c,label:""})}),p!==h9.AllAvailable&&c<f&&(0,u.jsx)("button",{"aria-label":m("general:selectAll",{count:c,label:i}),className:"".concat(mp,"__button"),id:"select-all-across-pages",onClick:()=>h(!0),type:"button",children:m("general:selectAll",{count:f,label:""})}),!r&&!l&&(0,u.jsx)("span",{children:""}),!r&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(fT,{collection:a}),(0,u.jsx)(mu,{collection:a}),(0,u.jsx)(md,{collection:a})]}),!l&&(0,u.jsx)(fn,{collection:a})]}),n[0]=a,n[1]=c,n[2]=l,n[3]=r,n[4]=i,n[5]=p,n[6]=m,n[7]=h,n[8]=f,n[9]=t):t=n[9],t)},mf="list-header",mm="list-drawer",mg=e=>{var t,n,a;let{className:l,collectionConfig:o,Description:r,disableBulkDelete:i,disableBulkEdit:s,hasCreatePermission:c,i18n:d,isBulkUploadEnabled:h,newDocumentURL:f,openBulkUpload:m,smallBreak:g,t:v}=e;return(0,u.jsxs)("header",{className:[mf,l].filter(Boolean).join(" "),children:[(0,u.jsx)("h1",{children:(0,p.sC)(null==o||null==(t=o.labels)?void 0:t.plural,d)}),c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ti,{"aria-label":d.t("general:createNewLabel",{label:(0,p.sC)(null==o||null==(n=o.labels)?void 0:n.singular,d)}),buttonStyle:"pill",el:"link",size:"small",to:f,children:d.t("general:createNew")}),h&&(0,u.jsx)(ti,{"aria-label":v("upload:bulkUpload"),buttonStyle:"pill",onClick:m,size:"small",children:v("upload:bulkUpload")})]}),!g&&(0,u.jsx)(mh,{collectionConfig:o,disableBulkDelete:i,disableBulkEdit:s,label:(0,p.sC)(null==o||null==(a=o.labels)?void 0:a.plural,d)}),r]})},mv=e=>{var t;let{Description:n,hasCreatePermission:a,i18n:l,t:o}=e,{config:{collections:r},getEntityConfig:c}=(0,i.b)(),{closeModal:d}=t6(),{DocumentDrawerToggler:h,drawerSlug:f,enabledCollections:m,selectedOption:g,setSelectedOption:v}=sZ(),b=c({collectionSlug:g.value}),x=r.filter(e=>{let{slug:t}=e;return m.includes(t)}),y=m.length>1;return(0,u.jsxs)("header",{className:"".concat(mm,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(mm,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(mm,"__header-content"),children:[(0,u.jsx)("h2",{className:"".concat(mm,"__header-text"),children:(0,p.sC)(null==b||null==(t=b.labels)?void 0:t.plural,l)}),a&&(0,u.jsx)(h,{className:"".concat(mm,"__create-new-button"),children:(0,u.jsx)(l$,{children:o("general:createNew")})})]}),(0,u.jsx)("button",{"aria-label":o("general:close"),className:"".concat(mm,"__header-close"),onClick:()=>{d(f)},type:"button",children:(0,u.jsx)(s.a,{})})]}),n,y&&(0,u.jsxs)("div",{className:"".concat(mm,"__select-collection-wrap"),children:[(0,u.jsx)(aw,{label:o("upload:selectCollectionToBrowse")}),(0,u.jsx)(sD,{className:"".concat(mf,"__select-collection"),onChange:v,options:x.map(e=>({label:(0,p.sC)(e.labels.singular,l),value:e.slug})),value:{label:(0,p.sC)(null==b?void 0:b.labels.singular,l),value:null==b?void 0:b.slug}})]})]})},mb=e=>{let{isInDrawer:t}=sZ();return t?(0,u.jsx)(mv,{...e}):(0,u.jsx)(mg,{...e})},mx=()=>(0,u.jsx)("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})}),my=e=>{let t=(0,d.c)(5),{tabIndex:n}=e,a=void 0===n?0:n,{t:l}=(0,s.d)(),{config:o}=(0,i.b)(),{admin:r,routes:c}=o,{routes:p}=r,{logout:h}=p,{admin:f}=c,m;return t[0]!==f||t[1]!==h||t[2]!==l||t[3]!==a?(m=(0,u.jsx)(eU,{"aria-label":l("authentication:logOut"),className:"".concat("nav","__log-out"),href:(0,g.Q)({adminRoute:f,path:h}),prefetch:!1,tabIndex:a,title:l("authentication:logOut"),children:(0,u.jsx)(mx,{})}),t[0]=f,t[1]=h,t[2]=l,t[3]=a,t[4]=m):m=t[4],m},mw="nav-group",mC=e=>{let t,n=(0,d.c)(21),{children:a,isOpen:l,label:r}=e,[i,s]=(0,o.useState)("u">typeof l&&!l),[c,p]=(0,o.useState)(!1),{setPreference:h}=ap(),{navOpen:f}=hB();if(r){let e;n[0]!==i||n[1]!==r||n[2]!==h?(e=()=>{p(!0);let e={};(null==e?void 0:e[r])?e[r].open=!!i:e[r]={open:!!i},h("nav",{groups:e},!0),s(!i)},n[0]=i,n[1]=r,n[2]=h,n[3]=e):e=n[3];let t=e,l="".concat(r),o=i&&"".concat(mw,"--collapsed"),d;n[4]!==l||n[5]!==o?(d=["".concat(mw),l,o].filter(Boolean),n[4]=l,n[5]=o,n[6]=d):d=n[6];let m=d.join(" "),g="nav-group-".concat(r),v="".concat(mw,"__toggle--").concat(i?"collapsed":"open"),b;n[7]!==v?(b=["".concat(mw,"__toggle"),v].filter(Boolean),n[7]=v,n[8]=b):b=n[8];let x=b.join(" "),y=f?0:-1,w;return n[9]!==c||n[10]!==a||n[11]!==i||n[12]!==r||n[13]!==y||n[14]!==m||n[15]!==g||n[16]!==x||n[17]!==t?(w=(0,u.jsxs)("div",{className:m,id:g,children:[(0,u.jsxs)("button",{className:x,onClick:t,tabIndex:y,type:"button",children:[(0,u.jsx)("div",{className:"".concat(mw,"__label"),children:r}),(0,u.jsx)("div",{className:"".concat(mw,"__indicator"),children:(0,u.jsx)(eW,{className:"".concat(mw,"__indicator"),direction:i?void 0:"up"})})]}),(0,u.jsx)(lV,{duration:200*!!c,height:i?0:"auto",children:(0,u.jsx)("div",{className:"".concat(mw,"__content"),children:a})})]}),n[9]=c,n[10]=a,n[11]=i,n[12]=r,n[13]=y,n[14]=m,n[15]=g,n[16]=x,n[17]=t,n[18]=w):w=n[18],w}return n[19]!==a?(t=(0,u.jsx)(o.Fragment,{children:a}),n[19]=a,n[20]=t):t=n[20],t},mj="per-page",mS=q.NT.admin.pagination.limits,m_=e=>{let t=(0,d.c)(9),{defaultLimit:n,handleChange:a,limit:l,limits:o}=e,r=void 0===o?mS:o,{t:i}=(0,s.d)(),c=(0,_.E)(l)?l:void 0===n?10:n,p;if(t[0]!==a||t[1]!==c||t[2]!==r||t[3]!==i){let e;t[5]!==a||t[6]!==c||t[7]!==r?(e=e=>{let{close:t}=e;return(0,u.jsx)(eQ.ButtonGroup,{children:r.map((e,n)=>(0,u.jsxs)(eQ.Button,{className:["".concat(mj,"__button"),e===c&&"".concat(mj,"__button-active")].filter(Boolean).join(" "),onClick:()=>{t(),a&&a(e)},children:[e===c&&(0,u.jsx)("div",{className:"".concat(mj,"__chevron"),children:(0,u.jsx)(eW,{direction:"right",size:"small"})}),"\xa0",(0,u.jsx)("span",{children:e})]},n))})},t[5]=a,t[6]=c,t[7]=r,t[8]=e):e=t[8],p=(0,u.jsx)("div",{className:mj,children:(0,u.jsx)(ta,{button:(0,u.jsxs)("div",{className:"".concat(mj,"__base-button"),children:[(0,u.jsx)("span",{children:i("general:perPage",{limit:c})}),"\xa0",(0,u.jsx)(eW,{className:"".concat(mj,"__icon")})]}),horizontalAlign:"right",render:e,size:"small"})}),t[0]=a,t[1]=c,t[2]=r,t[3]=i,t[4]=p}else p=t[4];return p},mk=e=>{let{id:t,className:n,prefix:a="ID:"}=e;return(0,u.jsxs)("div",{className:["id-label",n].filter(Boolean).join(" "),title:t,children:[a,"\xa0",function(e){return void 0===e||"number"==typeof e?e:decodeURIComponent(e)}(t)]})},mN="render-title",mE=e=>{let t=(0,d.c)(10),{className:n,element:a,fallback:l,title:r}=e,{id:i,isInitializing:s,title:c}=lf(),p=r||c||l,h=p===i,f=void 0===a?"h1":a,m;if(t[0]!==f||t[1]!==n||t[2]!==i||t[3]!==h||t[4]!==s||t[5]!==p){let e=(0,u.jsx)(o.Fragment,{children:"\xa0"}),a=h&&"".concat(mN,"--has-id"),l;t[7]!==n||t[8]!==a?(l=[n,mN,a].filter(Boolean),t[7]=n,t[8]=a,t[9]=l):l=t[9],m=(0,u.jsx)(f,{className:l.join(" "),title:p,children:s?e:(0,u.jsx)(o.Fragment,{children:h?(0,u.jsx)(mk,{className:"".concat(mN,"__id"),id:i}):p||e})}),t[0]=f,t[1]=n,t[2]=i,t[3]=h,t[4]=s,t[5]=p,t[6]=m}else m=t[6];return m},mP="sort-column",mD=e=>{let t,n,a=(0,d.c)(22),{name:l,appearance:o,disable:r,Label:i,label:c}=e,p=void 0!==r&&r,{handleSortChange:h,query:f}=s1(),{t:m}=(0,s.d)(),{sort:g}=f,v="-".concat(l),b;a[0]!==l||a[1]!==g?(b=["".concat(mP,"__asc")],g===l&&b.push("".concat(mP,"--active")),a[0]=l,a[1]=g,a[2]=b):b=a[2],a[3]!==v||a[4]!==g?(t=["".concat(mP,"__desc")],g===v&&t.push("".concat(mP,"--active")),a[3]=v,a[4]=g,a[5]=t):t=a[5];let x=o&&"".concat(mP,"--appearance-").concat(o),y;a[6]!==x?(y=[mP,x].filter(Boolean),a[6]=x,a[7]=y):y=a[7];let w=y.join(" "),C;return a[8]!==i||a[9]!==c?(C=null!=i?i:(0,u.jsx)(aw,{hideLocale:!0,label:c,unstyled:!0}),a[8]=i,a[9]=c,a[10]=C):C=a[10],a[11]!==l||a[12]!==b||a[13]!==v||a[14]!==t||a[15]!==p||a[16]!==h||a[17]!==c||a[18]!==m||a[19]!==w||a[20]!==C?(n=(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("span",{className:"".concat(mP,"__label"),children:C}),!p&&(0,u.jsxs)("div",{className:"".concat(mP,"__buttons"),children:[(0,u.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:ascending"),label:c}),className:[...b,"".concat(mP,"__button")].filter(Boolean).join(" "),onClick:()=>void h(l),type:"button",children:(0,u.jsx)(eW,{direction:"up"})}),(0,u.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:descending"),label:c}),className:[...t,"".concat(mP,"__button")].filter(Boolean).join(" "),onClick:()=>void h(v),type:"button",children:(0,u.jsx)(eW,{})})]})]}),a[11]=l,a[12]=b,a[13]=v,a[14]=t,a[15]=p,a[16]=h,a[17]=c,a[18]=m,a[19]=w,a[20]=C,a[21]=n):n=a[21],n},mO=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})},mT=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})}),mR="minimize-maximize",mA=e=>{let{className:t,isMinimized:n}=e,a=[mR,n?"".concat(mR,"--minimized"):"".concat(mR,"--maximized"),t].filter(Boolean).join(" ");return(0,u.jsx)("svg",{className:a,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:n?(0,u.jsx)("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):(0,u.jsx)("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})},mL=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),(0,u.jsx)("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),mM=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),(0,u.jsx)("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),mI=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),(0,u.jsx)("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),mF=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),(0,u.jsx)("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),mB=o.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),mz=o.createContext({}),mV=e=>{let t=(0,d.c)(6),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},t[0]=a):a=t[0];let[l,r]=o.useState(a),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{r(t=>{let n={...t};return n[e.key]=e.func,n})},t[1]=i):i=t[1];let s=i,c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{r(t=>{let n={...t};return delete n[e.key],n})},t[2]=c):c=t[2];let p=c,h;return t[3]!==n||t[4]!==l?(h=(0,u.jsx)(mB,{value:{addClientFunction:s,removeClientFunction:p},children:(0,u.jsx)(mz,{value:l,children:n})}),t[3]=n,t[4]=l,t[5]=h):h=t[5],h},mU=(e,t)=>{let n=(0,d.c)(6),{addClientFunction:a,removeClientFunction:l}=o.use(mB),r,i;n[0]!==a||n[1]!==t||n[2]!==e||n[3]!==l?(r=()=>(a({func:t,key:e}),()=>{l({func:t,key:e})}),i=[t,e,a,l],n[0]=a,n[1]=t,n[2]=e,n[3]=l,n[4]=r,n[5]=i):(r=n[4],i=n[5]),o.useEffect(r,i)},mH=()=>o.use(mz),mq="progress-bar",mW=()=>{let e=(0,d.c)(9),{isTransitioning:t,transitionProgress:n}=eF(),[a,l]=o.useState(null),r=(0,o.useRef)(!0),i,s;if(e[0]!==t||e[1]!==n?(i=()=>{let e,a;return t?r.current?a=setTimeout(()=>{l(n),r.current=!1},150):l(n):(r.current=!0,l(1),e=setTimeout(()=>{l(null)},400)),()=>{clearTimeout(e),clearTimeout(a)}},s=[t,n],e[0]=t,e[1]=n,e[2]=i,e[3]=s):(i=e[2],s=e[3]),(0,o.useEffect)(i,s),"number"==typeof a){let t=1===a&&"".concat(mq,"--fade-out"),n;e[4]!==t?(n=[mq,t].filter(Boolean),e[4]=t,e[5]=n):n=e[5];let l=n.join(" "),o;return e[6]!==a||e[7]!==l?(o=(0,u.jsx)("div",{className:l,style:{"--transition-duration":"".concat(200,"ms")},children:(0,u.jsx)("div",{className:"".concat(mq,"__progress"),style:{width:"".concat(100*(a||0),"%")}})}),e[6]=a,e[7]=l,e[8]=o):o=e[8],o}return null},mY=(0,o.createContext)({}),mK=e=>{let t=(0,d.c)(6),{children:n,visibleEntities:a}=e,l;t[0]!==a?(l=e=>{let{collectionSlug:t,globalSlug:n}=e;return t?a.collections.includes(t):!!n&&a.globals.includes(n)},t[0]=a,t[1]=l):l=t[1];let o=l,r;return t[2]!==n||t[3]!==o||t[4]!==a?(r=(0,u.jsx)(mY,{value:{isEntityVisible:o,visibleEntities:a},children:n}),t[2]=n,t[3]=o,t[4]=a,t[5]=r):r=t[5],r},mG=()=>(0,o.use)(mY),mX=(0,o.createContext)({}),mQ=e=>{let t=(0,d.c)(3),{children:n}=e,a=(0,f.useParams)(),l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)(mX,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},m$=()=>(0,o.use)(mX),mZ=(0,o.createContext)({}),mJ=()=>(0,o.useContext)(mZ),m0=(e,t)=>{let{timestamp:n,animationRef:a}=t;a.current=null;let{x:l,y:o,xDirection:r,yDirection:i,eventsFired:s,hasScrolled:c}=e,u=c||!!n,d=u?window.pageXOffset:0,p=u?window.pageYOffset:0,h=d-l,f=p-o,m=d/(document.body.scrollWidth-window.innerWidth)*100,g=p/(document.body.scrollHeight-window.innerHeight)*100;return{x:d,y:p,xDifference:h,yDifference:f,xDirection:h>0?"right":h<0?"left":r,yDirection:f>0?"down":f<0?"up":i,xPercentage:m,yPercentage:g,totalPercentage:(m+g)/2,eventsFired:u?s+1:s,hasScrolled:u}},m1=e=>{let{children:t}=e,n=(0,o.useRef)(null),[a,l]=(0,o.useReducer)(m0,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),r=(0,o.useCallback)(e=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(t=>{l({e:e,timestamp:t,animationRef:n})})},[]);return(0,o.useEffect)(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[r]),o.createElement(mZ.Provider,{value:Object.assign({},a)},t&&t)},{WindowInfoProvider:m2}=e2&&"WindowInfoProvider"in e2?e2:{WindowInfoProvider:void 0},{useWindowInfo:m3}=e2&&"useWindowInfo"in e2?e2:{useWindowInfo:void 0},m6=(0,o.createContext)({searchParams:{},stringifyParams:()=>""}),m5=e=>{let{children:t}=e,n=(0,f.useSearchParams)().toString(),a=o.useMemo(()=>k.q(n,{depth:10,ignoreQueryPrefix:!0}),[n]),l=o.useCallback(e=>{let{params:t,replace:n=!1}=e;return v.A({...n?{}:a,...t},{addQueryPrefix:!0})},[a]);return(0,u.jsx)(m6,{value:{searchParams:a,stringifyParams:l},children:t})},m4=()=>(0,o.use)(m6),m8=()=>(0,u.jsx)(nJ,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:(0,u.jsx)(mL,{}),info:(0,u.jsx)(mM,{}),success:(0,u.jsx)(mI,{}),warning:(0,u.jsx)(mF,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5}),m9=e=>{let{children:t,config:n,dateFNSKey:a,fallbackLang:l,isNavOpen:r,languageCode:c,languageOptions:d,locale:p,permissions:h,serverFunction:f,switchLanguageServerAction:m,theme:g,translations:v,user:b}=e,x="true"===W.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH?h4:o.Fragment;return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(s4,{serverFunction:f,children:(0,u.jsx)(eM,{children:(0,u.jsx)(x,{children:(0,u.jsx)(i.a,{config:n,children:(0,u.jsx)(mV,{children:(0,u.jsx)(s.c,{dateFNSKey:a,fallbackLang:l,language:c,languageOptions:d,switchLanguageServerAction:m,translations:v,children:(0,u.jsx)(m2,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:(0,u.jsx)(m1,{children:(0,u.jsx)(m5,{children:(0,u.jsx)(nL,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:(0,u.jsxs)(ai,{permissions:h,user:b,children:[(0,u.jsx)(ad,{children:(0,u.jsx)(i.g,{theme:g,children:(0,u.jsx)(mQ,{children:(0,u.jsx)(ag,{locale:p,children:(0,u.jsx)(hK,{children:(0,u.jsx)(ci,{children:(0,u.jsx)(dD,{children:(0,u.jsx)(hV,{initialIsOpen:r,children:(0,u.jsx)(uL,{children:t})})})})})})})})}),(0,u.jsx)(nh,{}),(0,u.jsx)(aa,{})]})})})})})})})})})})}),(0,u.jsx)(m8,{})]})};function m7(e){let{className:t,loginWithUsername:n,readOnly:a,t:l}=e,o=!n||(null==n?void 0:n.requireEmail)||(null==n?void 0:n.allowEmailLogin),r=!!n;return(0,u.jsxs)("div",{className:t,children:[o?(0,u.jsx)(sL,{field:{name:"email",admin:{autoComplete:"off"},label:l("general:email"),required:!n||n&&n.requireEmail},path:"email",readOnly:a,schemaPath:"email",validate:F.Rp}):null,r&&(0,u.jsx)(u4,{field:{name:"username",label:l("authentication:username"),required:n&&n.requireUsername},path:"username",readOnly:a,schemaPath:"username",validate:F.Xh})]})}var ge="select-all",gt=()=>{let e=(0,d.c)(7),{selectAll:t,toggleAll:n}=ft(),{i18n:a}=(0,s.d)(),l;if(e[0]!==a||e[1]!==t||e[2]!==n){let o,r;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=[ge,"".concat(ge,"__checkbox")],e[4]=o):o=e[4],e[5]!==n?(r=()=>n(),e[5]=n,e[6]=r):r=e[6],l=(0,u.jsx)(lD,{"aria-label":t===h9.None?a.t("general:selectAllRows"):a.t("general:deselectAllRows"),checked:t===h9.AllInPage||t===h9.AllAvailable,className:o.join(" "),id:"select-all",name:"select-all",onToggle:r,partialChecked:t===h9.Some}),e[0]=a,e[1]=t,e[2]=n,e[3]=l}else l=e[3];return l},gn="select-row",ga=e=>{let t,n,a,l=(0,d.c)(14),{rowData:o}=e,{user:r}=as(),{selected:i,setSelection:s}=ft(),c;l[0]!==o?(c=o||{},l[0]=o,l[1]=c):c=l[1];let{_isLocked:p,_userEditing:h}=c;if(p&&h&&h.id!==(null==r?void 0:r.id)){let e;return l[2]!==h?(e=(0,u.jsx)(fc,{user:h}),l[2]=h,l[3]=e):e=l[3],e}l[4]!==o.id||l[5]!==i?(t=i.get(o.id),l[4]=o.id,l[5]=i,l[6]=t):t=l[6];let f=!!t,m;return l[7]===Symbol.for("react.memo_cache_sentinel")?(m=[gn,"".concat(gn,"__checkbox")],l[7]=m):m=l[7],l[8]!==o.id||l[9]!==s?(n=()=>s(o.id),l[8]=o.id,l[9]=s,l[10]=n):n=l[10],l[11]!==f||l[12]!==n?(a=(0,u.jsx)(lD,{checked:f,className:m.join(" "),onToggle:n}),l[11]=f,l[12]=n,l[13]=a):a=l[13],a},gl=e=>{let{onClick:t}=e,{count:n,selected:a}=ft();return a&&n?(0,u.jsx)(l$,{onClick:()=>{"function"==typeof t&&t(a)},pillStyle:"white",children:"Select ".concat(n)}):null},go="collection-list";function gr(e){var t,n,a;let l,r=(0,d.c)(17),{AfterList:c,AfterListTable:h,beforeActions:m,BeforeList:g,BeforeListTable:v,collectionSlug:b,columnState:x,Description:y,disableBulkDelete:w,disableBulkEdit:C,disableQueryPresets:j,enableRowSelections:S,hasCreatePermission:k,listMenuItems:N,newDocumentURL:E,queryPreset:P,queryPresetPermissions:D,renderedFilters:O,resolvedFilterOptions:T,Table:R}=e,[A,L]=(0,o.useState)(R),{allowCreate:M,createNewDrawerSlug:I,drawerSlug:F,onBulkSelect:B}=sZ(),z=void 0!==M?M&&k:k,V,U;r[0]!==R?(V=()=>{R&&L(R)},U=[R],r[0]=R,r[1]=V,r[2]=U):(V=r[1],U=r[2]),(0,o.useEffect)(V,U);let{user:H}=as(),{getEntityConfig:q}=(0,i.b)(),W=(0,f.useRouter)(),{data:Y,defaultLimit:K,handlePageChange:G,handlePerPageChange:X,query:Q}=s1(),{openModal:$}=t6(),{setCollectionSlug:Z,setCurrentActivePath:J,setOnSuccess:ee}=pv(),{drawerSlug:et}=pv(),en=q({collectionSlug:b}),{labels:ea,upload:eo}=en,er=!!eo,ei=er&&en.upload.bulkUpload,es=!!F,{i18n:ec,t:eu}=(0,s.d)(),{setStepNav:ed}=hW(),{breakpoints:ep}=m3(),{s:eh}=ep,ef;if(er){let e;r[3]!==Y.docs?(e=Y.docs.map(gi),r[3]=Y.docs,r[4]=e):e=r[4],ef=e}else ef=Y.docs;let em=ef,eg;r[5]!==et||r[6]!==b||r[7]!==$||r[8]!==W||r[9]!==Z||r[10]!==J||r[11]!==ee?(eg=()=>{Z(b),J(b),$(et),ee(b,()=>W.refresh())},r[5]=et,r[6]=b,r[7]=$,r[8]=W,r[9]=Z,r[10]=J,r[11]=ee,r[12]=eg):eg=r[12];let ev=eg;return(0,o.useEffect)(()=>{es||ed([{label:null==ea?void 0:ea.plural}])},[ed,ea,es]),r[13]!==m||r[14]!==S||r[15]!==B?(l=S&&"function"==typeof B?m?[...m,(0,u.jsx)(gl,{onClick:B},"select-many")]:[(0,u.jsx)(gl,{onClick:B},"select-many")]:m,r[13]=m,r[14]=S,r[15]=B,r[16]=l):l=r[16],(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(s7,{collectionSlug:b,columnState:x,children:(0,u.jsx)("div",{className:"".concat(go," ").concat(go,"--").concat(b),children:(0,u.jsxs)(fe,{docs:em,totalDocs:Y.totalDocs,user:H,children:[g,(0,u.jsxs)(n1,{className:"".concat(go,"__wrap"),children:[(0,u.jsx)(mb,{collectionConfig:en,Description:(0,u.jsx)("div",{className:"".concat(go,"__sub-header"),children:(0,u.jsx)(el,{CustomComponent:y,Fallback:(0,u.jsx)(hw,{collectionSlug:b,description:null==en||null==(t=en.admin)?void 0:t.description})})}),disableBulkDelete:w,disableBulkEdit:C,hasCreatePermission:z,i18n:ec,isBulkUploadEnabled:ei&&!eo.hideFileInputOnCreate,newDocumentURL:E,openBulkUpload:ev,smallBreak:eh,t:eu}),(0,u.jsx)(mc,{beforeActions:l,collectionConfig:en,collectionSlug:b,disableQueryPresets:(null==en?void 0:en.enableQueryPresets)!==!0||j,listMenuItems:N,queryPreset:P,queryPresetPermissions:D,renderedFilters:O,resolvedFilterOptions:T}),v,em.length>0&&(0,u.jsx)(ck,{children:A}),0===em.length&&(0,u.jsxs)("div",{className:"".concat(go,"__no-results"),children:[(0,u.jsx)("p",{children:ec.t("general:noResults",{label:(0,p.sC)(null==ea?void 0:ea.plural,ec)})}),z&&E&&(0,u.jsx)(o.Fragment,{children:es?(0,u.jsx)(ti,{el:"button",onClick:()=>$(I),children:ec.t("general:createNewLabel",{label:(0,p.sC)(null==ea?void 0:ea.singular,ec)})}):(0,u.jsx)(ti,{el:"link",to:E,children:ec.t("general:createNewLabel",{label:(0,p.sC)(null==ea?void 0:ea.singular,ec)})})})]}),h,em.length>0&&(0,u.jsxs)("div",{className:"".concat(go,"__page-controls"),children:[(0,u.jsx)(cJ,{hasNextPage:Y.hasNextPage,hasPrevPage:Y.hasPrevPage,limit:Y.limit,nextPage:Y.nextPage,numberOfNeighbors:1,onChange:e=>void G(e),page:Y.page,prevPage:Y.prevPage,totalPages:Y.totalPages}),Y.totalDocs>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(go,"__page-info"),children:[Y.page*Y.limit-(Y.limit-1),"-",Y.totalPages>1&&Y.totalPages!==Y.page?Y.limit*Y.page:Y.totalDocs," ",ec.t("general:of")," ",Y.totalDocs]}),(0,u.jsx)(m_,{handleChange:e=>void X(e),limit:(0,_.E)(null==Q?void 0:Q.limit)?Number(Q.limit):K,limits:null==en||null==(a=en.admin)||null==(n=a.pagination)?void 0:n.limits,resetPage:Y.totalDocs<=Y.pagingCounter}),eh&&(0,u.jsxs)("div",{className:"".concat(go,"__list-selection"),children:[(0,u.jsx)(mh,{collectionConfig:en,disableBulkDelete:w,disableBulkEdit:C,label:(0,p.sC)(en.labels.plural,ec)}),(0,u.jsx)("div",{className:"".concat(go,"__list-selection-actions"),children:S&&"function"==typeof B?m?[...m,(0,u.jsx)(gl,{onClick:B},"select-many")]:[(0,u.jsx)(gl,{onClick:B},"select-many")]:m})]})]})]})]}),c]})})})})}function gi(e){return{...e,filesize:(0,I.B)(e.filesize)}}var gs=e=>{let t=(0,d.c)(7),{drawerSlug:n}=e,{closeModal:a}=t6(),{t:l}=(0,s.d)(),o;if(t[0]!==a||t[1]!==n||t[2]!==l){let e;t[4]!==a||t[5]!==n?(e=()=>a(n),t[4]=a,t[5]=n,t[6]=e):e=t[6],o=(0,u.jsxs)(n1,{className:"".concat(cx,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(cx,"__header-content"),children:[(0,u.jsx)("h2",{className:"".concat(cx,"__header-text"),children:(0,u.jsx)(mE,{element:"span"})}),(0,u.jsx)("button",{"aria-label":l("general:close"),className:"".concat(cx,"__header-close"),onClick:e,type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsx)(gc,{})]}),t[0]=a,t[1]=n,t[2]=l,t[3]=o}else o=t[3];return o},gc=()=>{let e=(0,d.c)(3),{id:t,title:n}=lf(),a;return e[0]!==t||e[1]!==n?(a=t&&t!==n?(0,u.jsx)(mk,{id:t.toString()}):null,e[0]=t,e[1]=n,e[2]=a):a=e[2],a},gu=e=>{let{adminRoute:t,router:n}=e,a=(0,g.Q)({adminRoute:t,path:"/"});n.push(a)},gd=e=>{let{adminRoute:t,collectionSlug:n,router:a}=e,l=(0,g.Q)({adminRoute:t,path:n?"/collections/".concat(n):"/"});a.push(l)},gp=(e,t,n,a,l,o,r,i,s,c)=>{if(s)try{var u;o(e,null!=t?t:n,a),l||(i.current.hasShownLockedModal=!0),i.current={hasShownLockedModal:null==(u=i.current)?void 0:u.hasShownLockedModal,isLocked:!0,user:a},r(a),l&&c&&c(!1)}catch(e){console.error("Error during document takeover:",e)}},gh=e=>{var t,n;let{enabled:a,readOnly:l}=e,[r]=(0,o.useState)(l4()),[c,d]=(0,o.useState)(!1),{i18n:h,t:f}=(0,s.d)(),{config:m,getEntityConfig:g}=(0,i.b)(),{collectionSlug:v}=lf(),b=eD(e=>{let[t]=e;return t&&t.apiKey||null}),x=null==(n=g({collectionSlug:v}))||null==(t=n.fields)?void 0:t.find(e=>"name"in e&&"apiKey"===e.name),y=null==b?void 0:b.value,w=(0,o.useMemo)(()=>{let e="API Key";return(null==x?void 0:x.label)&&(e=x.label),(0,p.sC)(e,h)},[x,h]),C=(0,o.useMemo)(()=>(0,u.jsxs)("div",{className:"".concat("api-key","__label"),children:[(0,u.jsx)("span",{children:w}),(0,u.jsx)(dQ,{value:y})]}),[w,y]),{setValue:j,value:S}=ly({path:"apiKey",validate:e=>(0,F.Qq)(e,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:m},t:f},siblingData:{}})});return(0,o.useEffect)(()=>{!y&&a&&j(r),!a&&y&&j(null)},[y,a,j,r]),(0,o.useEffect)(()=>{c&&setTimeout(()=>{d(!1)},1e4)},[c]),a?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:["field-type","api-key","read-only"].filter(Boolean).join(" "),children:[C,(0,u.jsx)("input",{"aria-label":w,className:c?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:"text",value:S||""})]}),!l&&(0,u.jsx)(fA,{highlightField:()=>{c&&d(!1),setTimeout(()=>{d(!0)},1)},setKey:()=>j(l4())})]}):null},gf="auth-fields",gm=e=>{var t,n;let a,l=(0,d.c)(57),{className:r,collectionSlug:c,disableLocalStrategy:p,email:h,loginWithUsername:f,operation:m,readOnly:g,requirePassword:v,setValidateBeforeSubmit:b,useAPIKey:x,username:y,verify:w}=e,{permissions:C}=as(),[j,S]=(0,o.useState)(v),_=eD(gg),k=eD(gv),N=eE(),{i18n:E,t:P}=(0,s.d)(),{docPermissions:D,isEditing:O,isInitializing:T}=lf(),{config:R}=(0,i.b)(),{routes:A,serverURL:L}=R,{api:M}=A,I=!p||"object"==typeof p&&!0===p.enableFields,F=g||T,B=(null==D?void 0:D.fields)===!0||(null==D||null==(t=D.fields)?void 0:t.enableAPIKey),z=g||!0===B||B&&"object"==typeof B&&!(null==B?void 0:B.update),V=g||!0!==B&&!(null==B?void 0:B.update),U=!0===B||(null==B?void 0:B.read),H;e:{let e=null==C||null==(n=C.collections)?void 0:n[c];if(e){H=!!("unlock"in e&&e.unlock);break e}H=!1}let q=H,W;l[0]!==k||l[1]!==b||l[2]!==P?(W=e=>{e?(b(!0),k({type:"UPDATE",errorMessage:P("validation:required"),path:"password",valid:!1}),k({type:"UPDATE",errorMessage:P("validation:required"),path:"confirm-password",valid:!1})):(b(!1),k({type:"REMOVE",path:"password"}),k({type:"REMOVE",path:"confirm-password"})),S(e)},l[0]=k,l[1]=b,l[2]=P,l[3]=W):W=l[3];let Y=W,K;l[4]!==M||l[5]!==c||l[6]!==h||l[7]!==E.language||l[8]!==f||l[9]!==L||l[10]!==P||l[11]!==y?(K=async()=>{let e="".concat(L).concat(M,"/").concat(c,"/unlock");200===(await fetch(e,{body:JSON.stringify(f&&y?{username:y}:{email:h}),credentials:"include",headers:{"Accept-Language":E.language,"Content-Type":"application/json"},method:"post"})).status?nG.success(P("authentication:successfullyUnlocked")):nG.error(P("authentication:failedToUnlock"))},l[4]=M,l[5]=c,l[6]=h,l[7]=E.language,l[8]=f,l[9]=L,l[10]=P,l[11]=y,l[12]=K):K=l[12];let G=K,X,Q;if(l[13]!==N?(X=()=>{N||S(!1)},Q=[N],l[13]=N,l[14]=X,l[15]=Q):(X=l[14],Q=l[15]),(0,o.useEffect)(X,Q),p&&!I&&!x)return null;l[16]!==r?(a=[gf,r].filter(Boolean),l[16]=r,l[17]=a):a=l[17];let $=a.join(" "),Z;if(l[18]!==z||l[19]!==U||l[20]!==j||l[21]!==c||l[22]!==p||l[23]!==F||l[24]!==(null==D?void 0:D.fields)||l[25]!==(null==_?void 0:_.value)||l[26]!==V||l[27]!==I||l[28]!==Y||l[29]!==q||l[30]!==O||l[31]!==f||l[32]!==m||l[33]!==g||l[34]!==v||l[35]!==P||l[36]!==$||l[37]!==G||l[38]!==x||l[39]!==w){let e,t;l[41]!==z||l[42]!==U||l[43]!==c||l[44]!==F||l[45]!==(null==_?void 0:_.value)||l[46]!==V||l[47]!==P||l[48]!==x?(e=x&&(0,u.jsx)("div",{className:"".concat(gf,"__api-key"),children:U&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(lT,{field:{name:"enableAPIKey",admin:{disabled:F,readOnly:V},label:P("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:"".concat(c,".enableAPIKey")}),(0,u.jsx)(gh,{enabled:!!(null==_?void 0:_.value),readOnly:z})]})}),l[41]=z,l[42]=U,l[43]=c,l[44]=F,l[45]=null==_?void 0:_.value,l[46]=V,l[47]=P,l[48]=x,l[49]=e):e=l[49],l[50]!==c||l[51]!==F||l[52]!==O||l[53]!==g||l[54]!==P||l[55]!==w?(t=w&&O&&(0,u.jsx)(lT,{field:{name:"_verified",admin:{disabled:F,readOnly:g},label:P("authentication:verified")},path:"_verified",schemaPath:"".concat(c,"._verified")}),l[50]=c,l[51]=F,l[52]=O,l[53]=g,l[54]=P,l[55]=w,l[56]=t):t=l[56],Z=(0,u.jsxs)("div",{className:$,children:[I&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(m7,{loginWithUsername:f,operation:m,permissions:null==D?void 0:D.fields,readOnly:g,t:P}),(j||v)&&(!p||!I)&&(0,u.jsxs)("div",{className:"".concat(gf,"__changing-password"),children:[(0,u.jsx)(pG,{autoComplete:"new-password",field:{name:"password",label:P("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),(0,u.jsx)(pW,{disabled:g})]}),(0,u.jsxs)("div",{className:"".concat(gf,"__controls"),children:[j&&!v&&(0,u.jsx)(ti,{buttonStyle:"secondary",disabled:F,onClick:()=>Y(!1),size:"medium",children:P("general:cancel")}),!j&&!v&&!p&&(0,u.jsx)(ti,{buttonStyle:"secondary",disabled:F,id:"change-password",onClick:()=>Y(!0),size:"medium",children:P("authentication:changePassword")}),"update"===m&&q&&(0,u.jsx)(ti,{buttonStyle:"secondary",disabled:F,onClick:()=>void G(),size:"medium",children:P("authentication:forceUnlock")})]})]}),e,t]}),l[18]=z,l[19]=U,l[20]=j,l[21]=c,l[22]=p,l[23]=F,l[24]=null==D?void 0:D.fields,l[25]=null==_?void 0:_.value,l[26]=V,l[27]=I,l[28]=Y,l[29]=q,l[30]=O,l[31]=f,l[32]=m,l[33]=g,l[34]=v,l[35]=P,l[36]=$,l[37]=G,l[38]=x,l[39]=w,l[40]=Z}else Z=l[40];return Z};function gg(e){let[t]=e;return t&&(null==t?void 0:t.enableAPIKey)||null}function gv(e){return e[1]}var gb=e=>{let t=(0,d.c)(20),{id:n,collectionSlug:a,globalSlug:l,pluralLabel:r,useAsTitle:c}=e,u=(null==e?void 0:e.view)||void 0,{isEditing:h,isInitializing:f,title:m}=lf(),{isEntityVisible:v}=mG(),b;t[0]!==a||t[1]!==l||t[2]!==v?(b=v({collectionSlug:a,globalSlug:l}),t[0]=a,t[1]=l,t[2]=v,t[3]=b):b=t[3];let x=b,{setStepNav:y}=hW(),{i18n:w,t:C}=(0,s.d)(),{config:j}=(0,i.b)(),{routes:S}=j,{admin:_}=S,k,N;return t[4]!==_||t[5]!==a||t[6]!==l||t[7]!==w||t[8]!==n||t[9]!==h||t[10]!==f||t[11]!==x||t[12]!==r||t[13]!==y||t[14]!==C||t[15]!==m||t[16]!==c||t[17]!==u?(k=()=>{let e=[];f||(a?(e.push({label:(0,p.sC)(r,w),url:x?(0,g.Q)({adminRoute:_,path:"/collections/".concat(a)}):void 0}),h?e.push({label:c&&"id"!==c&&m||"".concat(n),url:x?(0,g.Q)({adminRoute:_,path:"/collections/".concat(a,"/").concat(n)}):void 0}):e.push({label:C("general:createNew")})):l&&e.push({label:m,url:x?(0,g.Q)({adminRoute:_,path:"/globals/".concat(l)}):void 0}),u&&e.push({label:u}),y(e))},N=[y,f,h,r,n,c,_,C,w,m,a,l,u,x],t[4]=_,t[5]=a,t[6]=l,t[7]=w,t[8]=n,t[9]=h,t[10]=f,t[11]=x,t[12]=r,t[13]=y,t[14]=C,t[15]=m,t[16]=c,t[17]=u,t[18]=k,t[19]=N):(k=t[18],N=t[19]),(0,o.useEffect)(k,N),null},gx=e=>{var t,n;let a=(0,d.c)(13),{collectionConfig:l,config:r,fallback:i,globalConfig:c}=e,u=null==l||null==(t=l.admin)?void 0:t.useAsTitle,p;a[0]!==u?(p=e=>{let[t]=e;return u&&t&&(null==t?void 0:t[u])||null},a[0]=u,a[1]=p):p=a[1];let h=eD(p),f=(0,o.useRef)(!1),{i18n:m}=(0,s.d)(),{setDocumentTitle:g}=lf(),v=null==r||null==(n=r.admin)?void 0:n.dateFormat,b;a[2]!==l||a[3]!==v||a[4]!==i||a[5]!==h||a[6]!==c||a[7]!==m?(b=lr({collectionConfig:l,data:{id:""},dateFormat:v,fallback:"string"==typeof h?h:"number"==typeof h?String(h):(null==h?void 0:h.value)||i,globalConfig:c,i18n:m}),a[2]=l,a[3]=v,a[4]=i,a[5]=h,a[6]=c,a[7]=m,a[8]=b):b=a[8];let x=b,y,w;return a[9]!==g||a[10]!==x?(y=()=>{if(!f.current){f.current=!0;return}g(x)},w=[g,x],a[9]=g,a[10]=x,a[11]=y,a[12]=w):(y=a[11],w=a[12]),(0,o.useEffect)(y,w),null},gy="collection-edit";function gw(e){var t,n,a,l,r,s,c,d,p,h;let{Description:m,PreviewButton:v,PublishButton:b,SaveButton:x,SaveDraftButton:y,Upload:w}=e,{id:C,action:j,AfterDocument:S,AfterFields:_,apiURL:k,BeforeFields:N,collectionSlug:E,currentEditor:P,disableActions:D,disableCreate:O,disableLeaveWithoutSaving:T,docPermissions:R,documentIsLocked:A,getDocPermissions:L,getDocPreferences:M,globalSlug:I,hasPublishPermission:F,hasSavePermission:B,incrementVersionCount:z,initialState:V,isEditing:U,isInitializing:H,lastUpdateTime:q,redirectAfterCreate:W,redirectAfterDelete:Y,redirectAfterDuplicate:K,savedDocumentData:G,setCurrentEditor:X,setDocumentIsLocked:Q,unlockDocument:$,updateDocumentEditor:Z,updateSavedDocumentData:J}=lf(),{clearDoc:ee,drawerSlug:et,onDelete:en,onDuplicate:ea,onSave:el}=cv(),eo=!!et,{refreshCookieAsync:er,user:ei}=as(),{config:es,config:{admin:{user:ec},routes:{admin:eu}},getEntityConfig:ed}=(0,i.b)(),ep=ed({collectionSlug:E}),eh=ed({globalSlug:I}),ef=tF(),em=(0,f.useRouter)(),eg=(0,f.useSearchParams)(),{reportUpdate:ev}=dO(),{resetUploadEdits:eb}=lc(),{getFormState:ex}=s5(),{startRouteTransition:ey}=eF(),ew=(0,o.useRef)(null),eC=(0,o.useRef)(null),ej=eg.get("locale"),eS=(null==ep?void 0:ep.slug)||(null==eh?void 0:eh.slug),e_=E&&!C?"create":"update",ek=ep?ep.auth:void 0,eN=ep?ep.upload:void 0,eE=ep||eh,eP=(null==eE?void 0:eE.lockDocuments)===void 0||(null==eE?void 0:eE.lockDocuments),eD=!1!==eP,eO=("object"==typeof eP?eP.duration:300)*1e3,eT=!!((null==ep||null==(t=ep.versions)?void 0:t.drafts)&&(null==ep||null==(a=ep.versions)||null==(n=a.drafts)?void 0:n.autosave)||(null==eh||null==(l=eh.versions)?void 0:l.drafts)&&(null==eh||null==(s=eh.versions)||null==(r=s.drafts)?void 0:r.autosave)),eR="u">typeof T?!T:!eT,[eA,eL]=(0,o.useState)(!1),[eM,eI]=(0,o.useState)(!1),[eB,ez]=(0,o.useState)(Date.now()),eV=q+eO,eU=Date.now()>eV,eH=(0,o.useRef)({hasShownLockedModal:!1,isLocked:!1,user:null}),eq=[gy,(C||I)&&"".concat(gy,"--is-editing")];I&&eq.push("global-edit--".concat(I)),E&&eq.push("collection-edit--".concat(E));let eW=(0,o.useMemo)(()=>[eS],[eS]),[eY,eK]=(0,o.useState)(()=>!!("create"===e_&&ek&&!ek.disableLocalStrategy)),eG=(0,o.useCallback)(e=>{var t,n,a,l,o;Q(!0);let r="object"==typeof(null==(t=eH.current)?void 0:t.user)?null==(a=eH.current)||null==(n=a.user)?void 0:n.id:null==(l=eH.current)?void 0:l.user;if(e){let t="string"==typeof e.user||"number"==typeof e.user?e.user:e.user.id;eH.current&&t===r||(r===ei.id&&t!==ei.id&&(eI(!0),eH.current.hasShownLockedModal=!0),eH.current={hasShownLockedModal:(null==(o=eH.current)?void 0:o.hasShownLockedModal)||!1,isLocked:!0,user:e.user},X(e.user))}},[X,Q,null==ei?void 0:ei.id]),eX=(0,o.useCallback)(async e=>{let t=cf(eC),n=(null==e?void 0:e.doc)||(null==e?void 0:e.result);if(ev({id:C,entitySlug:eS,updatedAt:(null==n?void 0:n.updatedAt)||new Date().toISOString()}),ei&&E===ec&&C===ei.id&&er(),z(),"function"==typeof J&&J(n||{}),"function"==typeof el){let t=C?"update":"create";el({...e,operation:t,updatedAt:"update"===t?new Date().toISOString():(null==n?void 0:n.updatedAt)||new Date().toISOString()})}if(!U&&ef<2&&!1!==W){let e=(0,g.Q)({adminRoute:eu,path:"/collections/".concat(E,"/").concat(null==n?void 0:n.id).concat(ej?"?locale=".concat(ej):"")});ey(()=>em.push(e))}else eb();if(await L(e),(C||I)&&!eT){let e=await M(),{state:a}=await ex({id:C,collectionSlug:E,data:n,docPermissions:R,docPreferences:e,globalSlug:I,operation:e_,renderAllFields:!0,returnLockStatus:!1,schemaPath:eW.join("."),signal:t.signal,skipValidation:!0});return eD&&Q(!1),eC.current=null,a}},[ev,C,eS,ei,E,ec,z,J,el,U,ef,L,I,eT,er,eu,ej,em,eb,M,ex,R,e_,eW,eD,Q,ey]),eQ=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cf(ew),l=Date.now(),o=l-eB,r=eD&&o>=1e4;r&&ez(l);let i=await M(),{lockedState:s,state:c}=await ex({id:C,collectionSlug:E,docPermissions:R,docPreferences:i,formState:t,globalSlug:I,operation:e_,skipValidation:!n,renderAllFields:!1,returnLockStatus:eD,schemaPath:eW.join("."),signal:a.signal,updateLastEdited:r});return eD&&eG(s),ew.current=null,c},[C,E,M,ex,I,eG,eD,e_,eW,R,eB]);(0,o.useEffect)(()=>()=>{var e,t,n,a;eD&&A&&(C||I)&&!["preview","api","versions"].some(e=>window.location.pathname.includes(e))&&("object"==typeof(null==(e=eH.current)?void 0:e.user)?(null==(n=eH.current)||null==(t=n.user)?void 0:t.id)===(null==ei?void 0:ei.id):(null==(a=eH.current)?void 0:a.user)===(null==ei?void 0:ei.id))&&($(C,null!=E?E:I),Q(!1),X(null)),eI(!1)},[E,I,C,$,ei,X,eD,A,Q]),(0,o.useEffect)(()=>{let e=ew.current,t=eC.current;return()=>{ch(e),ch(t)}},[]);let e$=A&&P&&("object"==typeof P?P.id!==(null==ei?void 0:ei.id):P!==(null==ei?void 0:ei.id))&&!eA&&!eM&&!(null==(c=eH.current)?void 0:c.hasShownLockedModal)&&!eU;return(0,u.jsx)("main",{className:eq.filter(Boolean).join(" "),children:(0,u.jsx)(lb,{operation:e_,children:(0,u.jsxs)(uK,{action:j,className:"".concat(gy,"__form"),disabled:eA||H||!B,disableValidationOnSubmit:!eY,initialState:!H&&V,isDocumentForm:!0,isInitializing:H,method:C?"PATCH":"POST",onChange:[eQ],onSuccess:eX,children:[eo&&(0,u.jsx)(gs,{drawerSlug:et}),eD&&e$&&!eA&&(0,u.jsx)(hb,{handleGoBack:()=>gd({adminRoute:eu,collectionSlug:E,router:em}),isActive:e$,onReadOnly:()=>{eL(!0),eI(!1)},onTakeOver:()=>gp(C,E,I,ei,!1,Z,X,eH,eD),updatedAt:q,user:P}),eD&&eM&&(0,u.jsx)(hh,{handleBackToDashboard:()=>gu({adminRoute:eu,router:em}),isActive:eM,onReadOnly:()=>{eL(!0),eI(!1)}}),!eA&&eR&&(0,u.jsx)(hu,{}),!eo&&(0,u.jsx)(gb,{collectionSlug:null==ep?void 0:ep.slug,globalSlug:null==eh?void 0:eh.slug,id:C,pluralLabel:null==ep||null==(d=ep.labels)?void 0:d.plural,useAsTitle:null==ep||null==(p=ep.admin)?void 0:p.useAsTitle}),(0,u.jsx)(gx,{collectionConfig:ep,config:es,fallback:ef<=1?null==C?void 0:C.toString():void 0,globalConfig:eh}),(0,u.jsx)(fk,{apiURL:k,customComponents:{PreviewButton:v,PublishButton:b,SaveButton:x,SaveDraftButton:y},data:G,disableActions:D,disableCreate:O,hasPublishPermission:F,hasSavePermission:B,id:C,isEditing:U,onDelete:en,onDrawerCreateNew:ee,onDuplicate:ea,onSave:eX,onTakeOver:()=>gp(C,E,I,ei,!0,Z,X,eH,eD,eL),permissions:R,readOnlyForIncomingUser:eA,redirectAfterDelete:Y,redirectAfterDuplicate:K,slug:(null==ep?void 0:ep.slug)||(null==eh?void 0:eh.slug),user:P}),(0,u.jsx)(dR,{AfterFields:_,BeforeFields:N||(0,u.jsxs)(o.Fragment,{children:[ek&&(0,u.jsx)(gm,{className:"".concat(gy,"__auth"),collectionSlug:ep.slug,disableLocalStrategy:null==(h=ep.auth)?void 0:h.disableLocalStrategy,email:null==G?void 0:G.email,loginWithUsername:null==ek?void 0:ek.loginWithUsername,operation:e_,readOnly:!B,requirePassword:!C,setValidateBeforeSubmit:eK,useAPIKey:ek.useAPIKey,username:null==G?void 0:G.username,verify:ek.verify}),eN&&(0,u.jsx)(o.Fragment,{children:w||(0,u.jsx)(pt,{collectionSlug:ep.slug,initialState:V,uploadConfig:eN})})]}),Description:m,docPermissions:R,fields:eE.fields,readOnly:eA||!B,schemaPathSegments:eW}),S]})})})}var gC=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"field-diff-label",children:t})}}}]);